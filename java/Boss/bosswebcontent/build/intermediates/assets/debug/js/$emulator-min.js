/* [Copyright (c) 2015 Workshop 12 Inc.] $emulator VERSION: 1.0.0.4028*/

function $ui_RegisterRootExtensions(){$ui.addExtension(new UIExtension("List",$ui_List)),def={SpinnerColor:{LIGHT:"light",DARK:"dark"}},$ui.addExtension(new UIExtension("Spinner",$ui_Spinner,void 0,def)),def={ProviderError:{OFFLINE:-1,INVALID_JSON:-2,TIMEOUT:-3,ACCESS_DENIED:-4,NOT_FOUND:-5}},$ui.addExtension(new UIExtension("DataProvider",$ui_DataProvider,$ui.UIExtensionType.ATTACHED_OBJECT,def))}function FastClick(t,e){"use strict";function i(t,e){return function(){return t.apply(e,arguments)}}var o;e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,FastClick.notNeeded(t)||(deviceIsAndroid&&(t.addEventListener("mouseover",i(this.onMouse,this),!0),t.addEventListener("mousedown",i(this.onMouse,this),!0),t.addEventListener("mouseup",i(this.onMouse,this),!0)),t.addEventListener("click",i(this.onClick,this),!0),t.addEventListener("touchstart",i(this.onTouchStart,this),!1),t.addEventListener("touchmove",i(this.onTouchMove,this),!1),t.addEventListener("touchend",i(this.onTouchEnd,this),!1),t.addEventListener("touchcancel",i(this.onTouchCancel,this),!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,o){var n=Node.prototype.removeEventListener;"click"===e?n.call(t,e,i.hijacked||i,o):n.call(t,e,i,o)},t.addEventListener=function(e,i,o){var n=Node.prototype.addEventListener;"click"===e?n.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),o):n.call(t,e,i,o)}),"function"==typeof t.onclick&&(o=t.onclick,t.addEventListener("click",function(t){o(t)},!1),t.onclick=null))}function $ui_CoreComponent(t,e){try{if(t){if(this.object=t,t._protected={model:t},t.dom=document.createElement("div"),t.dom.model=t,$ui.addClass(t.dom,"ui-core-component"),t.id&&t.dom.setAttribute("data-id",t.id),t._protected.component=t.component,Object.defineProperty(t,"component",{get:function(){return this._protected.component},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","component"))},configurable:!1}),void 0!=e&&(t.screen=e,e.children.push(t),t.id)){if(void 0!=e[t.id]){var i='WARNING: You have used a non-unique id: "'+t.id+'"';void 0!=e.id&&(i=i+' on screen "'+e.id+'"'),console.log(i)}e[t.id]=t}if(t._protected.screen=t.screen,Object.defineProperty(t,"screen",{get:function(){return this._protected.screen},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","screen"))},configurable:!1}),t._protected.id=t.id,Object.defineProperty(t,"id",{get:function(){return this._protected.id},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","id"))},configurable:!1}),0!=t.enabled?t.enabled=!0:$ui.addClass(t.dom,"disabled"),t._protected.enabled=t.enabled,Object.defineProperty(t,"enabled",{get:function(){return this._protected.enabled},set:function(t){t!=this._protected.enabled&&(this._protected.enabled&&0==t?(this._protected.enabled=!1,$ui.addClass(this.dom,"disabled")):0==this._protected.enabled&&1==t&&(this._protected.enabled=!0,$ui.removeClass(this.dom,"disabled")),this._setEnabled&&this._setEnabled(t))},configurable:!1}),1==t.animated?$ui.addClass(t.dom,"animated"):t.animated=!1,t._protected.animated=t.animated,Object.defineProperty(t,"animated",{get:function(){return this._protected.animated},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","animated"))},configurable:!1}),void 0!=t.visible&&0==t.visible?t.dom.style.display="none":t.visible=!0,t._protected.visible=t.visible,Object.defineProperty(t,"visible",{get:function(){return this._protected.visible},set:function(t){t!=this._protected.visible&&(1==t?(this._protected.visible=!0,void 0!=this.dom&&(this.dom.style.display="")):(this._protected.visible=!1,void 0!=this.dom&&(this.dom.style.display="none")),this._setVisible&&this._setVisible(t))},configurable:!1}),t.attachedObjects){var o,n,s,a,r,d=void 0!=t.screen?t.screen:t;for(o=0;t.attachedObjects.length>o;o++){if(s=t.attachedObjects[o],void 0==s)throw'CoreComponent.attachedObject: "control" is not defined';if(void 0==d)throw'CoreComponent.attachedObject: "screen" is not defined';for(n=0;$ui._protected.definitions.length>n;n++)if(a=$ui._protected.definitions[n],a.type==$ui.UIExtensionType.ATTACHED_OBJECT&&a.component==s.component){r=new a.constructor(s,t,d);break}r instanceof HTMLElement&&t.dom.appendChild(r)}}else t.attachedObjects=[];t._protected.attachedObjects=t.attachedObjects,Object.defineProperty(t,"attachedObjects",{get:function(){return this._protected.attachedObjects},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","attachedObjects"))},configurable:!1}),t._raiseInteractionEvent=function(t){var e=new InteractionEvent(this.screen.id,this.id,t,this.component);$ui._raiseInteractionEvent(e)}.$bind(t),t._scrollIntoView=function(){var t=20,e=this.dom.getBoundingClientRect(),i=this.dom.parentNode;return this._scrollIterationCounter=this._scrollIterationCounter+1,e.top==i.offsetTop||e.bottom<i.offsetTop+i.offsetHeight&&e.top>i.offsetTop?void 0:(e.top>i.offsetTop?(t>e.top-i.offsetTop&&(t=1),i.scrollTop=i.scrollTop+t):(t>i.offsetTop-e.top&&(t=1),i.scrollTop=i.scrollTop-t),this._scrollIterationCounter>100?(console.log("fail safe scroll counter exceeded"),void 0):(requestAnimationFrame(this._scrollIntoView),void 0))}.$bind(t),t.scrollIntoView=function(){this.dom&&(this._scrollIterationCounter=0,requestAnimationFrame(this._scrollIntoView))}.$bind(t),t.destroy=function(){t._destroy&&t._destroy(),void 0!=this.provider&&void 0!=this.provider.id&&window.removeEventListener(this.screen.guid+"-"+this.provider.id+"-updated",this._providerRefresh,!1),void 0!=this.id&&this.id.length>0&&(this.screen[this.id]=void 0);var e,i;if(this.attachedObjects&&this.attachedObjects.length>0)for(e=0;this.attachedObjects.length>e;e++)i=this.attachedObjects[e],i._destroy&&i._destroy();this.dom=void 0}.$bind(t),t._providerRefresh=function(){var t=this.screen[this.provider.id];if(void 0!=t)if(void 0!=t.data){var e,i=this.provider.property.split("."),o=t.data,n=!0;for(e=0;i.length>e;e++)if(o=o[i[e]],void 0==o){n=!1;break}if(n)return this._providerUpdate&&this._providerUpdate(o),void 0;this._providerUpdate&&this._providerUpdate(void 0)}else this._providerUpdate&&this._providerUpdate(void 0)}.$bind(t),t._remove=function(){if(this._onremove&&this._onremove(),this.dom&&this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.screen){var t=this.screen.children.indexOf(this);t>=0&&this.screen.children.splice(t,1)}this.destroy()}.$bind(t),t._updateData=function(t){var e=void 0==this.provider?void 0:this.screen[this.provider.id];if(void 0!=e&&(e._propertyUpdated(this.provider.property,t),void 0!=e.data)){var i,o,n=this.provider.property.split("."),s=e.data;for(i=0;n.length>i&&(o=s[n[i]],!(void 0==o&&n.length-1>i));i++){if(i==n.length-1){s[n[i]]=t;break}s=o}}}.$bind(t),void 0!=t.provider&&void 0!=t.provider.id&&(window.addEventListener(t.screen.guid+"-"+t.provider.id+"-updated",t._providerRefresh,!1),t._providerRefresh()),t._protected.provider=t.provider,Object.defineProperty(t,"provider",{get:function(){return this._protected.provider},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","provider"))},configurable:!1})}}catch(l){console.log("RPW error in core component: "+l)}}function $ui_CoreContainerComponent(t,e){return $ui_CoreComponent.call(this,t,e),t?(void 0==t.modified&&(t.modified=!1),t._protected.modified=t.modified,Object.defineProperty(t,"modified",{get:function(){return this._protected.modified},set:function(t){if(void 0==t&&(t=!1),this._protected.modified=t,void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;if(0==t){var e,i,o=this._getControlListProperty();for(e=0;o.length>e;e++)i=o[e],i.modified=t}this._onmodified&&this._onmodified()},configurable:!1}),t.validate=function(){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),!1;var t,e,i=this._getControlListProperty(),o=!0;for(t=0;i.length>t;t++)e=i[t],e.validate&&0==e.validate()&&(o=!1);return this._onvalidate&&this._onvalidate(o),o}.$bind(t),t._cascadeVisibility=function(){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var t,e,i=this._getControlListProperty();for(t=0;i.length>t;t++)e=i[t],e._cascadeVisibility?e._cascadeVisibility():e._onshow&&e._onshow();this._oncascadevisibility&&this._oncascadevisibility()}.$bind(t),t._addComponent=function(t){if(void 0!=t){if(void 0==this._getControlListDom)return console.log("ERROR: _getControlListDom not defined for CoreContainerComponent"),void 0;var e=this._getControlListDom();if(void 0==e)return console.log("ERROR: _getControlListDom did not return a valid DOM element"),void 0;void 0!=this.modified&&(t.modified=this.modified),$ui.createControl(t,this.screen),t.dom&&e.appendChild(t.dom)}}.$bind(t),t.addComponent=function(t){if(void 0!=t){if(this._addComponent(t),void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var e=this._getControlListProperty();if(void 0==e)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;e.push(t),t._onshow&&t._onshow(),void 0!=t.provider&&t._providerRefresh()}}.$bind(t),t.insertComponentBefore=function(t,e){if(void 0!=t&&void 0!=e){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var i=this._getControlListProperty();if(void 0==i)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;if(void 0==this._getControlListDom)return console.log("ERROR: _getControlListDom not defined for CoreContainerComponent"),void 0;var o=this._getControlListDom();if(void 0==o)return console.log("ERROR: _getControlListDom did not return a valid DOM element"),void 0;var n,s;for(n=0;i.length>n;n++)if(s=i[n],s==e&&s.dom&&s.dom.parentNode){void 0!=this.modified&&(t.modified=this.modified),$ui.createControl(t,this.screen),t.dom&&(s.dom.parentNode.insertBefore(t.dom,s.dom),i.splice(n,0,t),t._onshow&&t._onshow(),void 0!=t.provider&&t._providerRefresh());break}}}.$bind(t),t.removeComponent=function(t){if(void 0!=t){if(void 0==this._getControlListDom)return console.log("ERROR: _getControlListDom not defined for CoreContainerComponent"),void 0;if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var e=this._getControlListDom();if(void 0==e)return console.log("ERROR: _getControlListDom did not return a valid DOM element"),void 0;var i=this._getControlListProperty();if(void 0==i)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;var o,n;for(o=0;i.length>o;o++)if(n=i[o],n==t){i.splice(o,1),n.clearComponents&&n.clearComponents(),n._remove();break}}}.$bind(t),t.clearComponents=function(){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var t=this._getControlListProperty();if(void 0==t)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;for(var e=t.length-1;e>=0;e--)this.removeComponent(t[e])}.$bind(t),t.dom):void 0}function $ui_CoreScreen(t,e){return $ui_CoreContainerComponent.call(this,t),t?(t.data=e,t._protected.screen=t,t.guid=$ui.guid(),t._protected.guid=t.guid,Object.defineProperty(t,"guid",{get:function(){return this._protected.guid},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","guid"))},configurable:!1}),1!=t.floatOnTop&&(t.floatOnTop=!1),t._protected.floatOnTop=t.floatOnTop,Object.defineProperty(t,"floatOnTop",{get:function(){return this._protected.floatOnTop},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","floatOnTop"))},configurable:!1}),t.children=[],$ui.addClass(t.dom,"ui-core-screen"),t.checkReadyState=function(t,e){return void 0==t?(console.log("ERROR: Cannot pass an undefined readyCallback to CoreScreen.checkReadyState()"),void 0):(this.oncheckreadystate?this.oncheckreadystate(t,e):t(),void 0)}.$bind(t),t.initialize=function(){this.dom.style["z-index"]=$ui.screens.length+1,$ui._protected.inScreenTransition=!1,$ui._blockAllTapEvent(!1),this._initialize&&this._initialize(),this.onshow&&this.onshow(this.data);var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onshow&&e._onshow();this._raiseInteractionEvent("data-interaction-screen-initialized")}.$bind(t),t._onthemechange=function(){this.onthemechange&&this.onthemechange();var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onthemechange&&e._onthemechange()}.$bind(t),t._onresize=function(){var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onresize&&e._onresize()}.$bind(t),t.onbeforepop=function(){this._onbeforepop&&this._onbeforepop();var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onbeforepop&&e._onbeforepop()}.$bind(t),t._destroy=function(){this.ondestroy&&this.ondestroy();var t;for(t=0;this.children.length>t;t++)this.children[t].destroy()}.$bind(t),t.dom):void 0}function $ui_DataProvider(t,e,i){return t._protected={model:t,updates:[]},t.id&&i&&(i[t.id]=t),t._protected.component=t.component,Object.defineProperty(t,"component",{get:function(){return this._protected.component},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","component"))},configurable:!1}),t.screen=i,t._protected.screen=t.screen,Object.defineProperty(t,"screen",{get:function(){return this._protected.screen},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","screen"))},configurable:!1}),t._protected.data=t.data,Object.defineProperty(t,"data",{get:function(){return this._protected.data},set:function(t){this._protected.data=t,this._protected.updates=[],this.onbeforeupdate&&this.onbeforeupdate(),this._raiseEvent(),void 0!=t&&this.onload&&this.onload()},configurable:!1}),t.clear=function(){var e=t.data,i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=void 0);t.data=i},t.fetch=function(e,i){void 0!=$ui.options.globalDataProvider&&$ui.options.globalDataProvider._getData.call(this.screen,this,function(e){i&&(e=i(e)),t.data=e},e)}.$bind(t),t.refresh=function(){this._raiseEvent()}.$bind(t),t.getUpdatedFields=function(){var t,e=[];for(t=0;this._protected.updates.length>t;t++)e.push(this._protected.updates[t]);return e}.$bind(t),t._propertyUpdated=function(t,e){var i,o,n=!1,s={property:t,value:e};for(i=0;this._protected.updates.length>i;i++)if(o=this._protected.updates[i],o.property==t){this._protected.updates[i]=s,n=!0;break}0==n&&this._protected.updates.push(s)}.$bind(t),t._raiseEvent=function(){var t=document.createEvent("Events");t.initEvent(this.screen.guid+"-"+this.id+"-updated",!0,!0),window.dispatchEvent(t)}.$bind(t),t._destroy=function(){this._protected.data=void 0}.$bind(t),void 0!=t.data&&(t.onbeforeupdate&&t.onbeforeupdate(),t.onload&&t.onload()),void 0}function InteractionEvent(t,e,i,o){this.screenId=t,this.controlId=e,this.interaction=i,this.component=o}function $ui_List(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-list"),void 0==t.items&&(t.items=[]),t._protected.items=t.items,Object.defineProperty(t,"items",{get:function(){return this._protected.items},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","items"))},configurable:!1}),t._onaction=function(t,e){this.onaction&&this.onaction(e)}.$bind(t),t._createItemDom=function(t){var e;return t.component&&t.component==$ui.Header?e=$ui.createControl(t,this.screen):void 0!=this._itemConstructor&&(e=new this._itemConstructor(t,this.screen)),e}.$bind(t),t._addItem=function(t){return t.parent=this,itemDom=this._createItemDom(t),itemDom?(this.dom.appendChild(itemDom),t._onafterinsert&&t._onafterinsert(),!0):!1}.$bind(t),t.addItem=function(t){return this._addItem(t)?(this.items.push(t),this.onitemschanged&&this.onitemschanged(),t._onshow&&t._onshow(),!0):!1}.$bind(t),t.removeItem=function(t){if(void 0==t)return!1;var e=this.items.indexOf(t);if(0>e)return!1;try{this.dom.removeChild(t.dom)}catch(i){console.log("$ui.List: "+i)}this.items.splice(e,1),t.destroy(),this.onitemschanged&&this.onitemschanged()}.$bind(t),t.insertItem=function(t,e){if(t.parent=this,0>e)return!1;if(0==this.items.length)return this.addItem(t),!0;if(e>this.items.length-1)return this.addItem(t),!0;var i=this.items[e],o=this._createItemDom(t);return this.items.splice(e,0,t),this.dom.insertBefore(o,i.dom),this.onitemschanged&&this.onitemschanged(),t._onshow&&t._onshow(),!0}.$bind(t),t.refreshItems=function(t){var e,i;if(this.items)for(e=this.items.length-1;e>=0;e--){i=this.items[e];try{this.dom.removeChild(i.dom)}catch(o){console.log("$ui.List: "+o)}this.items.pop(),i.destroy()}void 0!=t&&(this.addItemBatch(t),this.onitemschanged&&this.onitemschanged())}.$bind(t),t.addItemBatch=function(t){var e,i;for(e=0;t.length>e;e++)i=t[e],this.addItem(i)}.$bind(t),t.filter=function(t){if(void 0!=t&&null!=t){var e,i,o,n,s,a=!0;for(e=0;this.items.length>e;e++){for(n=this.items[e],a=!0,i=0;t.length>i;i++)if(o=t[i],void 0!=n[o.name]&&(s=RegExp(o.expression,"gi"),0==s.test(n[o.name]))){a=!1;break}n.visible=a}}}.$bind(t),t.filterReset=function(){var t;for(t=0;this.items.length>t;t++)this.items[t].visible=!0}.$bind(t),t._providerUpdate=function(t){this.refreshItems(t)}.$bind(t);var i,o;for(i=0;$ui._protected.definitions.length>i;i++)if(o=$ui._protected.definitions[i],o.type==$ui.UIExtensionType.LISTITEM&&o.component==t.style){t._itemConstructor=o.constructor;break}var n;if(t.items){for(i=0;t.items.length>i;i++)n=t.items[i],t._addItem(n);t.onitemschanged&&t.onitemschanged()}return t._onshow=function(){var t,e;for(t=0;this.items.length>t;t++)e=this.items[t],e._onshow&&e._onshow()}.$bind(t),t.dom}function ListEvent(t,e,i){this.target=t,this.eventType=e,this.data=i}function $ui_Spinner(t,e){return $ui_CoreComponent.call(this,t,e),t.size=t.size?t.size:$ui.Size.NORMAL,t._protected.size=t.size,Object.defineProperty(t,"size",{get:function(){return this._protected.size},set:function(t){this._protected.size!=t&&($ui.removeClass(this.dom,this._protected.size),this._protected.size=t,$ui.addClass(this.dom,t))},configurable:!1}),$ui.addClass(t.dom,"ui-spinner"),$ui.addClass(t.dom,t.size),$ui.addClass(t.dom,"center"),t.dom.innerDiv=document.createElement("div"),$ui.addClass(t.dom.innerDiv,"inner"),t.dom.appendChild(t.dom.innerDiv),t._protected.forceColor=t.forceColor,t.forceColor?$ui.addClass(t.dom.innerDiv,t.forceColor):$ui.theme.rootClass&&$ui.theme.rootClass.indexOf("ui-theme-dark")>-1?$ui.addClass(t.dom.innerDiv,"light"):$ui.addClass(t.dom.innerDiv,"dark"),Object.defineProperty(t,"forceColor",{get:function(){return this._protected.forceColor},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","forceColor"))},configurable:!1}),t.dom}function UIExtension(t,e,i,o){if(null==t)throw Error("UIExtension: name cannot be null");if(void 0==t)throw Error("UIExtension: name cannot be undefined");if(this.name=t,null==e)throw Error("UIExtension: constructor cannot be null");if(void 0==e)throw Error("UIExtension: constructor cannot be undefined");if(this.constructor=e,null==i||void 0==i)this.type=$ui.UIExtensionType.CONTROL;else{if(i!=$ui.UIExtensionType.CONTROL&&i!=$ui.UIExtensionType.SCREEN&&i!=$ui.UIExtensionType.LISTITEM&&i!=$ui.UIExtensionType.ATTACHED_OBJECT)throw Error("UIExtension: type is an invalid value");this.type=i}this.definition=null==o||void 0==o?{}:o}function $ui_ExtendSDK(){if(1==$ui.isMobileDevice()||1==$ui.theme.inHeadUnit||1==$ui.options.isClientDevice){var t=document.createElement("style");t.innerHTML="::-webkit-scrollbar { width: 0 !important;height: 0 !important;}",document.head.appendChild(t)}$ui.playTouchSound=function(){$system.audio.playSoundEffect($system.SoundEffect.TOUCH)},$ui.playTouchSound=$ui.playTouchSound.$bind($ui);var e={DockLocation:{TOP:"top",BOTTOM:"bottom"}};$ui.addExtension(new UIExtension("DockLayout",$ui_DockLayout,void 0,e)),$ui.addExtension(new UIExtension("CircleMenu",$ui_CircleMenu)),$ui.addExtension(new UIExtension("SegmentedControl",$ui_SegmentedControl)),$ui.addExtension(new UIExtension("Tab",$ui_Tab)),$ui.addExtension(new UIExtension("TabbedPane",$ui_TabbedPane)),$ui.addExtension(new UIExtension("SplitView",$ui_SplitView)),$ui.addExtension(new UIExtension("ControlGroup",$ui_ControlGroup)),$ui.addExtension(new UIExtension("Header",$ui_Header)),$ui.addExtension(new UIExtension("ColumnLayout",$ui_ColumnLayout,$ui.UIExtensionType.CONTROL)),$ui.addExtension(new UIExtension("Column",$ui_Column,$ui.UIExtensionType.CONTROL)),$ui.addExtension(new UIExtension("TileGroup",$ui_TileGroup)),$ui.addExtension(new UIExtension("CoreTileGauge",$ui_CoreTileGauge)),$ui.addExtension(new UIExtension("CoreTileDonutChart",$ui_CoreTileDonutChart)),$ui.addExtension(new UIExtension("Button",$ui_Button)),e={InputType:{INTEGER:"integer",FLOAT:"float"}},$ui.addExtension(new UIExtension("Input",$ui_Input,void 0,e)),e={Style:{Momentary:"momentary",OnOff:"on-off",OnOffOn:"on-off-on"}},$ui.addExtension(new UIExtension("Toggle",$ui_Toggle,void 0,e)),e={GenericListEvent:{ONCLICK:"onclick"}},$ui.addExtension(new UIExtension("GenericListItem",$ui_GenericListItem,$ui.UIExtensionType.LISTITEM,e)),e={ImageListEvent:{ONCLICK:"onclick"}},$ui.addExtension(new UIExtension("ImageListItem",$ui_ImageListItem,$ui.UIExtensionType.LISTITEM,e)),$ui.addExtension(new UIExtension("WindowPane",$ui_WindowPane,$ui.UIExtensionType.SCREEN))}function FastClick(t,e){"use strict";function i(t,e){return function(){return t.apply(e,arguments)}}var o;e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,FastClick.notNeeded(t)||(deviceIsAndroid&&(t.addEventListener("mouseover",i(this.onMouse,this),!0),t.addEventListener("mousedown",i(this.onMouse,this),!0),t.addEventListener("mouseup",i(this.onMouse,this),!0)),t.addEventListener("click",i(this.onClick,this),!0),t.addEventListener("touchstart",i(this.onTouchStart,this),!1),t.addEventListener("touchmove",i(this.onTouchMove,this),!1),t.addEventListener("touchend",i(this.onTouchEnd,this),!1),t.addEventListener("touchcancel",i(this.onTouchCancel,this),!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,o){var n=Node.prototype.removeEventListener;"click"===e?n.call(t,e,i.hijacked||i,o):n.call(t,e,i,o)},t.addEventListener=function(e,i,o){var n=Node.prototype.addEventListener;"click"===e?n.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),o):n.call(t,e,i,o)}),"function"==typeof t.onclick&&(o=t.onclick,t.addEventListener("click",function(t){o(t)},!1),t.onclick=null))}function $ui_CoreComponent(t,e){try{if(t){if(this.object=t,t._protected={model:t},t.dom=document.createElement("div"),t.dom.model=t,$ui.addClass(t.dom,"ui-core-component"),t.id&&t.dom.setAttribute("data-id",t.id),t._protected.component=t.component,Object.defineProperty(t,"component",{get:function(){return this._protected.component},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","component"))},configurable:!1}),void 0!=e&&(t.screen=e,e.children.push(t),t.id)){if(void 0!=e[t.id]){var i='WARNING: You have used a non-unique id: "'+t.id+'"';void 0!=e.id&&(i=i+' on screen "'+e.id+'"'),console.log(i)}e[t.id]=t}if(t._protected.screen=t.screen,Object.defineProperty(t,"screen",{get:function(){return this._protected.screen},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","screen"))},configurable:!1}),t._protected.id=t.id,Object.defineProperty(t,"id",{get:function(){return this._protected.id},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","id"))},configurable:!1}),0!=t.enabled?t.enabled=!0:$ui.addClass(t.dom,"disabled"),t._protected.enabled=t.enabled,Object.defineProperty(t,"enabled",{get:function(){return this._protected.enabled},set:function(t){t!=this._protected.enabled&&(this._protected.enabled&&0==t?(this._protected.enabled=!1,$ui.addClass(this.dom,"disabled")):0==this._protected.enabled&&1==t&&(this._protected.enabled=!0,$ui.removeClass(this.dom,"disabled")),this._setEnabled&&this._setEnabled(t))},configurable:!1}),1==t.animated?$ui.addClass(t.dom,"animated"):t.animated=!1,t._protected.animated=t.animated,Object.defineProperty(t,"animated",{get:function(){return this._protected.animated},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","animated"))},configurable:!1}),void 0!=t.visible&&0==t.visible?t.dom.style.display="none":t.visible=!0,t._protected.visible=t.visible,Object.defineProperty(t,"visible",{get:function(){return this._protected.visible},set:function(t){t!=this._protected.visible&&(1==t?(this._protected.visible=!0,void 0!=this.dom&&(this.dom.style.display="")):(this._protected.visible=!1,void 0!=this.dom&&(this.dom.style.display="none")),this._setVisible&&this._setVisible(t))},configurable:!1}),t.attachedObjects){var o,n,s,a,r,d=void 0!=t.screen?t.screen:t;for(o=0;t.attachedObjects.length>o;o++){if(s=t.attachedObjects[o],void 0==s)throw'CoreComponent.attachedObject: "control" is not defined';if(void 0==d)throw'CoreComponent.attachedObject: "screen" is not defined';for(n=0;$ui._protected.definitions.length>n;n++)if(a=$ui._protected.definitions[n],a.type==$ui.UIExtensionType.ATTACHED_OBJECT&&a.component==s.component){r=new a.constructor(s,t,d);break}r instanceof HTMLElement&&t.dom.appendChild(r)}}else t.attachedObjects=[];t._protected.attachedObjects=t.attachedObjects,Object.defineProperty(t,"attachedObjects",{get:function(){return this._protected.attachedObjects},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","attachedObjects"))},configurable:!1}),t._raiseInteractionEvent=function(t){var e=new InteractionEvent(this.screen.id,this.id,t,this.component);$ui._raiseInteractionEvent(e)}.$bind(t),t._scrollIntoView=function(){var t=20,e=this.dom.getBoundingClientRect(),i=this.dom.parentNode;return this._scrollIterationCounter=this._scrollIterationCounter+1,e.top==i.offsetTop||e.bottom<i.offsetTop+i.offsetHeight&&e.top>i.offsetTop?void 0:(e.top>i.offsetTop?(t>e.top-i.offsetTop&&(t=1),i.scrollTop=i.scrollTop+t):(t>i.offsetTop-e.top&&(t=1),i.scrollTop=i.scrollTop-t),this._scrollIterationCounter>100?(console.log("fail safe scroll counter exceeded"),void 0):(requestAnimationFrame(this._scrollIntoView),void 0))}.$bind(t),t.scrollIntoView=function(){this.dom&&(this._scrollIterationCounter=0,requestAnimationFrame(this._scrollIntoView))}.$bind(t),t.destroy=function(){t._destroy&&t._destroy(),void 0!=this.provider&&void 0!=this.provider.id&&window.removeEventListener(this.screen.guid+"-"+this.provider.id+"-updated",this._providerRefresh,!1),void 0!=this.id&&this.id.length>0&&(this.screen[this.id]=void 0);var e,i;if(this.attachedObjects&&this.attachedObjects.length>0)for(e=0;this.attachedObjects.length>e;e++)i=this.attachedObjects[e],i._destroy&&i._destroy();this.dom=void 0}.$bind(t),t._providerRefresh=function(){var t=this.screen[this.provider.id];if(void 0!=t)if(void 0!=t.data){var e,i=this.provider.property.split("."),o=t.data,n=!0;for(e=0;i.length>e;e++)if(o=o[i[e]],void 0==o){n=!1;break}if(n)return this._providerUpdate&&this._providerUpdate(o),void 0;this._providerUpdate&&this._providerUpdate(void 0)}else this._providerUpdate&&this._providerUpdate(void 0)}.$bind(t),t._remove=function(){if(this._onremove&&this._onremove(),this.dom&&this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.screen){var t=this.screen.children.indexOf(this);t>=0&&this.screen.children.splice(t,1)}this.destroy()}.$bind(t),t._updateData=function(t){var e=void 0==this.provider?void 0:this.screen[this.provider.id];if(void 0!=e&&(e._propertyUpdated(this.provider.property,t),void 0!=e.data)){var i,o,n=this.provider.property.split("."),s=e.data;for(i=0;n.length>i&&(o=s[n[i]],!(void 0==o&&n.length-1>i));i++){if(i==n.length-1){s[n[i]]=t;break}s=o}}}.$bind(t),void 0!=t.provider&&void 0!=t.provider.id&&(window.addEventListener(t.screen.guid+"-"+t.provider.id+"-updated",t._providerRefresh,!1),t._providerRefresh()),t._protected.provider=t.provider,Object.defineProperty(t,"provider",{get:function(){return this._protected.provider},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","provider"))},configurable:!1})}}catch(l){console.log("RPW error in core component: "+l)}}function $ui_CoreContainerComponent(t,e){return $ui_CoreComponent.call(this,t,e),t?(void 0==t.modified&&(t.modified=!1),t._protected.modified=t.modified,Object.defineProperty(t,"modified",{get:function(){return this._protected.modified},set:function(t){if(void 0==t&&(t=!1),this._protected.modified=t,void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;if(0==t){var e,i,o=this._getControlListProperty();for(e=0;o.length>e;e++)i=o[e],i.modified=t}this._onmodified&&this._onmodified()},configurable:!1}),t.validate=function(){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),!1;var t,e,i=this._getControlListProperty(),o=!0;for(t=0;i.length>t;t++)e=i[t],e.validate&&0==e.validate()&&(o=!1);return this._onvalidate&&this._onvalidate(o),o}.$bind(t),t._cascadeVisibility=function(){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var t,e,i=this._getControlListProperty();for(t=0;i.length>t;t++)e=i[t],e._cascadeVisibility?e._cascadeVisibility():e._onshow&&e._onshow();this._oncascadevisibility&&this._oncascadevisibility()}.$bind(t),t._addComponent=function(t){if(void 0!=t){if(void 0==this._getControlListDom)return console.log("ERROR: _getControlListDom not defined for CoreContainerComponent"),void 0;var e=this._getControlListDom();if(void 0==e)return console.log("ERROR: _getControlListDom did not return a valid DOM element"),void 0;void 0!=this.modified&&(t.modified=this.modified),$ui.createControl(t,this.screen),t.dom&&e.appendChild(t.dom)}}.$bind(t),t.addComponent=function(t){if(void 0!=t){if(this._addComponent(t),void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var e=this._getControlListProperty();if(void 0==e)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;e.push(t),t._onshow&&t._onshow(),void 0!=t.provider&&t._providerRefresh()}}.$bind(t),t.insertComponentBefore=function(t,e){if(void 0!=t&&void 0!=e){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var i=this._getControlListProperty();if(void 0==i)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;if(void 0==this._getControlListDom)return console.log("ERROR: _getControlListDom not defined for CoreContainerComponent"),void 0;var o=this._getControlListDom();if(void 0==o)return console.log("ERROR: _getControlListDom did not return a valid DOM element"),void 0;var n,s;for(n=0;i.length>n;n++)if(s=i[n],s==e&&s.dom&&s.dom.parentNode){void 0!=this.modified&&(t.modified=this.modified),$ui.createControl(t,this.screen),t.dom&&(s.dom.parentNode.insertBefore(t.dom,s.dom),i.splice(n,0,t),t._onshow&&t._onshow(),void 0!=t.provider&&t._providerRefresh());break}}}.$bind(t),t.removeComponent=function(t){if(void 0!=t){if(void 0==this._getControlListDom)return console.log("ERROR: _getControlListDom not defined for CoreContainerComponent"),void 0;
if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var e=this._getControlListDom();if(void 0==e)return console.log("ERROR: _getControlListDom did not return a valid DOM element"),void 0;var i=this._getControlListProperty();if(void 0==i)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;var o,n;for(o=0;i.length>o;o++)if(n=i[o],n==t){i.splice(o,1),n.clearComponents&&n.clearComponents(),n._remove();break}}}.$bind(t),t.clearComponents=function(){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var t=this._getControlListProperty();if(void 0==t)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;for(var e=t.length-1;e>=0;e--)this.removeComponent(t[e])}.$bind(t),t.dom):void 0}function $ui_CoreScreen(t,e){return $ui_CoreContainerComponent.call(this,t),t?(t.data=e,t._protected.screen=t,t.guid=$ui.guid(),t._protected.guid=t.guid,Object.defineProperty(t,"guid",{get:function(){return this._protected.guid},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","guid"))},configurable:!1}),1!=t.floatOnTop&&(t.floatOnTop=!1),t._protected.floatOnTop=t.floatOnTop,Object.defineProperty(t,"floatOnTop",{get:function(){return this._protected.floatOnTop},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","floatOnTop"))},configurable:!1}),t.children=[],$ui.addClass(t.dom,"ui-core-screen"),t.checkReadyState=function(t,e){return void 0==t?(console.log("ERROR: Cannot pass an undefined readyCallback to CoreScreen.checkReadyState()"),void 0):(this.oncheckreadystate?this.oncheckreadystate(t,e):t(),void 0)}.$bind(t),t.initialize=function(){this.dom.style["z-index"]=$ui.screens.length+1,$ui._protected.inScreenTransition=!1,$ui._blockAllTapEvent(!1),this._initialize&&this._initialize(),this.onshow&&this.onshow(this.data);var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onshow&&e._onshow();this._raiseInteractionEvent("data-interaction-screen-initialized")}.$bind(t),t._onthemechange=function(){this.onthemechange&&this.onthemechange();var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onthemechange&&e._onthemechange()}.$bind(t),t._onresize=function(){var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onresize&&e._onresize()}.$bind(t),t.onbeforepop=function(){this._onbeforepop&&this._onbeforepop();var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onbeforepop&&e._onbeforepop()}.$bind(t),t._destroy=function(){this.ondestroy&&this.ondestroy();var t;for(t=0;this.children.length>t;t++)this.children[t].destroy()}.$bind(t),t.dom):void 0}function $ui_DataProvider(t,e,i){return t._protected={model:t,updates:[]},t.id&&i&&(i[t.id]=t),t._protected.component=t.component,Object.defineProperty(t,"component",{get:function(){return this._protected.component},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","component"))},configurable:!1}),t.screen=i,t._protected.screen=t.screen,Object.defineProperty(t,"screen",{get:function(){return this._protected.screen},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","screen"))},configurable:!1}),t._protected.data=t.data,Object.defineProperty(t,"data",{get:function(){return this._protected.data},set:function(t){this._protected.data=t,this._protected.updates=[],this.onbeforeupdate&&this.onbeforeupdate(),this._raiseEvent(),void 0!=t&&this.onload&&this.onload()},configurable:!1}),t.clear=function(){var e=t.data,i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=void 0);t.data=i},t.fetch=function(e,i){void 0!=$ui.options.globalDataProvider&&$ui.options.globalDataProvider._getData.call(this.screen,this,function(e){i&&(e=i(e)),t.data=e},e)}.$bind(t),t.refresh=function(){this._raiseEvent()}.$bind(t),t.getUpdatedFields=function(){var t,e=[];for(t=0;this._protected.updates.length>t;t++)e.push(this._protected.updates[t]);return e}.$bind(t),t._propertyUpdated=function(t,e){var i,o,n=!1,s={property:t,value:e};for(i=0;this._protected.updates.length>i;i++)if(o=this._protected.updates[i],o.property==t){this._protected.updates[i]=s,n=!0;break}0==n&&this._protected.updates.push(s)}.$bind(t),t._raiseEvent=function(){var t=document.createEvent("Events");t.initEvent(this.screen.guid+"-"+this.id+"-updated",!0,!0),window.dispatchEvent(t)}.$bind(t),t._destroy=function(){this._protected.data=void 0}.$bind(t),void 0!=t.data&&(t.onbeforeupdate&&t.onbeforeupdate(),t.onload&&t.onload()),void 0}function InteractionEvent(t,e,i,o){this.screenId=t,this.controlId=e,this.interaction=i,this.component=o}function $ui_List(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-list"),void 0==t.items&&(t.items=[]),t._protected.items=t.items,Object.defineProperty(t,"items",{get:function(){return this._protected.items},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","items"))},configurable:!1}),t._onaction=function(t,e){this.onaction&&this.onaction(e)}.$bind(t),t._createItemDom=function(t){var e;return t.component&&t.component==$ui.Header?e=$ui.createControl(t,this.screen):void 0!=this._itemConstructor&&(e=new this._itemConstructor(t,this.screen)),e}.$bind(t),t._addItem=function(t){return t.parent=this,itemDom=this._createItemDom(t),itemDom?(this.dom.appendChild(itemDom),t._onafterinsert&&t._onafterinsert(),!0):!1}.$bind(t),t.addItem=function(t){return this._addItem(t)?(this.items.push(t),this.onitemschanged&&this.onitemschanged(),t._onshow&&t._onshow(),!0):!1}.$bind(t),t.removeItem=function(t){if(void 0==t)return!1;var e=this.items.indexOf(t);if(0>e)return!1;try{this.dom.removeChild(t.dom)}catch(i){console.log("$ui.List: "+i)}this.items.splice(e,1),t.destroy(),this.onitemschanged&&this.onitemschanged()}.$bind(t),t.insertItem=function(t,e){if(t.parent=this,0>e)return!1;if(0==this.items.length)return this.addItem(t),!0;if(e>this.items.length-1)return this.addItem(t),!0;var i=this.items[e],o=this._createItemDom(t);return this.items.splice(e,0,t),this.dom.insertBefore(o,i.dom),this.onitemschanged&&this.onitemschanged(),t._onshow&&t._onshow(),!0}.$bind(t),t.refreshItems=function(t){var e,i;if(this.items)for(e=this.items.length-1;e>=0;e--){i=this.items[e];try{this.dom.removeChild(i.dom)}catch(o){console.log("$ui.List: "+o)}this.items.pop(),i.destroy()}void 0!=t&&(this.addItemBatch(t),this.onitemschanged&&this.onitemschanged())}.$bind(t),t.addItemBatch=function(t){var e,i;for(e=0;t.length>e;e++)i=t[e],this.addItem(i)}.$bind(t),t.filter=function(t){if(void 0!=t&&null!=t){var e,i,o,n,s,a=!0;for(e=0;this.items.length>e;e++){for(n=this.items[e],a=!0,i=0;t.length>i;i++)if(o=t[i],void 0!=n[o.name]&&(s=RegExp(o.expression,"gi"),0==s.test(n[o.name]))){a=!1;break}n.visible=a}}}.$bind(t),t.filterReset=function(){var t;for(t=0;this.items.length>t;t++)this.items[t].visible=!0}.$bind(t),t._providerUpdate=function(t){this.refreshItems(t)}.$bind(t);var i,o;for(i=0;$ui._protected.definitions.length>i;i++)if(o=$ui._protected.definitions[i],o.type==$ui.UIExtensionType.LISTITEM&&o.component==t.style){t._itemConstructor=o.constructor;break}var n;if(t.items){for(i=0;t.items.length>i;i++)n=t.items[i],t._addItem(n);t.onitemschanged&&t.onitemschanged()}return t._onshow=function(){var t,e;for(t=0;this.items.length>t;t++)e=this.items[t],e._onshow&&e._onshow()}.$bind(t),t.dom}function ListEvent(t,e,i){this.target=t,this.eventType=e,this.data=i}function $ui_Spinner(t,e){return $ui_CoreComponent.call(this,t,e),t.size=t.size?t.size:$ui.Size.NORMAL,t._protected.size=t.size,Object.defineProperty(t,"size",{get:function(){return this._protected.size},set:function(t){this._protected.size!=t&&($ui.removeClass(this.dom,this._protected.size),this._protected.size=t,$ui.addClass(this.dom,t))},configurable:!1}),$ui.addClass(t.dom,"ui-spinner"),$ui.addClass(t.dom,t.size),$ui.addClass(t.dom,"center"),t.dom.innerDiv=document.createElement("div"),$ui.addClass(t.dom.innerDiv,"inner"),t.dom.appendChild(t.dom.innerDiv),t._protected.forceColor=t.forceColor,t.forceColor?$ui.addClass(t.dom.innerDiv,t.forceColor):$ui.theme.rootClass&&$ui.theme.rootClass.indexOf("ui-theme-dark")>-1?$ui.addClass(t.dom.innerDiv,"light"):$ui.addClass(t.dom.innerDiv,"dark"),Object.defineProperty(t,"forceColor",{get:function(){return this._protected.forceColor},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","forceColor"))},configurable:!1}),t.dom}function UIExtension(t,e,i,o){if(null==t)throw Error("UIExtension: name cannot be null");if(void 0==t)throw Error("UIExtension: name cannot be undefined");if(this.name=t,null==e)throw Error("UIExtension: constructor cannot be null");if(void 0==e)throw Error("UIExtension: constructor cannot be undefined");if(this.constructor=e,null==i||void 0==i)this.type=$ui.UIExtensionType.CONTROL;else{if(i!=$ui.UIExtensionType.CONTROL&&i!=$ui.UIExtensionType.SCREEN&&i!=$ui.UIExtensionType.LISTITEM&&i!=$ui.UIExtensionType.ATTACHED_OBJECT)throw Error("UIExtension: type is an invalid value");this.type=i}this.definition=null==o||void 0==o?{}:o}function $ui_Button(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-button theme-brand-background-color theme-highlight-text-color theme-border-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),void 0==t.caption&&(t.caption=""),t.dom.textContent=t.caption,t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){void 0==t&&(t=""),t!=this._protected.caption&&(this._protected.caption=t,this.dom.textContent=t)},configurable:!1}),t.dom.ontouchstart=function(){this.style.opacity=.7},t.dom.ontouchend=function(){this.style.opacity=1},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.onclick=function(){$ui.playTouchSound(),this.model.onclick&&this.model.onclick()},t.dom}function $ui_CircleMenu(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-circle-menu"),t._protected.indicators=[],t.dom.inner=document.createElement("div"),$ui.addClass(t.dom.inner,"inner"),t.dom.appendChild(t.dom.inner),t.dom.indicatorContainer=document.createElement("div"),$ui.addClass(t.dom.indicatorContainer,"indicator-container"),t.dom.appendChild(t.dom.indicatorContainer),void 0==t.items&&(t.items=[]),t._protected.items=t.items,Object.defineProperty(t,"items",{get:function(){return this._protected.items},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","items"))},configurable:!1}),t._recalculateLayout=function(){if(0!==this.items.length){var t,e,i,o,n=[],s=this.dom.offsetHeight,a=this.dom.offsetWidth,r=[];for(t=0;this.items.length>t;t++)i=this.items[t],1==i.visible&&n.push(i);var d,l=n.length,c=Math.ceil(l/6),h=n[0].getSize();for(t=0;this._protected.indicators.length>t;t++)d=this._protected.indicators[t],d.parentNode.removeChild(d);if(this._protected.indicators=[],c>1){for(this.dom.indicatorContainer.style.display="block",this.dom.inner.style.cursor="pointer",this._protected.hammer=new Hammer(this.dom.inner),this._protected.hammer.on("pan",this._onpan),this._protected.hammer.on("panend",this._onpanend),this._protected.hammer.on("pancancel",this._onpanend),this._protected.hammer.on("swipeleft",this._onswipeleft),this._protected.hammer.on("swiperight",this._onswiperight),t=0;c>t;t++)d=document.createElement("div"),d._index=t,$ui.addClass(d,"indicator"),this.dom.indicatorContainer.appendChild(d),this._protected.indicators.push(d),d.inner=document.createElement("div"),$ui.addClass(d.inner,"inner theme-circle-menu-indicator"),0==t&&$ui.addClass(d.inner,"theme-circle-menu-indicator-selected"),d.appendChild(d.inner);this._protected.selectedIndicator=this._protected.indicators[0],this.dom.indicatorContainer.style.width=40*c+"px",this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(0px,0px,0px)"}else this.dom.indicatorContainer.style.display="none",this.dom.inner.style.cursor="default",this._protected.hammer=void 0,this._protected.selectedIndicator=void 0;if(this.dom.inner.style.width=100*c+"%",$system&&$system.isClientDevice){var o,u=0,m=0,p=l>6?6:l,f=Math.floor(a/2),v=Math.floor(f/2-h/2),g=Math.floor(s/3),b=Math.floor(g/2-h/2);for(t=0;p>t;t++)o={X:m*f+v,Y:u*g+b},r.push(o),m++,m>1&&(u++,m=0)}else switch(!0){case 3>=l:var C=2===l?Math.floor(h/2):0,f=Math.floor((a-2*C)/l),v=Math.floor(f/2-h/2);for(e=Math.floor(s/2-h/2),t=0;l>t;t++)o={X:t*f+C+v,Y:e},r.push(o);break;case 6>=l:var f=Math.floor(a/3),v=Math.floor(f/2-h/2),u=Math.floor(s/2),b=Math.floor(u/2-h/2);for(t=0;3>t;t++)o={X:t*f+v,Y:b},r.push(o);var C=2===l-3?Math.floor(h/2):0;for(f=Math.floor((a-2*C)/(l-3)),v=Math.floor(f/2-h/2),t=3;l>t;t++)o={X:(t-3)*f+C+v,Y:u+b},r.push(o);break;case l>6:for(var _=0,y=0;l>_;){var f=Math.floor(a/3),v=Math.floor(f/2-h/2)+y*a,u=Math.floor(s/2),b=Math.floor(u/2-h/2);for(t=0;3>t&&l>_;t++)o={X:t*f+v,Y:b},r.push(o),_++;if(l>_){var C=2===l-_?Math.floor(h/2):0,$=l-_>=3?3:l-_;for(f=Math.floor((a-2*C)/$),v=Math.floor(f/2-h/2)+y*a,t=3;l>t&&l>_&&6>t;t++)o={X:(t-3)*f+C+v,Y:u+b},r.push(o),_++}y++}}for(t=0;n.length>t;t++)i=n[t],o=r[t],i.dom.style["-webkit-transform"]="translate("+o.X+"px,"+o.Y+"px)"}}.$bind(t),t._resetTransition=function(){this._protected.inTransition=!1}.$bind(t),t._onpan=function(t){if(void 0!=this._protected.selectedIndicator&&(this._protected.inTransition=!0,1!=this._protected.swiping)){var e=0;this._protected.selectedIndicator._index>0&&(e=-1*this._protected.selectedIndicator._index*this.dom.offsetWidth),this.dom.inner.style["-webkit-transition"]="",this.dom.inner.style["-webkit-transform"]="translate3d("+(e+t.deltaX)+"px,0px,0px)"}}.$bind(t),t._onpanend=function(t){return window.setTimeout(this._resetTransition,0),1==this._protected.swiping?(this._protected.swiping=!1,void 0):(Math.abs(t.deltaX)>this.dom.offsetWidth/2?t.deltaX>0?this._protected.selectedIndicator&&this._protected.selectedIndicator._index>0?this._decreaseIndicator():(this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(-"+this._protected.selectedIndicator._index*this.dom.offsetWidth+"px,0px,0px)"):this._protected.selectedIndicator&&this._protected.selectedIndicator._index<this._protected.indicators.length-1?this._increaseIndicator():(this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(-"+this._protected.selectedIndicator._index*this.dom.offsetWidth+"px,0px,0px)"):(this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(-"+this._protected.selectedIndicator._index*this.dom.offsetWidth+"px,0px,0px)"),void 0)}.$bind(t),t._onswipeleft=function(){this._protected.swiping=!0,this._increaseIndicator()}.$bind(t),t._onswiperight=function(){this._protected.swiping=!0,this._decreaseIndicator()}.$bind(t),t._increaseIndicator=function(){if(void 0!=this._protected.selectedIndicator){if(this._protected.selectedIndicator._index<=this._protected.indicators.length-2){this._protected.selectedIndicator=this._protected.indicators[this._protected.selectedIndicator._index+1],$ui.addClass(this._protected.selectedIndicator.inner,"theme-circle-menu-indicator-selected");var t,e;for(t=0;this._protected.indicators.length>t;t++)e=this._protected.indicators[t],e!=this._protected.selectedIndicator&&$ui.removeClass(e.inner,"theme-circle-menu-indicator-selected")}this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(-"+this._protected.selectedIndicator._index*this.dom.offsetWidth+"px,0px,0px)"}}.$bind(t),t._decreaseIndicator=function(){if(void 0!=this._protected.selectedIndicator){if(this._protected.selectedIndicator._index>0){this._protected.selectedIndicator=this._protected.indicators[this._protected.selectedIndicator._index-1],$ui.addClass(this._protected.selectedIndicator.inner,"theme-circle-menu-indicator-selected");var t,e;for(t=0;this._protected.indicators.length>t;t++)e=this._protected.indicators[t],e!=this._protected.selectedIndicator&&$ui.removeClass(e.inner,"theme-circle-menu-indicator-selected")}this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(-"+this._protected.selectedIndicator._index*this.dom.offsetWidth+"px,0px,0px)"}}.$bind(t),t._addItem=function(t){return t.parent=this,n=new $ui_CircleMenuItem(t,this.screen),n?(this.dom.inner.appendChild(n),!0):!1}.$bind(t),t.addItem=function(t){return this._addItem(t)?(this.items.push(t),!0):!1}.$bind(t),t.refreshItems=function(t){if(void 0!=t){var e,i;if(this.items)for(e=this.items.length-1;e>=0;e--){i=this.items[e];try{i.dom&&i.dom.parentNode&&i.dom.parentNode.removeChild(i.dom)}catch(o){console.log("$ui.List: "+o)}this.items.pop(),i._destroy&&i._destroy()}this.addItemBatch(t)}}.$bind(t),t.addItemBatch=function(t){var e,i;for(e=0;t.length>e;e++)i=t[e],this._addItem(i)&&this.items.push(i);this._recalculateLayout()}.$bind(t),t.insertItem=function(t,e){if(t.parent=this,0>e)return!1;if(0==this.items.length)return this.addItem(t),!0;if(e>this.items.length-1)return this.addItem(t),!0;var i=this.items[e],o=new $ui_CircleMenuItem(t,this.screen);return this.items.splice(e,0,t),this.dom.inner.insertBefore(o,i.dom),!0}.$bind(t),t._providerUpdate=function(t){this.refreshItems(t)}.$bind(t),t._onresize=function(){this._recalculateLayout()}.$bind(t),!t.provider){var i,o,n;for(i=0;t.items.length>i;i++)o=t.items[i],t._addItem(o);setTimeout(t._onresize,0)}return t.dom}function $ui_CircleMenuItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"menu-item"),t.dom.inner=document.createElement("div"),t.dom.inner.model=t,$ui.addClass(t.dom.inner,"circle theme-border-color theme-screen-background-color"),t.dom.appendChild(t.dom.inner),t.dom.inner.onclick=function(){1!=this.model.parent._protected.inTransition&&(this.model._raiseInteractionEvent("data-interaction-click"),$ui.playTouchSound(),this.model.parent.onclick&&this.model.parent.onclick(this.model))},t.dom.inner.ontouchstart=function(){$ui.addClass(this,"theme-brand-background-color")},t.dom.inner.ontouchend=function(){$ui.removeClass(this,"theme-brand-background-color")},t.dom.inner.ontouchcancel=t.dom.inner.ontouchend,$ui.isMobileDevice()||(t.dom.inner.onmousedown=t.dom.inner.ontouchstart,t.dom.inner.onmouseup=t.dom.inner.ontouchend,t.dom.inner.onmouseleave=t.dom.inner.ontouchend),t.id&&t.dom.inner.setAttribute("data-interaction-click",t.id),t.dom.icon=document.createElement("div"),$ui.addClass(t.dom.icon,"icon"),t.dom.inner.appendChild(t.dom.icon),t.img&&(t.dom.icon.style.backgroundImage='url("'+t.img+'")'),t._protected.img=t.img,Object.defineProperty(t,"img",{get:function(){return this._protected.img},set:function(t){t!=this._protected.img&&(this._protected.img=t,this.dom.icon.style.backgroundImage=void 0==t?"":'url("'+t+'")')},configurable:!1}),t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption theme-text-color"),t.dom.appendChild(t.dom.captionDiv),t.caption&&(t.dom.captionDiv.textContent=t.caption),t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){t!=this._protected.caption&&(this._protected.caption=t,this.dom.captionDiv.textContent=void 0==t?"":t)},configurable:!1}),t.getSize=function(){return this.dom.offsetWidth},t.getSize=t.getSize.$bind(t),t._setVisible=function(){this.parent&&this.parent._recalculateLayout()},t._setVisible=t._setVisible.$bind(t),t.dom}function $ui_Column(t,e){if($ui_CoreComponent.call(this,t,e),t){$ui.addClass(t.dom,"ui-column"),t.dom.style.width=t.span?t._spanPercentage*t.span+"%":t._spanPercentage+"%",void 0==t.content&&(t.content=[]),t._protected.content=t.content,Object.defineProperty(t,"content",{get:function(){return this._protected.content},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","content"))},configurable:!1});var i,o;for(i=0;t.content.length>i;i++)o=t.content[i],controlDom=$ui.createControl(o,e),controlDom&&t.dom.appendChild(controlDom);return t.validate=function(){var t,e,i=!0;for(t=0;this.content.length>t;t++)e=this.content[t],e.validate&&0==e.validate()&&(i=!1);return i}.$bind(t),t._cascadeVisibility=function(){var t,e;for(t=0;this.content.length>t;t++)e=this.content[t],e._cascadeVisibility?e._cascadeVisibility():e._onshow&&e._onshow()}.$bind(t),t._setVisible=function(t){1==t&&this._cascadeVisibility()}.$bind(t),t.dom}}function $ui_ColumnLayout(t,e){if($ui_CoreComponent.call(this,t,e),t){$ui.addClass(t.dom,"ui-column-layout"),1==t.padding&&$ui.addClass(t.dom,"padding"),void 0==t.columns&&(t.columns=[]),t._protected.columns=t.columns,Object.defineProperty(t,"columns",{get:function(){return this._protected.columns},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","columns"))},configurable:!1}),1!=t.fillToParent?t.fillToParent=!1:$ui.addClass(t.dom,"fill"),t._protected.fillToParent=t.fillToParent,Object.defineProperty(t,"fillToParent",{get:function(){return this._protected.fillToParent},set:function(t){t!=this._protected.fillToParent&&(1==t?$ui.addClass(this.dom,"fill"):$ui.removeClass(this.dom,"fill"),this._protected.fillToParent=t)},configurable:!1});var i,o,n,s=0;for(i=0;t.columns.length>i;i++)o=t.columns[i],o.span?s+=o.span:s++;for(n=0==s?100:100/s,i=0;t.columns.length>i;i++)o=t.columns[i],o._spanPercentage=n,o.component==$ui.Column&&(new $ui_Column(o,e),t.dom.appendChild(o.dom));return t.dom.clearElement=document.createElement("div"),$ui.addClass(t.dom.clearElement,"clear-element"),t.dom.appendChild(t.dom.clearElement),t.validate=function(){var t,e,i=!0;for(t=0;this.columns.length>t;t++)e=this.columns[t],0==e.validate()&&(i=!1);return i}.$bind(t),t._cascadeVisibility=function(){var t,e;for(t=0;this.columns.length>t;t++)e=this.columns[t],e._cascadeVisibility&&e._cascadeVisibility()}.$bind(t),t._setVisible=function(t){1==t&&this._cascadeVisibility()}.$bind(t),t.dom}}function $ui_ControlGroup(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-control-group"),void 0==t.content&&(t.content=[]),t._protected.content=t.content,Object.defineProperty(t,"content",{get:function(){return this._protected.content},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","content"))},configurable:!1}),t.content){var i,o,n;for(i=0;t.content.length>i;i++)o=t.content[i],n=$ui.createControl(o,t.screen),n&&t.dom.appendChild(n)}return t.dom}function $ui_CoreTile(t,e){$ui_CoreComponent.call(this,t,e),t&&($ui.addClass(t.dom,"ui-tile theme-text-color theme-tile-border-color theme-screen-background-color"),t._contentShowing=!1,t._size&&t._size!=$ui.TileSize.STANDARD&&$ui.addClass(t.dom,t._size),t._protected._size=t._size,Object.defineProperty(t,"_size",{get:function(){return this._protected._size},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","_size"))},configurable:!1}),t.dom.loadingDiv=document.createElement("div"),$ui.addClass(t.dom.loadingDiv,"loading"),t.dom.appendChild(t.dom.loadingDiv),t.dom.spinner=new $ui_Spinner({component:$ui.Spinner,size:$ui.Spinner.SMALL},e),t.dom.loadingDiv.appendChild(t.dom.spinner),t.dom.contentDiv=document.createElement("div"),$ui.addClass(t.dom.contentDiv,"content"),t.dom.appendChild(t.dom.contentDiv),t.showContent=function(t){t!=this._contentShowing&&(t?(this.dom.loadingDiv.style.display="none",this.dom.contentDiv.style.display="inherit"):(this.dom.loadingDiv.style.display="inline",this.dom.contentDiv.style.display="none"),this._contentShowing=t)}.$bind(t))}function $ui_CoreTileDonutChart(t,e){void 0==t.animated&&(t.animated=!0),$ui_CoreTile.call(this,t,e),t&&($ui.addClass(t.dom,"ui-tile-donut-chart"),t.dom.chartDiv=document.createElement("div"),$ui.addClass(t.dom.chartDiv,"chart"),t.dom.contentDiv.appendChild(t.dom.chartDiv),t.dom.canvas=document.createElement("canvas"),t.dom.chartDiv.appendChild(t.dom.canvas),t.chart=new Chart(t.dom.canvas.getContext("2d")),t._setData=function(t){this._protected.data=t,this.chart.Doughnut(t,{showTooltips:!1,animation:this.animated,segmentStrokeColor:"transparent"})}.$bind(t),t.dom.caption=document.createElement("div"),$ui.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t._setCaption=function(t){this.dom.caption.innerHTML=t}.$bind(t),t.dom.accent=document.createElement("div"),$ui.addClass(t.dom.accent,"accent"),t.dom.contentDiv.appendChild(t.dom.accent),t.dom.accent.style.color=$ui.theme.chart.color,t._setAccent=function(t){return void 0==t?($ui.removeClass(this.dom.contentDiv,"has-accent"),this.dom.accent.textContent="",this.accent=t,void 0):(this.accent=t,$ui.addClass(this.dom.contentDiv,"has-accent"),this.dom.accent.textContent=t,void 0)}.$bind(t))}function $ui_CoreTileGauge(t,e){if(t&&(t._size=void 0),$ui_CoreTile.call(this,t,e),t){$ui.addClass(t.dom,"ui-tile-gauge"),t.dom.titleDiv=document.createElement("div"),$ui.addClass(t.dom.titleDiv,"title"),t.dom.contentDiv.appendChild(t.dom.titleDiv),t._setTitle=function(e){(void 0==e||null==e)&&(e=""),t.dom.titleDiv.textContent=e}.$bind(t),t.dom.chartDiv=document.createElement("div"),$ui.addClass(t.dom.chartDiv,"chart"),t.dom.contentDiv.appendChild(t.dom.chartDiv),t.dom.canvas=document.createElement("canvas"),t.dom.canvas.width=200,t.dom.canvas.height=200,$ui.addClass(t.dom.canvas,"graph-canvas"),t.dom.chartDiv.appendChild(t.dom.canvas),t.dom.labels=document.createElement("div"),$ui.addClass(t.dom.labels,"labels-area"),t.dom.chartDiv.appendChild(t.dom.labels),t.dom.minLabel=document.createElement("div"),$ui.addClass(t.dom.minLabel,"label"),$ui.addClass(t.dom.minLabel,"left"),t.dom.labels.appendChild(t.dom.minLabel),t.dom.maxLabel=document.createElement("div"),$ui.addClass(t.dom.maxLabel,"label"),$ui.addClass(t.dom.maxLabel,"right"),t.dom.labels.appendChild(t.dom.maxLabel),t.dom.accentLabel=document.createElement("div"),$ui.addClass(t.dom.accentLabel,"label"),$ui.addClass(t.dom.accentLabel,"center"),t.dom.labels.appendChild(t.dom.accentLabel),t._setAccent=function(e){(void 0==e||null==e)&&(e=""),t.dom.accentLabel.textContent=e},t._setAccent=t._setAccent.$bind(t),t.dom.valueDiv=document.createElement("div"),$ui.addClass(t.dom.valueDiv,"value"),t.dom.chartDiv.appendChild(t.dom.valueDiv);var i=t.dom.canvas.getContext("2d");t.dom.ctx=i,t._width=t.dom.canvas.width,t._height=t.dom.canvas.height,t._renderLoop=function(){if(!(this._degrees>this._newDegrees)){requestAnimationFrame(this._renderLoop);var t=this.dom.ctx,e=this._degrees*Math.PI/180;t.clearRect(0,0,this._width,this._height),t.beginPath(),t.strokeStyle=$ui.theme.chart.color,t.lineWidth=40,t.arc(this._width/2,this._height/2,80,0-180*Math.PI/180,Math.PI/180,!1),t.stroke(),t.beginPath(),t.strokeStyle=this._color,t.arc(this._width/2,this._height/2,80,0-180*Math.PI/180,e-180*Math.PI/180,!1),t.stroke(),this._degrees<=this._newDegrees&&(this._degrees=this._degrees+this._step)}}.$bind(t),t._populateData=function(){void 0==this.min&&(this.min=0),void 0==this.max&&(this.max=100),void 0==this.value&&(this.value=this.min),this.value<this.min&&(this.value=this.min),this.dom.minLabel.textContent=this.min,this.dom.maxLabel.textContent=this.max,this.dom.valueDiv.textContent=this.value;var t=(this.value-this.min)/this.max;switch(this._newDegrees=180*t,!0){case.33>t:this._color=$ui.theme.chart.color_GREAT,this._step=2;break;case.77>t:this._color=$ui.theme.chart.color_GOOD,this._step=7;break;default:this._color=$ui.theme.chart.color_OK,this._step=10}this._degrees=this._newDegrees-this._step,this._renderLoop()}.$bind(t)}}function $ui_DockLayout(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-dock-layout"),t.dom.dock=document.createElement("div"),$ui.addClass(t.dom.dock,"dock");var i,o,n;if(t.dock)for(i=0;t.dock.length>i;i++)o=t.dock[i],n=$ui.createControl(o,e),n&&t.dom.dock.appendChild(n);if(t.dom.contentDiv=document.createElement("div"),$ui.addClass(t.dom.contentDiv,"contents"),t.content)for(i=0;t.content.length>i;i++)o=t.content[i],n=$ui.createControl(o,e),n&&t.dom.contentDiv.appendChild(n);return t.location===$ui.DockLayout.DockLocation.BOTTOM?(t.dom.appendChild(t.dom.contentDiv),t.dom.appendChild(t.dom.dock)):(t.dom.appendChild(t.dom.dock),t.dom.appendChild(t.dom.contentDiv)),t.dom}function $ui_GenericListItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-generic-list-item theme-text-color theme-screen-background-color theme-dark-border-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.dom.img=document.createElement("div"),$ui.addClass(t.dom.img,"img"),t.dom.appendChild(t.dom.img),t.dom.details=document.createElement("div"),$ui.addClass(t.dom.details,"details"),t.dom.appendChild(t.dom.details),t.dom.titleArea=document.createElement("div"),$ui.addClass(t.dom.titleArea,"title"),t.dom.details.appendChild(t.dom.titleArea),t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption"),t.dom.details.appendChild(t.dom.captionDiv),t.dom.accent=document.createElement("div"),$ui.addClass(t.dom.accent,"accent theme-generic-list-accent-color"),t.dom.details.appendChild(t.dom.accent),t._loadImage=function(){void 0!=this.img&&null!=this.img&&""!=this.img?(this._loader=new Image,this._loader.model=t,this._loader.onload=function(){this.model.dom.img.style.backgroundImage='url("'+this.model.img+'")',this.model.dom.img.style.opacity="1.0",this.model._loader=void 0},this._loader.onerror=function(){this.model.dom.img.style.backgroundImage="",this.model.dom.img.style.opacity="1.0",this.model._loader=void 0},this._loader.src=t.img):(this.dom.img.style.opacity="1.0",this.dom.loader=void 0)}.$bind(t),t._loadImage(),t._protected.img=t.img,Object.defineProperty(t,"img",{get:function(){return this._protected.img},set:function(t){t!=this._protected.img&&(this._protected.img=t,this._loadImage())},configurable:!1}),t.caption?t.dom.captionDiv.textContent=t.caption:$ui.addClass(t.dom,"no-caption"),t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){t!=this._protected.caption&&(this._protected.caption=t,void 0==t?$ui.addClass(this.dom,"no-caption"):($ui.removeClass(this.dom,"no-caption"),this.dom.captionDiv.textContent=t))},configurable:!1}),void 0!=t.accent&&(t.dom.accent.textContent=t.accent,$ui.addClass(t.dom,"has-accent")),t._protected.accent=t.accent,Object.defineProperty(t,"accent",{get:function(){return this._protected.accent},set:function(t){t!=this._protected.accent&&(this._protected.accent=t,void 0==t?$ui.removeClass(this.dom,"has-accent"):$ui.addClass(this.dom,"has-accent"))},configurable:!1}),t.dom.titleArea.textContent=t.title,t._protected.title=t.title,Object.defineProperty(t,"title",{get:function(){return this._protected.title},set:function(t){t!=this._protected.title&&(this._protected.title=t,this.dom.titleArea.textContent=t)},configurable:!1}),t.dom.ontouchstart=function(){$ui.removeClass(this,"theme-screen-background-color"),$ui.addClass(this,"theme-brand-background-color"),$ui.removeClass(this,"theme-text-color"),$ui.addClass(this,"theme-highlight-text-color"),this.model.dom&&this.model.dom.accent&&$ui.removeClass(this.model.dom.accent,"theme-generic-list-accent-color")},t.dom.ontouchend=function(){$ui.removeClass(this,"theme-brand-background-color"),$ui.addClass(this,"theme-screen-background-color"),$ui.removeClass(this,"theme-highlight-text-color"),$ui.addClass(this,"theme-text-color"),this.model.dom&&this.model.dom.accent&&$ui.addClass(this.model.dom.accent,"theme-generic-list-accent-color")},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.addEventListener("click",function(){if(void 0!=this.model.parent.onaction){var t=new ListEvent(this.model,$ui.GenericListItem.GenericListEvent.ONCLICK);
this.model.parent._onaction(this.model,t),$ui.playTouchSound()}},!1),t.dom}function $ui_Header(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-header theme-text-color theme-brand-border-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.caption&&(t.dom.textContent=t.caption),t.dom}function $ui_ImageListItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-image-list-item"),t.dom.img=document.createElement("div"),$ui.addClass(t.dom.img,"img"),t.dom.appendChild(t.dom.img),void 0!=t.img&&null!=t.img&&""!=t.img?(t._loader=new Image,t._loader.model=t,t._loader.onload=function(){this.model.dom.img.style.backgroundImage='url("'+this.model.img+'")',this.model.dom.img.style.opacity="1.0",this.model._loader=void 0},t._loader.onerror=function(){this.model.dom.img.style.backgroundImage="",this.model.dom.img.style.opacity="1.0",this.model._loader=void 0},t._loader.src=t.img):(t.dom.img.style.opacity="1.0",t.dom.loader=void 0),t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption theme-highlight-text-color"),t.dom.appendChild(t.dom.captionDiv),t.caption?t.dom.captionDiv.textContent=t.caption:$ui.addClass(t.dom.captionDiv,"no-caption"),t.dom.addEventListener("click",function(){if(void 0!=this.model.parent.onaction){var t=new ListEvent(this.model,$ui.ImageListItem.ImageListEvent.ONCLICK);this.model.parent._onaction(this.model,t),$ui.playTouchSound()}},!1),t.dom}function $ui_Input(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-input"),t.dom.style.borderColor=$ui.theme.borderColor,1==$ui.isApple&&$ui.addClass(t.dom,"iOS"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t._protected.inputType=t.inputType,Object.defineProperty(t,"inputType",{get:function(){return this._protected.inputType},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","inputType"))},configurable:!1}),t.warning=!1,t._protected.warning=t.warning,Object.defineProperty(t,"warning",{get:function(){return this._protected.warning},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","warning"))},configurable:!1}),t.dom.placeholder=document.createElement("div"),$ui.addClass(t.dom.placeholder,"placeholder theme-hint-text-color"),t.dom.appendChild(t.dom.placeholder),t._protected.multiLine=t.multiLine,Object.defineProperty(t,"multiLine",{get:function(){return this._protected.multiLine},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","multiLine"))},configurable:!1}),t._setEnabled=function(t){1==t?this.dom.input.removeAttribute("readonly"):this.dom.input.setAttribute("readonly","true")}.$bind(t),0==t.enabled&&t._setEnabled(!1),t.computePlaceholder=function(){var t=""==this.dom.input.value||void 0==this.dom.input.value?!1:!0;t?($ui.addClass(this.dom.placeholder,"draw-small"),$ui.addClass(this.dom.input,"small-placeholder"),void 0!=this.dom.textAreaSize&&$ui.addClass(this.dom.textAreaSize,"small-placeholder")):($ui.removeClass(this.dom.placeholder,"draw-small"),$ui.removeClass(this.dom.input,"small-placeholder"),void 0!=this.dom.textAreaSize&&$ui.removeClass(this.dom.textAreaSize,"small-placeholder"))}.$bind(t),1==t.multiLine){if(t.dom.input=document.createElement("textarea"),$ui.addClass(t.dom.input,"textarea"),t.dom.appendChild(t.dom.input),t.dom.textAreaSize=document.createElement("div"),$ui.addClass(t.dom.textAreaSize,"textarea-size"),t.dom.appendChild(t.dom.textAreaSize),t.text&&(t.dom.input.value=t.text,t.dom.textAreaSize.innerHTML=t.text),void 0!=t.minLinesToShow&&parseInt(t.minLinesToShow)>1){var i=35*t.minLinesToShow;t.dom.textAreaSize.style["min-height"]=i+"px"}if(void 0!=t.maxLinesToShow&&parseInt(t.maxLinesToShow)>1){var o=35*(t.maxLinesToShow-1);t.dom.textAreaSize.style["max-height"]=o+"px",t.dom.input.style["overflow-y"]="scroll",t.dom.input.onscroll=function(){this.model.dom.placeholder.style.display=this.scrollTop>0?"none":"inherit"}}}else t.dom.input=document.createElement("input"),1==t.password?t.dom.input.setAttribute("type","password"):t.dom.input.setAttribute("type","text"),$ui.addClass(t.dom.input,"text"),t.dom.input.style.color=$ui.theme.textColor,t.text&&t.dom.input.setAttribute("value",t.text),t.dom.appendChild(t.dom.input);return t.id&&t.dom.input.setAttribute("data-interaction-input",t.id),t.dom.input.onfocus=function(){this.model.dom.style.borderColor=$ui.theme.color,$ui.addClass(this.model.dom,"theme-brand-border-color"),this.model.onfocus&&this.model.onfocus()},t.dom.input.onblur=function(){$ui.removeClass(this.model.dom,"theme-brand-border-color"),this.model.onblur&&this.model.onblur()},t.dom.input.model=t,t.computePlaceholder(),void 0!=t.tabIndex&&(t.dom.input.tabIndex=t.tabIndex),t._protected.tabIndex=t.tabIndex,Object.defineProperty(t,"tabIndex",{get:function(){return this._protected.tabIndex},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","tabIndex"))},configurable:!1}),$ui.isApple===!0?t.multiLine===!0&&(t.dom.input.addEventListener("touchstart",function(t){t.stopPropagation()},!1),t.dom.input.addEventListener("touchend",function(t){t.stopPropagation()},!1)):(t.dom.input.addEventListener("touchstart",function(t){t.stopPropagation()},!1),t.dom.input.addEventListener("touchend",function(t){t.stopPropagation()},!1)),t.dom.input.addEventListener("keyup",function(t){13==t.keyCode&&this.model.onenterkey&&this.model.onenterkey()},!1),t.dom.input.addEventListener("keydown",function(t){if(this.model.inputType==$ui.Input.InputType.INTEGER||this.model.inputType==$ui.Input.InputType.FLOAT){if(127==t.keyCode||8==t.keyCode||9==t.keyCode||13==t.keyCode||46==t.keyCode||37==t.keyCode||39==t.keyCode)return;if(t.keyCode>=48&&57>=t.keyCode||t.keyCode>=96&&105>=t.keyCode)return;if((110==t.keyCode||190==t.keyCode)&&this.model.inputType==$ui.Input.InputType.FLOAT)return;t.preventDefault()}},!1),t.dom.input.addEventListener("input",function(){this.model._raiseInteractionEvent("data-interaction-input"),this.model._protected.text=this.value,1==this.model.multiLine&&(this.model.dom.textAreaSize.innerHTML=this.value.replace(RegExp("\n","g"),"<br>&nbsp;")),this.model.computePlaceholder(),this.model._updateData(this.model.text),this.model.onchange&&this.model.onchange()},!1),t._protected.text=t.text,Object.defineProperty(t,"text",{get:function(){return this._protected.text},set:function(t){t!=this._protected.text&&(this._setText(t),this._updateData(this.text))},configurable:!1}),t.setFocus=function(){this.dom.input.focus()}.$bind(t),t._setText=function(t){void 0==t&&(t=""),this._protected.warning=!1,$ui.removeClass(this.dom.input,"theme-warning-text-color"),$ui.removeClass(this.dom.placeholder,"theme-warning-text-color"),this._protected.text=t,1==this.multiLine?($ui.removeClass(this.dom.input,"placeholder"),this.dom.input.value=t,this.dom.textAreaSize.innerHTML=t,this.dom.input.onblur()):this.dom.input.value=this._protected.text,this.computePlaceholder()}.$bind(t),void 0==t.hint&&(t.hint=""),t.dom.placeholder.textContent=t.hint,t._protected.hint=t.hint,Object.defineProperty(t,"hint",{get:function(){return this._protected.hint},set:function(t){void 0==t&&(t=""),t!=this._protected.hint&&(this._protected.hint=t,this.dom.placeholder.textContent=t,this.computePlaceholder())},configurable:!1}),t.validate=function(){return this.onvalidate&&0==this.onvalidate()&&(this._protected.warning=!0),1==this._protected.warning?($ui.addClass(this.dom.input,"theme-warning-text-color"),$ui.addClass(this.dom.placeholder,"theme-warning-text-color")):($ui.removeClass(this.dom.input,"theme-warning-text-color"),$ui.removeClass(this.dom.placeholder,"theme-warning-text-color"),1==this._protected.hadNoHint?this.hint=void 0:this.dom.placeholder.textContent=this.hint),!this._protected.warning}.$bind(t),t._providerUpdate=function(t){this._setText(t)}.$bind(t),t.dom}function ScreenBackground(t,e){if(null==t)throw Error("ScreenBackground: img cannot be null");if(void 0==t)throw Error("ScreenBackground: img cannot be undefined");this.img=t,(void 0==e||null==e)&&(this.repeat=!1)}function $ui_SegmentedControl(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-segmented-control theme-segmented-control"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.domOptions=[],t.setSelectedIndex=function(t){this.selectedIndex!=t&&(this.selectedIndex=t,this.onclick&&this.onclick()),this._setSelectedIndex(t)}.$bind(t),t._setSelectedIndex=function(t){if(this.options){var e,i;for(e=0;this.domOptions.length>e;e++)i=this.domOptions[e],e==t?i._setSelected(!0):i._setSelected(!1)}}.$bind(t),t.options){var i,o,n=100/t.options.length;for(i=0;t.options.length>i;i++)o=document.createElement("div"),$ui.addClass(o,"button"),0==i?$ui.addClass(o,"left"):i==t.options.length-1&&$ui.addClass(o,"right"),o.model=t,o.index=i,o.selected=!1,o.style.width=n+"%",o.style.left=i*n+"%",o.textContent=t.options[i],t.domOptions.push(o),t.dom.appendChild(o),o.addEventListener("click",function(){0!=this.model.enabled&&(this.selected||this.model.setSelectedIndex(this.index))},!1),o._setSelected=function(t){this.selected=t,1==t?($ui.addClass(this,"selected"),$ui.addClass(this,"theme-brand-background-color"),$ui.addClass(this,"theme-highlight-text-color")):($ui.removeClass(this,"selected"),$ui.removeClass(this,"theme-brand-background-color"),$ui.removeClass(this,"theme-highlight-text-color"))}.$bind(o)}return t.selectedIndex?t._setSelectedIndex(t.selectedIndex):(t.selectedIndex=0,t._setSelectedIndex(0)),t.dom}function $ui_SplitView(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-split-view");var i,o,n;if(t.dom.leftCol=document.createElement("div"),$ui.addClass(t.dom.leftCol,"col"),$ui.addClass(t.dom.leftCol,"left theme-brand-border-color"),t.dom.appendChild(t.dom.leftCol),t.left)for(i=0;t.left.length>i;i++)o=t.left[i],n=$ui.createControl(o,e),n&&t.dom.leftCol.appendChild(n);if(t.dom.rightCol=document.createElement("div"),$ui.addClass(t.dom.rightCol,"col"),$ui.addClass(t.dom.rightCol,"right"),t.dom.appendChild(t.dom.rightCol),t.right)for(i=0;t.right.length>i;i++)o=t.right[i],n=$ui.createControl(o,e),n&&t.dom.rightCol.appendChild(n);return t.dom}function $ui_Tab(t,e){t.visible=!1,$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-tab"),1!=t.selected&&(t.selected=!1);var i,o,n;if(t.content)for(i=0;t.content.length>i;i++)o=t.content[i],n=$ui.createControl(o,e),n&&t.dom.appendChild(n);return t.dom}function $ui_TabbedPane(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-tabbed-pane"),t._selectedTab=void 0;var i,o,n;if(t.tabs)for(i=0;t.tabs.length>i;i++)o=t.tabs[i],o.component==$ui.Tab&&(o.parent=t,n=$ui.createControl(o,e),n&&t.dom.appendChild(n),o.selected===!0&&void 0==t._selectedTab&&(t._selectedTab=o));return t.selectTab=function(t){if(void 0!=t&&t.component==$ui.Tab&&t!==this._selectedTab){var e,i;for(e=0;this.tabs.length>e;e++)i=this.tabs[e],i.selected=!1,i.visible=!1;this._selectTab(t)}}.$bind(t),t._selectTab=function(e){void 0!=e&&e.component==$ui.Tab&&(t._selectedTab=e,e.selected=!0,e.visible=!0)}.$bind(t),void 0==t._selectedTab&&t.tabs.length>0&&(t._selectedTab=t.tabs[0]),void 0!=t._selectedTab&&t._selectTab(t._selectedTab),t.dom}function $ui_TileGroup(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-tile-group"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t._tileSize=256,t._thresholdWidth=1024,t.dom.inner=document.createElement("div"),$ui.addClass(t.dom.inner,"group-inner"),t.dom.appendChild(t.dom.inner),t.matrix=[],t._setTileTopLeft=function(t,e,i){t.dom.style.top=e*this._tileSize+"px",t.dom.style.left=i*this._tileSize+"px"}.$bind(t),t._positionTile=function(e){var i,o,n,s=!1;if(void 0==e._size)for(n=0;this.matrix.length>n;n++){for(i=this.matrix[n],o=0;i.length>o;o++)if(0===i[o]){i[o]=1,this._setTileTopLeft(e,n,o),s=!0;break}if(1==s)break}else if(e._size==$ui.TileSize.WIDE)for(n=0;this.matrix.length>n;n++){for(i=this.matrix[n],o=0;i.length>o;o++)if(0===i[o]&&i.length>=o+1&&0===i[o+1]){i[o]=1,i[o+1]=1,this._setTileTopLeft(e,n,o),s=!0;break}if(1==s)break}else if(e._size==$ui.TileSize.TALL)for(n=0;this.matrix.length>n;n++){for(i=this.matrix[n],o=0;i.length>o;o++)if(0===i[o]&&this.matrix.length>n+1&&0===this.matrix[n+1][o]){i[o]=1,this.matrix[n+1][o]=1,this._setTileTopLeft(e,n,o),s=!0;break}if(1==s)break}else if(e._size==$ui.TileSize.SQUARE)for(n=0;this.matrix.length>n;n++){for(i=this.matrix[n],o=0;i.length>o;o++)if(0===i[o]&&this.matrix.length>n+1&&0===this.matrix[n+1][o]&&i.length>o+1&&0===this.matrix[n+1][o+1]){i[o]=1,i[o+1]=1,this.matrix[n+1][o]=1,this.matrix[n+1][o+1]=1,this._setTileTopLeft(e,n,o),s=!0;break}if(1==s)break}0==s&&(void 0==e._size?(1==t._is3Columns?this.matrix.push([1,0,0]):this.matrix.push([1,0,0,0]),this._setTileTopLeft(e,this.matrix.length-1,0)):e._size==$ui.TileSize.WIDE?(1==t._is3Columns?this.matrix.push([1,1,0]):this.matrix.push([1,1,0,0]),this._setTileTopLeft(e,this.matrix.length-1,0)):(1==t._is3Columns?this.matrix.push([0,0,0]):this.matrix.push([0,0,0,0]),this._positionTile(e)))}.$bind(t),t._recalculateHeight=function(){this.dom.inner.style.height=this.matrix.length*this._tileSize+"px"}.$bind(t),t.tiles){var i,o,n;for(i=0;t.tiles.length>i;i++)o=t.tiles[i],n=$ui.createControl(o,e),n&&t.dom.inner.appendChild(n);t._recalculateHeight()}return t._layoutTiles=function(){var t;for(0==this._is3Columns?(this.matrix=[],this.matrix.push([0,0,0,0])):(this.matrix=[],this.matrix.push([0,0,0])),t=0;this.tiles.length>t;t++)this._positionTile(this.tiles[t]);this._recalculateHeight()}.$bind(t),t._onresize=function(){1!=$ui.options.isClientDevice&&(1==this._is3Columns&&this.dom.offsetWidth>=this._thresholdWidth?this._layoutTiles():0==this._is3Columns&&this.dom.offsetWidth<this._thresholdWidth&&this._layoutTiles())}.$bind(t),t._onshow=function(){1!=$ui.options.isClientDevice&&(this._is3Columns=this.dom.offsetWidth<this._thresholdWidth,this._layoutTiles()),this.dom.style.visibility="visible"}.$bind(t),t.dom}function $ui_Toggle(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-toggle"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.dom.bottomBorder=document.createElement("div"),$ui.addClass(t.dom.bottomBorder,"bottom-border theme-dark-background-color"),t.dom.appendChild(t.dom.bottomBorder),t.dom.caption=document.createElement("span"),$ui.addClass(t.dom.caption,"caption theme-text-color"),t.dom.appendChild(t.dom.caption),t.dom.duration=document.createElement("div"),$ui.addClass(t.dom.duration,"duration"),t.dom.appendChild(t.dom.duration),t.dom.duration.bottomDiv=document.createElement("div"),$ui.addClass(t.dom.duration.bottomDiv,"bottom"),t.dom.duration.appendChild(t.dom.duration.bottomDiv),t.dom.duration.number=document.createElement("div"),$ui.addClass(t.dom.duration.number,"number theme-highlight-text-color"),t.dom.duration.bottomDiv.appendChild(t.dom.duration.number),t.dom.duration.bar=document.createElement("div"),$ui.addClass(t.dom.duration.bar,"bar theme-brand-background-color"),t.dom.duration.bottomDiv.appendChild(t.dom.duration.bar),void 0==t.style&&(t.style=$ui.Toggle.Style.OnOff),$ui.addClass(t.dom,t.style),t._protected.style=t.style,Object.defineProperty(t,"style",{get:function(){return this._protected.style},set:function(t){void 0==t&&(t=$ui.Toggle.Style.OnOff),t!=this._protected.style&&($ui.removeClass(this.dom,this._protected.style),this._protected.style==$ui.Toggle.Style.OnOff?this.dom.removeChild(this.dom.innerToggle):this._protected.style==$ui.Toggle.Style.Momentary?this.dom.removeChild(this.dom.momentary):this._protected.style==$ui.Toggle.Style.OnOffOn&&this.dom.removeChild(this.dom.innerToggle),this._protected.style=t,$ui.addClass(this.dom,this._protected.style),t==$ui.Toggle.Style.OnOff?(this._createOnOffStyle(),this._setPosition(this.position)):t==$ui.Toggle.Style.Momentary?this._createMomentaryStyle():t==$ui.Toggle.Style.OnOffOn&&(this._createOnOffOnStyle(),this._setPosition(this.position)))},configurable:!1}),t._createOnOffStyle=function(){this.dom.innerToggle=document.createElement("div"),this.dom.innerToggle.model=this,$ui.addClass(this.dom.innerToggle,"inner-toggle theme-border-color"),this.dom.appendChild(this.dom.innerToggle),this.dom.slide=document.createElement("div"),$ui.addClass(this.dom.slide,"slide"),this.dom.innerToggle.appendChild(this.dom.slide),this.dom.left=document.createElement("div"),$ui.addClass(this.dom.left,"left"),this.dom.slide.appendChild(this.dom.left),this.dom.button=document.createElement("div"),$ui.addClass(this.dom.button,"button theme-border-color"),this.dom.slide.appendChild(this.dom.button),this.dom.button.inner=document.createElement("div"),$ui.addClass(this.dom.button.inner,"button-inner theme-brand-border-color"),this.dom.button.appendChild(this.dom.button.inner),this.dom.right=document.createElement("div"),$ui.addClass(this.dom.right,"right"),this.dom.slide.appendChild(this.dom.right),this.dom.innerToggle.addEventListener("click",function(){0!=this.model.enabled&&1!=this.model._protected.isCountingDown&&($ui.playTouchSound(),this.model.position=0==this.model.position?1:0,this.model.onclick&&this.model.onclick(this.model))},!1)}.$bind(t),t._createOnOffOnStyle=function(){this.dom.innerToggle=document.createElement("div"),this.dom.innerToggle.model=this,$ui.addClass(this.dom.innerToggle,"inner-toggle theme-border-color"),this.dom.appendChild(this.dom.innerToggle),this.dom.slide=document.createElement("div"),$ui.addClass(this.dom.slide,"slide"),this.dom.innerToggle.appendChild(this.dom.slide),this.dom.left=document.createElement("div"),$ui.addClass(this.dom.left,"left"),this.dom.slide.appendChild(this.dom.left),this.dom.left.label=document.createElement("div"),$ui.addClass(this.dom.left.label,"label theme-dark-text-color"),this.dom.left.appendChild(this.dom.left.label),void 0!=this.negativeLabel&&this.style==$ui.Toggle.Style.OnOffOn&&(this.dom.left.label.textContent=this.negativeLabel),this.dom.button=document.createElement("div"),$ui.addClass(this.dom.button,"button theme-border-color"),this.dom.slide.appendChild(this.dom.button),this.dom.button.inner=document.createElement("div"),$ui.addClass(this.dom.button.inner,"button-inner theme-brand-border-color"),this.dom.button.appendChild(this.dom.button.inner),this.dom.right=document.createElement("div"),$ui.addClass(this.dom.right,"right"),this.dom.slide.appendChild(this.dom.right),this.dom.right.label=document.createElement("div"),$ui.addClass(this.dom.right.label,"label theme-dark-text-color"),this.dom.right.appendChild(this.dom.right.label),void 0!=this.positiveLabel&&this.style==$ui.Toggle.Style.OnOffOn&&(this.dom.right.label.textContent=this.positiveLabel),this.dom.innerToggle.onclick=function(t){if(0!=this.model.enabled&&1!=this.model._protected.isCountingDown){$ui.playTouchSound();var e=this.getBoundingClientRect(),i=(e.right-e.left)/3;this.model.position=t.clientX<e.left+i?-1:t.clientX>e.right-i?1:0,this.model.onclick&&this.model.onclick(this.model)}}}.$bind(t),t._createMomentaryStyle=function(){this.dom.momentary=document.createElement("div"),this.dom.momentary.model=this,$ui.addClass(this.dom.momentary,"momentary theme-brand-background-color theme-highlight-text-color"),this.dom.appendChild(this.dom.momentary),this.dom.momentary.onclick=function(){if(1!=this.model._protected.isCountingDown&&0!=this.model.enabled&&($ui.playTouchSound(),this.model.position=1,this.model.onclick&&this.model.onclick(this.model),void 0==this.model.duration||0>=this.model.duration)){var t=this.model;window.setTimeout(function(){t.position=0},500)}},this.dom.momentary.ontouchstart=function(){this.style.opacity="0.7"},this.dom.momentary.ontouchend=function(){this.style.opacity=""},this.dom.momentary.ontouchcancel=this.dom.momentary.ontouchend,$ui.isMobileDevice()||(this.dom.momentary.onmousedown=this.dom.momentary.ontouchstart,this.dom.momentary.onmouseup=this.dom.momentary.ontouchend,this.dom.momentary.onmouseleave=this.dom.momentary.ontouchend)}.$bind(t),t.style==$ui.Toggle.Style.OnOff?t._createOnOffStyle():t.style==$ui.Toggle.Style.Momentary?t._createMomentaryStyle():t.style==$ui.Toggle.Style.OnOffOn&&t._createOnOffOnStyle(),t._protected.positiveLabel=t.positiveLabel,Object.defineProperty(t,"positiveLabel",{get:function(){return this._protected.positiveLabel},set:function(t){void 0==t&&(t=""),t!=this._protected.positiveLabel&&(this._protected.positiveLabel=t,this.style==$ui.Toggle.Style.OnOffOn&&(this.dom.right.label.textContent=t))},configurable:!1}),t._protected.negativeLabel=t.negativeLabel,Object.defineProperty(t,"negativeLabel",{get:function(){return this._protected.negativeLabel},set:function(t){void 0==t&&(t=""),t!=this._protected.negativeLabel&&(this._protected.negativeLabel=t,this.style==$ui.Toggle.Style.OnOffOn&&(this.dom.left.label.textContent=t))},configurable:!1}),void 0!=t.caption&&(t.dom.caption.textContent=t.caption),t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){t!=this._protected.caption&&(void 0==t&&(t=""),this._protected.caption=t,this.dom.caption.textContent=t)},configurable:!1}),"center"==t.align?$ui.addClass(t.dom.caption,"align-center"):"right"==t.align?$ui.addClass(t.dom.caption,"align-right"):(t.align="left",$ui.addClass(t.dom.caption,"align-left")),t._protected.align=t.align,Object.defineProperty(t,"align",{get:function(){return this._protected.align},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","align"))},configurable:!1}),t._setPosition=function(t){void 0==t&&(t=0),this._protected.position=t,this.style==$ui.Toggle.Style.OnOff?0==t?($ui.removeClass(this.dom.innerToggle,"yes"),$ui.removeClass(this.dom.innerToggle,"theme-brand-background-color"),$ui.removeClass(this.dom.button.inner,"theme-light-background-color"),$ui.addClass(this.dom.innerToggle,"no")):($ui.removeClass(this.dom.innerToggle,"no"),$ui.addClass(this.dom.innerToggle,"yes theme-brand-background-color"),$ui.addClass(this.dom.button.inner,"theme-light-background-color")):this.style==$ui.Toggle.Style.OnOffOn&&($ui.removeClass(this.dom.innerToggle,"theme-brand-background-color"),$ui.removeClass(this.dom.button.inner,"theme-light-background-color"),0==t?($ui.removeClass(this.dom.innerToggle,"positive"),$ui.removeClass(this.dom.innerToggle,"negative"),this.dom.right.label.style.display="block",this.dom.left.label.style.display="block"):1==t?($ui.removeClass(this.dom.innerToggle,"negative"),$ui.addClass(this.dom.innerToggle,"positive theme-brand-background-color"),$ui.addClass(this.dom.button.inner,"theme-light-background-color"),this.dom.right.label.style.display="none",this.dom.left.label.style.display="none"):($ui.removeClass(this.dom.innerToggle,"positive"),$ui.addClass(this.dom.innerToggle,"negative theme-brand-background-color"),$ui.addClass(this.dom.button.inner,"theme-light-background-color"),this.dom.right.label.style.display="none",this.dom.left.label.style.display="none"))}.$bind(t),void 0==t.duration&&(t.duration=0),t.duration>0&&(t.dom.duration.style.display="block"),t._protected.duration=t.duration,Object.defineProperty(t,"duration",{get:function(){return this._protected.duration},set:function(t){void 0==t&&(t=0),t!=this._protected.duration&&(this._protected.duration=t,this.dom.duration.style.display=0>=t?"none":"block")},configurable:!1}),void 0==t.position&&(t.position=0),t._setPosition(t.position),t._protected.position=t.position,Object.defineProperty(t,"position",{get:function(){return this._protected.position},set:function(t){t!=this._protected.position&&(this._protected.position=t,this._setPosition(t),this._updateData(t),0==t?(this._protected.isCountingDown=!1,this.dom.duration.bottomDiv.style.opacity=0,this.dom.duration.style["-webkit-transform"]="translate3d(0px, 0px, 0px)",this.style==$ui.Toggle.Style.OnOff||this.style==$ui.Toggle.Style.OnOffOn?this.dom.innerToggle.style.opacity=1:this.dom.momentary.style.opacity=1):this.duration&&this.duration>0&&(this.dom.duration.bottomDiv.style.opacity=1,this.dom.duration.style["-webkit-transform"]=1==$ui.options.isClientDevice?"translate3d(-20px, -10px, 0px)":"translate3d(-26px, -14px, 0px)",this._protected.intervalCount=this.duration,this._protected.isCountingDown=!0,this.dom.duration.bar.style.width="100%",this.dom.duration.number.textContent=this._protected.intervalCount/1e3,this._protected.interval=window.setInterval(this._countDownInterval,1e3),this.style==$ui.Toggle.Style.OnOff||this.style==$ui.Toggle.Style.OnOffOn?this.dom.innerToggle.style.opacity=.5:this.dom.momentary.style.opacity=.5))},configurable:!1}),t._countDownInterval=function(){this._protected.intervalCount=this._protected.intervalCount-1e3;var t=this._protected.intervalCount/1e3;0>t&&(t=0),this.dom.duration.number.textContent=t,this.dom.duration.bar.style.width=100*(1-(this._protected.duration-this._protected.intervalCount)/this._protected.duration)+"%",0>=this._protected.intervalCount&&(window.clearInterval(this._protected.interval),this.position=0)}.$bind(t),t._providerUpdate=function(t){this._setPosition(t)}.$bind(t),t._ondestroy=function(){this._protected.interval&&window.clearInterval(this._protected.interval)}.$bind(t),t.dom}function $ui_WindowPane(t,e){if($ui_CoreScreen.call(this,t,e),t){if($ui.addClass(t.dom,"ui-window-pane theme-screen-background-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.dom.style.width=t.width?t.width+"px":window.innerWidth+"px",t.dom.backgroundDiv=document.createElement("div"),$ui.addClass(t.dom.backgroundDiv,"background theme-screen-background-color"),t.dom.appendChild(t.dom.backgroundDiv),t.backCaption){t.dom.backBar=document.createElement("div"),$ui.addClass(t.dom.backBar,"back-bar theme-screen-background-color theme-brand-border-color"),$ui.addClass(t.dom,"has-back"),t.dom.appendChild(t.dom.backBar),t.dom.backCaption=document.createElement("span"),t.dom.backCaption.textContent=t.backCaption,t.dom.backCaption.model=t,$ui.addClass(t.dom.backCaption,"caption theme-text-color"),t.dom.backBar.appendChild(t.dom.backCaption),t.dom.backCaption.onclick=function(){if($ui.playTouchSound(),this.model.onbackclick){var t=this.model.onbackclick();0!=t&&$ui.pop()}else $ui.pop()};try{Object.defineProperty(t,"backCaption",{get:function(){return t.dom.backCaption.textContent},set:function(e){console.log("RPW: setting caption to "+e),t.dom.backCaption.textContent=e}})}catch(i){console.log("RPW: ignoring "+i)}}if(t.setBackground=function(t){this.background&&(this.dom.backgroundDiv.style.opacity="0"),void 0!=t&&(this.background=t,this.background.repeat===!0?this.dom.backgroundDiv.style.backgroundRepeat="repeat":this.dom.backgroundDiv.style.backgroundSize="cover",this.background.img&&(this._loader=new Image,this._loader.model=this,this._loader.onload=function(){this.model.dom.backgroundDiv.style.backgroundImage='url("'+this.model.background.img+'")',this.model.dom.backgroundDiv.style.opacity="1",this.model._loader=null},this._loader.src=this.background.img))}.$bind(t),t.dom.contentDiv=document.createElement("div"),$ui.addClass(t.dom.contentDiv,"inner"),t.dom.appendChild(t.dom.contentDiv),t._protected.content=t.content,Object.defineProperty(t,"content",{get:function(){return this._protected.content},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","content"))},configurable:!1}),t._getControlListProperty=function(){return this.content}.$bind(t),t._getControlListDom=function(){return this.dom.contentDiv}.$bind(t),t.content)for(var o=0;t.content.length>o;o++)t._addComponent(t.content[o]);return t._onwindowpaneresize=function(){this.dom.style.width="",this.dom.style.right="0px"}.$bind(t),t._onbeforepop=function(){1==this.animated&&(this.dom.style["-webkit-animation-delay"]="",this.dom.style["-webkit-animation-name"]="ui-pane-slide-right")}.$bind(t),t._initialize=function(){this.background&&this.setBackground(this.background)}.$bind(t),t.dom}}function $ui_ExtendWS12(){$ui.addExtension(new UIExtension("Browser",$ui_Browser)),$ui.addExtension(new UIExtension("DialPad",$ui_DialPad)),$ui.addExtension(new UIExtension("Map",$ui_Map)),$ui.addExtension(new UIExtension("MediaPlayer",$ui_MediaPlayer)),$ui.addExtension(new UIExtension("ResponsiveLayout",$ui_ResponsiveLayout)),$ui.addExtension(new UIExtension("MenuItem",$ui_MenuItem)),$ui.addExtension(new UIExtension("RawContent",$ui_RawContent)),$ui.addExtension(new UIExtension("Suspension",$ui_Suspension)),$ui.addExtension(new UIExtension("OnlineScreen",$ui_OnlineScreen,$ui.UIExtensionType.SCREEN)),$ui.addExtension(new UIExtension("TileAcceleration",$ui_TileAcceleration)),$ui.addExtension(new UIExtension("TileBadge",$ui_TileBadge)),$ui.addExtension(new UIExtension("TileBraking",$ui_TileBraking)),$ui.addExtension(new UIExtension("TileDistance",$ui_TileDistance)),$ui.addExtension(new UIExtension("TileFuel",$ui_TileFuel)),$ui.addExtension(new UIExtension("TileIdle",$ui_TileIdle)),$ui.addExtension(new UIExtension("TileIdleDetails",$ui_TileIdleDetails)),$ui.addExtension(new UIExtension("TileMPG",$ui_TileMPG)),$ui.addExtension(new UIExtension("TileProfile",$ui_TileProfile)),$ui.addExtension(new UIExtension("TileRecord",$ui_TileRecord)),$ui.addExtension(new UIExtension("TileTimer",$ui_TileTimer)),$ui.addExtension(new UIExtension("TileTimeDonut",$ui_TileTimeDonut)),$ui.addExtension(new UIExtension("TileTimeHistory",$ui_TileTimeHistory)),$ui.addExtension(new UIExtension("TileDynoChart",$ui_TileDynoChart)),$ui.addExtension(new UIExtension("TileDriftAngle",$ui_TileDriftAngle)),$ui.addExtension(new UIExtension("TileLateralGs",$ui_TileLateralGs)),def={PhoneLogListEvent:{ONCLICK:"onclick"},PhoneLogStyle:{INCOMING:"incoming",OUTGOING:"outgoing",MISSED:"missed"}},$ui.addExtension(new UIExtension("PhoneLogListItem",$ui_PhoneLogListItem,$ui.UIExtensionType.LISTITEM,def)),def={ColorListEvent:{ONCLICK:"onclick"}},$ui.addExtension(new UIExtension("ColorListItem",$ui_ColorListItem,$ui.UIExtensionType.LISTITEM,def)),def={SuspensionListEvent:{ONCLICK:"onclick"}},$ui.addExtension(new UIExtension("SuspensionListItem",$ui_SuspensionListItem,$ui.UIExtensionType.LISTITEM,def)),$ui.addExtension(new UIExtension("PostListItem",$ui_PostListItem,$ui.UIExtensionType.LISTITEM))}function FastClick(t,e){"use strict";function i(t,e){return function(){return t.apply(e,arguments)}}var o;e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,FastClick.notNeeded(t)||(deviceIsAndroid&&(t.addEventListener("mouseover",i(this.onMouse,this),!0),t.addEventListener("mousedown",i(this.onMouse,this),!0),t.addEventListener("mouseup",i(this.onMouse,this),!0)),t.addEventListener("click",i(this.onClick,this),!0),t.addEventListener("touchstart",i(this.onTouchStart,this),!1),t.addEventListener("touchmove",i(this.onTouchMove,this),!1),t.addEventListener("touchend",i(this.onTouchEnd,this),!1),t.addEventListener("touchcancel",i(this.onTouchCancel,this),!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,o){var n=Node.prototype.removeEventListener;"click"===e?n.call(t,e,i.hijacked||i,o):n.call(t,e,i,o)},t.addEventListener=function(e,i,o){var n=Node.prototype.addEventListener;"click"===e?n.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),o):n.call(t,e,i,o)}),"function"==typeof t.onclick&&(o=t.onclick,t.addEventListener("click",function(t){o(t)},!1),t.onclick=null))}function $ui_CoreComponent(t,e){try{if(t){if(this.object=t,t._protected={model:t},t.dom=document.createElement("div"),t.dom.model=t,$ui.addClass(t.dom,"ui-core-component"),t.id&&t.dom.setAttribute("data-id",t.id),t._protected.component=t.component,Object.defineProperty(t,"component",{get:function(){return this._protected.component},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","component"))},configurable:!1}),void 0!=e&&(t.screen=e,e.children.push(t),t.id)){if(void 0!=e[t.id]){var i='WARNING: You have used a non-unique id: "'+t.id+'"';
void 0!=e.id&&(i=i+' on screen "'+e.id+'"'),console.log(i)}e[t.id]=t}if(t._protected.screen=t.screen,Object.defineProperty(t,"screen",{get:function(){return this._protected.screen},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","screen"))},configurable:!1}),t._protected.id=t.id,Object.defineProperty(t,"id",{get:function(){return this._protected.id},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","id"))},configurable:!1}),0!=t.enabled?t.enabled=!0:$ui.addClass(t.dom,"disabled"),t._protected.enabled=t.enabled,Object.defineProperty(t,"enabled",{get:function(){return this._protected.enabled},set:function(t){t!=this._protected.enabled&&(this._protected.enabled&&0==t?(this._protected.enabled=!1,$ui.addClass(this.dom,"disabled")):0==this._protected.enabled&&1==t&&(this._protected.enabled=!0,$ui.removeClass(this.dom,"disabled")),this._setEnabled&&this._setEnabled(t))},configurable:!1}),1==t.animated?$ui.addClass(t.dom,"animated"):t.animated=!1,t._protected.animated=t.animated,Object.defineProperty(t,"animated",{get:function(){return this._protected.animated},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","animated"))},configurable:!1}),void 0!=t.visible&&0==t.visible?t.dom.style.display="none":t.visible=!0,t._protected.visible=t.visible,Object.defineProperty(t,"visible",{get:function(){return this._protected.visible},set:function(t){t!=this._protected.visible&&(1==t?(this._protected.visible=!0,void 0!=this.dom&&(this.dom.style.display="")):(this._protected.visible=!1,void 0!=this.dom&&(this.dom.style.display="none")),this._setVisible&&this._setVisible(t))},configurable:!1}),t.attachedObjects){var o,n,s,a,r,d=void 0!=t.screen?t.screen:t;for(o=0;t.attachedObjects.length>o;o++){if(s=t.attachedObjects[o],void 0==s)throw'CoreComponent.attachedObject: "control" is not defined';if(void 0==d)throw'CoreComponent.attachedObject: "screen" is not defined';for(n=0;$ui._protected.definitions.length>n;n++)if(a=$ui._protected.definitions[n],a.type==$ui.UIExtensionType.ATTACHED_OBJECT&&a.component==s.component){r=new a.constructor(s,t,d);break}r instanceof HTMLElement&&t.dom.appendChild(r)}}else t.attachedObjects=[];t._protected.attachedObjects=t.attachedObjects,Object.defineProperty(t,"attachedObjects",{get:function(){return this._protected.attachedObjects},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","attachedObjects"))},configurable:!1}),t._raiseInteractionEvent=function(t){var e=new InteractionEvent(this.screen.id,this.id,t,this.component);$ui._raiseInteractionEvent(e)}.$bind(t),t._scrollIntoView=function(){var t=20,e=this.dom.getBoundingClientRect(),i=this.dom.parentNode;return this._scrollIterationCounter=this._scrollIterationCounter+1,e.top==i.offsetTop||e.bottom<i.offsetTop+i.offsetHeight&&e.top>i.offsetTop?void 0:(e.top>i.offsetTop?(t>e.top-i.offsetTop&&(t=1),i.scrollTop=i.scrollTop+t):(t>i.offsetTop-e.top&&(t=1),i.scrollTop=i.scrollTop-t),this._scrollIterationCounter>100?(console.log("fail safe scroll counter exceeded"),void 0):(requestAnimationFrame(this._scrollIntoView),void 0))}.$bind(t),t.scrollIntoView=function(){this.dom&&(this._scrollIterationCounter=0,requestAnimationFrame(this._scrollIntoView))}.$bind(t),t.destroy=function(){t._destroy&&t._destroy(),void 0!=this.provider&&void 0!=this.provider.id&&window.removeEventListener(this.screen.guid+"-"+this.provider.id+"-updated",this._providerRefresh,!1),void 0!=this.id&&this.id.length>0&&(this.screen[this.id]=void 0);var e,i;if(this.attachedObjects&&this.attachedObjects.length>0)for(e=0;this.attachedObjects.length>e;e++)i=this.attachedObjects[e],i._destroy&&i._destroy();this.dom=void 0}.$bind(t),t._providerRefresh=function(){var t=this.screen[this.provider.id];if(void 0!=t)if(void 0!=t.data){var e,i=this.provider.property.split("."),o=t.data,n=!0;for(e=0;i.length>e;e++)if(o=o[i[e]],void 0==o){n=!1;break}if(n)return this._providerUpdate&&this._providerUpdate(o),void 0;this._providerUpdate&&this._providerUpdate(void 0)}else this._providerUpdate&&this._providerUpdate(void 0)}.$bind(t),t._remove=function(){if(this._onremove&&this._onremove(),this.dom&&this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.screen){var t=this.screen.children.indexOf(this);t>=0&&this.screen.children.splice(t,1)}this.destroy()}.$bind(t),t._updateData=function(t){var e=void 0==this.provider?void 0:this.screen[this.provider.id];if(void 0!=e&&(e._propertyUpdated(this.provider.property,t),void 0!=e.data)){var i,o,n=this.provider.property.split("."),s=e.data;for(i=0;n.length>i&&(o=s[n[i]],!(void 0==o&&n.length-1>i));i++){if(i==n.length-1){s[n[i]]=t;break}s=o}}}.$bind(t),void 0!=t.provider&&void 0!=t.provider.id&&(window.addEventListener(t.screen.guid+"-"+t.provider.id+"-updated",t._providerRefresh,!1),t._providerRefresh()),t._protected.provider=t.provider,Object.defineProperty(t,"provider",{get:function(){return this._protected.provider},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","provider"))},configurable:!1})}}catch(l){console.log("RPW error in core component: "+l)}}function $ui_CoreContainerComponent(t,e){return $ui_CoreComponent.call(this,t,e),t?(void 0==t.modified&&(t.modified=!1),t._protected.modified=t.modified,Object.defineProperty(t,"modified",{get:function(){return this._protected.modified},set:function(t){if(void 0==t&&(t=!1),this._protected.modified=t,void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;if(0==t){var e,i,o=this._getControlListProperty();for(e=0;o.length>e;e++)i=o[e],i.modified=t}this._onmodified&&this._onmodified()},configurable:!1}),t.validate=function(){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),!1;var t,e,i=this._getControlListProperty(),o=!0;for(t=0;i.length>t;t++)e=i[t],e.validate&&0==e.validate()&&(o=!1);return this._onvalidate&&this._onvalidate(o),o}.$bind(t),t._cascadeVisibility=function(){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var t,e,i=this._getControlListProperty();for(t=0;i.length>t;t++)e=i[t],e._cascadeVisibility?e._cascadeVisibility():e._onshow&&e._onshow();this._oncascadevisibility&&this._oncascadevisibility()}.$bind(t),t._addComponent=function(t){if(void 0!=t){if(void 0==this._getControlListDom)return console.log("ERROR: _getControlListDom not defined for CoreContainerComponent"),void 0;var e=this._getControlListDom();if(void 0==e)return console.log("ERROR: _getControlListDom did not return a valid DOM element"),void 0;void 0!=this.modified&&(t.modified=this.modified),$ui.createControl(t,this.screen),t.dom&&e.appendChild(t.dom)}}.$bind(t),t.addComponent=function(t){if(void 0!=t){if(this._addComponent(t),void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var e=this._getControlListProperty();if(void 0==e)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;e.push(t),t._onshow&&t._onshow(),void 0!=t.provider&&t._providerRefresh()}}.$bind(t),t.insertComponentBefore=function(t,e){if(void 0!=t&&void 0!=e){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var i=this._getControlListProperty();if(void 0==i)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;if(void 0==this._getControlListDom)return console.log("ERROR: _getControlListDom not defined for CoreContainerComponent"),void 0;var o=this._getControlListDom();if(void 0==o)return console.log("ERROR: _getControlListDom did not return a valid DOM element"),void 0;var n,s;for(n=0;i.length>n;n++)if(s=i[n],s==e&&s.dom&&s.dom.parentNode){void 0!=this.modified&&(t.modified=this.modified),$ui.createControl(t,this.screen),t.dom&&(s.dom.parentNode.insertBefore(t.dom,s.dom),i.splice(n,0,t),t._onshow&&t._onshow(),void 0!=t.provider&&t._providerRefresh());break}}}.$bind(t),t.removeComponent=function(t){if(void 0!=t){if(void 0==this._getControlListDom)return console.log("ERROR: _getControlListDom not defined for CoreContainerComponent"),void 0;if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var e=this._getControlListDom();if(void 0==e)return console.log("ERROR: _getControlListDom did not return a valid DOM element"),void 0;var i=this._getControlListProperty();if(void 0==i)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;var o,n;for(o=0;i.length>o;o++)if(n=i[o],n==t){i.splice(o,1),n.clearComponents&&n.clearComponents(),n._remove();break}}}.$bind(t),t.clearComponents=function(){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var t=this._getControlListProperty();if(void 0==t)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;for(var e=t.length-1;e>=0;e--)this.removeComponent(t[e])}.$bind(t),t.dom):void 0}function $ui_CoreScreen(t,e){return $ui_CoreContainerComponent.call(this,t),t?(t.data=e,t._protected.screen=t,t.guid=$ui.guid(),t._protected.guid=t.guid,Object.defineProperty(t,"guid",{get:function(){return this._protected.guid},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","guid"))},configurable:!1}),1!=t.floatOnTop&&(t.floatOnTop=!1),t._protected.floatOnTop=t.floatOnTop,Object.defineProperty(t,"floatOnTop",{get:function(){return this._protected.floatOnTop},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","floatOnTop"))},configurable:!1}),t.children=[],$ui.addClass(t.dom,"ui-core-screen"),t.checkReadyState=function(t,e){return void 0==t?(console.log("ERROR: Cannot pass an undefined readyCallback to CoreScreen.checkReadyState()"),void 0):(this.oncheckreadystate?this.oncheckreadystate(t,e):t(),void 0)}.$bind(t),t.initialize=function(){this.dom.style["z-index"]=$ui.screens.length+1,$ui._protected.inScreenTransition=!1,$ui._blockAllTapEvent(!1),this._initialize&&this._initialize(),this.onshow&&this.onshow(this.data);var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onshow&&e._onshow();this._raiseInteractionEvent("data-interaction-screen-initialized")}.$bind(t),t._onthemechange=function(){this.onthemechange&&this.onthemechange();var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onthemechange&&e._onthemechange()}.$bind(t),t._onresize=function(){var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onresize&&e._onresize()}.$bind(t),t.onbeforepop=function(){this._onbeforepop&&this._onbeforepop();var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onbeforepop&&e._onbeforepop()}.$bind(t),t._destroy=function(){this.ondestroy&&this.ondestroy();var t;for(t=0;this.children.length>t;t++)this.children[t].destroy()}.$bind(t),t.dom):void 0}function $ui_DataProvider(t,e,i){return t._protected={model:t,updates:[]},t.id&&i&&(i[t.id]=t),t._protected.component=t.component,Object.defineProperty(t,"component",{get:function(){return this._protected.component},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","component"))},configurable:!1}),t.screen=i,t._protected.screen=t.screen,Object.defineProperty(t,"screen",{get:function(){return this._protected.screen},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","screen"))},configurable:!1}),t._protected.data=t.data,Object.defineProperty(t,"data",{get:function(){return this._protected.data},set:function(t){this._protected.data=t,this._protected.updates=[],this.onbeforeupdate&&this.onbeforeupdate(),this._raiseEvent(),void 0!=t&&this.onload&&this.onload()},configurable:!1}),t.clear=function(){var e=t.data,i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=void 0);t.data=i},t.fetch=function(e,i){void 0!=$ui.options.globalDataProvider&&$ui.options.globalDataProvider._getData.call(this.screen,this,function(e){i&&(e=i(e)),t.data=e},e)}.$bind(t),t.refresh=function(){this._raiseEvent()}.$bind(t),t.getUpdatedFields=function(){var t,e=[];for(t=0;this._protected.updates.length>t;t++)e.push(this._protected.updates[t]);return e}.$bind(t),t._propertyUpdated=function(t,e){var i,o,n=!1,s={property:t,value:e};for(i=0;this._protected.updates.length>i;i++)if(o=this._protected.updates[i],o.property==t){this._protected.updates[i]=s,n=!0;break}0==n&&this._protected.updates.push(s)}.$bind(t),t._raiseEvent=function(){var t=document.createEvent("Events");t.initEvent(this.screen.guid+"-"+this.id+"-updated",!0,!0),window.dispatchEvent(t)}.$bind(t),t._destroy=function(){this._protected.data=void 0}.$bind(t),void 0!=t.data&&(t.onbeforeupdate&&t.onbeforeupdate(),t.onload&&t.onload()),void 0}function InteractionEvent(t,e,i,o){this.screenId=t,this.controlId=e,this.interaction=i,this.component=o}function $ui_List(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-list"),void 0==t.items&&(t.items=[]),t._protected.items=t.items,Object.defineProperty(t,"items",{get:function(){return this._protected.items},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","items"))},configurable:!1}),t._onaction=function(t,e){this.onaction&&this.onaction(e)}.$bind(t),t._createItemDom=function(t){var e;return t.component&&t.component==$ui.Header?e=$ui.createControl(t,this.screen):void 0!=this._itemConstructor&&(e=new this._itemConstructor(t,this.screen)),e}.$bind(t),t._addItem=function(t){return t.parent=this,itemDom=this._createItemDom(t),itemDom?(this.dom.appendChild(itemDom),t._onafterinsert&&t._onafterinsert(),!0):!1}.$bind(t),t.addItem=function(t){return this._addItem(t)?(this.items.push(t),this.onitemschanged&&this.onitemschanged(),t._onshow&&t._onshow(),!0):!1}.$bind(t),t.removeItem=function(t){if(void 0==t)return!1;var e=this.items.indexOf(t);if(0>e)return!1;try{this.dom.removeChild(t.dom)}catch(i){console.log("$ui.List: "+i)}this.items.splice(e,1),t.destroy(),this.onitemschanged&&this.onitemschanged()}.$bind(t),t.insertItem=function(t,e){if(t.parent=this,0>e)return!1;if(0==this.items.length)return this.addItem(t),!0;if(e>this.items.length-1)return this.addItem(t),!0;var i=this.items[e],o=this._createItemDom(t);return this.items.splice(e,0,t),this.dom.insertBefore(o,i.dom),this.onitemschanged&&this.onitemschanged(),t._onshow&&t._onshow(),!0}.$bind(t),t.refreshItems=function(t){var e,i;if(this.items)for(e=this.items.length-1;e>=0;e--){i=this.items[e];try{this.dom.removeChild(i.dom)}catch(o){console.log("$ui.List: "+o)}this.items.pop(),i.destroy()}void 0!=t&&(this.addItemBatch(t),this.onitemschanged&&this.onitemschanged())}.$bind(t),t.addItemBatch=function(t){var e,i;for(e=0;t.length>e;e++)i=t[e],this.addItem(i)}.$bind(t),t.filter=function(t){if(void 0!=t&&null!=t){var e,i,o,n,s,a=!0;for(e=0;this.items.length>e;e++){for(n=this.items[e],a=!0,i=0;t.length>i;i++)if(o=t[i],void 0!=n[o.name]&&(s=RegExp(o.expression,"gi"),0==s.test(n[o.name]))){a=!1;break}n.visible=a}}}.$bind(t),t.filterReset=function(){var t;for(t=0;this.items.length>t;t++)this.items[t].visible=!0}.$bind(t),t._providerUpdate=function(t){this.refreshItems(t)}.$bind(t);var i,o;for(i=0;$ui._protected.definitions.length>i;i++)if(o=$ui._protected.definitions[i],o.type==$ui.UIExtensionType.LISTITEM&&o.component==t.style){t._itemConstructor=o.constructor;break}var n;if(t.items){for(i=0;t.items.length>i;i++)n=t.items[i],t._addItem(n);t.onitemschanged&&t.onitemschanged()}return t._onshow=function(){var t,e;for(t=0;this.items.length>t;t++)e=this.items[t],e._onshow&&e._onshow()}.$bind(t),t.dom}function ListEvent(t,e,i){this.target=t,this.eventType=e,this.data=i}function $ui_Spinner(t,e){return $ui_CoreComponent.call(this,t,e),t.size=t.size?t.size:$ui.Size.NORMAL,t._protected.size=t.size,Object.defineProperty(t,"size",{get:function(){return this._protected.size},set:function(t){this._protected.size!=t&&($ui.removeClass(this.dom,this._protected.size),this._protected.size=t,$ui.addClass(this.dom,t))},configurable:!1}),$ui.addClass(t.dom,"ui-spinner"),$ui.addClass(t.dom,t.size),$ui.addClass(t.dom,"center"),t.dom.innerDiv=document.createElement("div"),$ui.addClass(t.dom.innerDiv,"inner"),t.dom.appendChild(t.dom.innerDiv),t._protected.forceColor=t.forceColor,t.forceColor?$ui.addClass(t.dom.innerDiv,t.forceColor):$ui.theme.rootClass&&$ui.theme.rootClass.indexOf("ui-theme-dark")>-1?$ui.addClass(t.dom.innerDiv,"light"):$ui.addClass(t.dom.innerDiv,"dark"),Object.defineProperty(t,"forceColor",{get:function(){return this._protected.forceColor},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","forceColor"))},configurable:!1}),t.dom}function UIExtension(t,e,i,o){if(null==t)throw Error("UIExtension: name cannot be null");if(void 0==t)throw Error("UIExtension: name cannot be undefined");if(this.name=t,null==e)throw Error("UIExtension: constructor cannot be null");if(void 0==e)throw Error("UIExtension: constructor cannot be undefined");if(this.constructor=e,null==i||void 0==i)this.type=$ui.UIExtensionType.CONTROL;else{if(i!=$ui.UIExtensionType.CONTROL&&i!=$ui.UIExtensionType.SCREEN&&i!=$ui.UIExtensionType.LISTITEM&&i!=$ui.UIExtensionType.ATTACHED_OBJECT)throw Error("UIExtension: type is an invalid value");this.type=i}this.definition=null==o||void 0==o?{}:o}function $ui_Button(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-button theme-brand-background-color theme-highlight-text-color theme-border-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),void 0==t.caption&&(t.caption=""),t.dom.textContent=t.caption,t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){void 0==t&&(t=""),t!=this._protected.caption&&(this._protected.caption=t,this.dom.textContent=t)},configurable:!1}),t.dom.ontouchstart=function(){this.style.opacity=.7},t.dom.ontouchend=function(){this.style.opacity=1},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.onclick=function(){$ui.playTouchSound(),this.model.onclick&&this.model.onclick()},t.dom}function $ui_CircleMenu(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-circle-menu"),t._protected.indicators=[],t.dom.inner=document.createElement("div"),$ui.addClass(t.dom.inner,"inner"),t.dom.appendChild(t.dom.inner),t.dom.indicatorContainer=document.createElement("div"),$ui.addClass(t.dom.indicatorContainer,"indicator-container"),t.dom.appendChild(t.dom.indicatorContainer),void 0==t.items&&(t.items=[]),t._protected.items=t.items,Object.defineProperty(t,"items",{get:function(){return this._protected.items},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","items"))},configurable:!1}),t._recalculateLayout=function(){if(0!==this.items.length){var t,e,i,o,n=[],s=this.dom.offsetHeight,a=this.dom.offsetWidth,r=[];for(t=0;this.items.length>t;t++)i=this.items[t],1==i.visible&&n.push(i);var d,l=n.length,c=Math.ceil(l/6),h=n[0].getSize();for(t=0;this._protected.indicators.length>t;t++)d=this._protected.indicators[t],d.parentNode.removeChild(d);if(this._protected.indicators=[],c>1){for(this.dom.indicatorContainer.style.display="block",this.dom.inner.style.cursor="pointer",this._protected.hammer=new Hammer(this.dom.inner),this._protected.hammer.on("pan",this._onpan),this._protected.hammer.on("panend",this._onpanend),this._protected.hammer.on("pancancel",this._onpanend),this._protected.hammer.on("swipeleft",this._onswipeleft),this._protected.hammer.on("swiperight",this._onswiperight),t=0;c>t;t++)d=document.createElement("div"),d._index=t,$ui.addClass(d,"indicator"),this.dom.indicatorContainer.appendChild(d),this._protected.indicators.push(d),d.inner=document.createElement("div"),$ui.addClass(d.inner,"inner theme-circle-menu-indicator"),0==t&&$ui.addClass(d.inner,"theme-circle-menu-indicator-selected"),d.appendChild(d.inner);this._protected.selectedIndicator=this._protected.indicators[0],this.dom.indicatorContainer.style.width=40*c+"px",this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(0px,0px,0px)"}else this.dom.indicatorContainer.style.display="none",this.dom.inner.style.cursor="default",this._protected.hammer=void 0,this._protected.selectedIndicator=void 0;if(this.dom.inner.style.width=100*c+"%",$system&&$system.isClientDevice){var o,u=0,m=0,p=l>6?6:l,f=Math.floor(a/2),v=Math.floor(f/2-h/2),g=Math.floor(s/3),b=Math.floor(g/2-h/2);for(t=0;p>t;t++)o={X:m*f+v,Y:u*g+b},r.push(o),m++,m>1&&(u++,m=0)}else switch(!0){case 3>=l:var C=2===l?Math.floor(h/2):0,f=Math.floor((a-2*C)/l),v=Math.floor(f/2-h/2);for(e=Math.floor(s/2-h/2),t=0;l>t;t++)o={X:t*f+C+v,Y:e},r.push(o);break;case 6>=l:var f=Math.floor(a/3),v=Math.floor(f/2-h/2),u=Math.floor(s/2),b=Math.floor(u/2-h/2);for(t=0;3>t;t++)o={X:t*f+v,Y:b},r.push(o);var C=2===l-3?Math.floor(h/2):0;for(f=Math.floor((a-2*C)/(l-3)),v=Math.floor(f/2-h/2),t=3;l>t;t++)o={X:(t-3)*f+C+v,Y:u+b},r.push(o);break;case l>6:for(var _=0,y=0;l>_;){var f=Math.floor(a/3),v=Math.floor(f/2-h/2)+y*a,u=Math.floor(s/2),b=Math.floor(u/2-h/2);for(t=0;3>t&&l>_;t++)o={X:t*f+v,Y:b},r.push(o),_++;if(l>_){var C=2===l-_?Math.floor(h/2):0,$=l-_>=3?3:l-_;for(f=Math.floor((a-2*C)/$),v=Math.floor(f/2-h/2)+y*a,t=3;l>t&&l>_&&6>t;t++)o={X:(t-3)*f+C+v,Y:u+b},r.push(o),_++}y++}}for(t=0;n.length>t;t++)i=n[t],o=r[t],i.dom.style["-webkit-transform"]="translate("+o.X+"px,"+o.Y+"px)"}}.$bind(t),t._resetTransition=function(){this._protected.inTransition=!1}.$bind(t),t._onpan=function(t){if(void 0!=this._protected.selectedIndicator&&(this._protected.inTransition=!0,1!=this._protected.swiping)){var e=0;this._protected.selectedIndicator._index>0&&(e=-1*this._protected.selectedIndicator._index*this.dom.offsetWidth),this.dom.inner.style["-webkit-transition"]="",this.dom.inner.style["-webkit-transform"]="translate3d("+(e+t.deltaX)+"px,0px,0px)"}}.$bind(t),t._onpanend=function(t){return window.setTimeout(this._resetTransition,0),1==this._protected.swiping?(this._protected.swiping=!1,void 0):(Math.abs(t.deltaX)>this.dom.offsetWidth/2?t.deltaX>0?this._protected.selectedIndicator&&this._protected.selectedIndicator._index>0?this._decreaseIndicator():(this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(-"+this._protected.selectedIndicator._index*this.dom.offsetWidth+"px,0px,0px)"):this._protected.selectedIndicator&&this._protected.selectedIndicator._index<this._protected.indicators.length-1?this._increaseIndicator():(this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(-"+this._protected.selectedIndicator._index*this.dom.offsetWidth+"px,0px,0px)"):(this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(-"+this._protected.selectedIndicator._index*this.dom.offsetWidth+"px,0px,0px)"),void 0)}.$bind(t),t._onswipeleft=function(){this._protected.swiping=!0,this._increaseIndicator()}.$bind(t),t._onswiperight=function(){this._protected.swiping=!0,this._decreaseIndicator()}.$bind(t),t._increaseIndicator=function(){if(void 0!=this._protected.selectedIndicator){if(this._protected.selectedIndicator._index<=this._protected.indicators.length-2){this._protected.selectedIndicator=this._protected.indicators[this._protected.selectedIndicator._index+1],$ui.addClass(this._protected.selectedIndicator.inner,"theme-circle-menu-indicator-selected");var t,e;for(t=0;this._protected.indicators.length>t;t++)e=this._protected.indicators[t],e!=this._protected.selectedIndicator&&$ui.removeClass(e.inner,"theme-circle-menu-indicator-selected")}this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(-"+this._protected.selectedIndicator._index*this.dom.offsetWidth+"px,0px,0px)"}}.$bind(t),t._decreaseIndicator=function(){if(void 0!=this._protected.selectedIndicator){if(this._protected.selectedIndicator._index>0){this._protected.selectedIndicator=this._protected.indicators[this._protected.selectedIndicator._index-1],$ui.addClass(this._protected.selectedIndicator.inner,"theme-circle-menu-indicator-selected");var t,e;for(t=0;this._protected.indicators.length>t;t++)e=this._protected.indicators[t],e!=this._protected.selectedIndicator&&$ui.removeClass(e.inner,"theme-circle-menu-indicator-selected")}this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(-"+this._protected.selectedIndicator._index*this.dom.offsetWidth+"px,0px,0px)"}}.$bind(t),t._addItem=function(t){return t.parent=this,n=new $ui_CircleMenuItem(t,this.screen),n?(this.dom.inner.appendChild(n),!0):!1}.$bind(t),t.addItem=function(t){return this._addItem(t)?(this.items.push(t),!0):!1}.$bind(t),t.refreshItems=function(t){if(void 0!=t){var e,i;if(this.items)for(e=this.items.length-1;e>=0;e--){i=this.items[e];try{i.dom&&i.dom.parentNode&&i.dom.parentNode.removeChild(i.dom)}catch(o){console.log("$ui.List: "+o)}this.items.pop(),i._destroy&&i._destroy()}this.addItemBatch(t)}}.$bind(t),t.addItemBatch=function(t){var e,i;for(e=0;t.length>e;e++)i=t[e],this._addItem(i)&&this.items.push(i);this._recalculateLayout()}.$bind(t),t.insertItem=function(t,e){if(t.parent=this,0>e)return!1;if(0==this.items.length)return this.addItem(t),!0;if(e>this.items.length-1)return this.addItem(t),!0;var i=this.items[e],o=new $ui_CircleMenuItem(t,this.screen);return this.items.splice(e,0,t),this.dom.inner.insertBefore(o,i.dom),!0}.$bind(t),t._providerUpdate=function(t){this.refreshItems(t)}.$bind(t),t._onresize=function(){this._recalculateLayout()}.$bind(t),!t.provider){var i,o,n;for(i=0;t.items.length>i;i++)o=t.items[i],t._addItem(o);setTimeout(t._onresize,0)}return t.dom}function $ui_CircleMenuItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"menu-item"),t.dom.inner=document.createElement("div"),t.dom.inner.model=t,$ui.addClass(t.dom.inner,"circle theme-border-color theme-screen-background-color"),t.dom.appendChild(t.dom.inner),t.dom.inner.onclick=function(){1!=this.model.parent._protected.inTransition&&(this.model._raiseInteractionEvent("data-interaction-click"),$ui.playTouchSound(),this.model.parent.onclick&&this.model.parent.onclick(this.model))},t.dom.inner.ontouchstart=function(){$ui.addClass(this,"theme-brand-background-color")},t.dom.inner.ontouchend=function(){$ui.removeClass(this,"theme-brand-background-color")},t.dom.inner.ontouchcancel=t.dom.inner.ontouchend,$ui.isMobileDevice()||(t.dom.inner.onmousedown=t.dom.inner.ontouchstart,t.dom.inner.onmouseup=t.dom.inner.ontouchend,t.dom.inner.onmouseleave=t.dom.inner.ontouchend),t.id&&t.dom.inner.setAttribute("data-interaction-click",t.id),t.dom.icon=document.createElement("div"),$ui.addClass(t.dom.icon,"icon"),t.dom.inner.appendChild(t.dom.icon),t.img&&(t.dom.icon.style.backgroundImage='url("'+t.img+'")'),t._protected.img=t.img,Object.defineProperty(t,"img",{get:function(){return this._protected.img},set:function(t){t!=this._protected.img&&(this._protected.img=t,this.dom.icon.style.backgroundImage=void 0==t?"":'url("'+t+'")')},configurable:!1}),t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption theme-text-color"),t.dom.appendChild(t.dom.captionDiv),t.caption&&(t.dom.captionDiv.textContent=t.caption),t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){t!=this._protected.caption&&(this._protected.caption=t,this.dom.captionDiv.textContent=void 0==t?"":t)},configurable:!1}),t.getSize=function(){return this.dom.offsetWidth},t.getSize=t.getSize.$bind(t),t._setVisible=function(){this.parent&&this.parent._recalculateLayout()},t._setVisible=t._setVisible.$bind(t),t.dom}function $ui_Column(t,e){if($ui_CoreComponent.call(this,t,e),t){$ui.addClass(t.dom,"ui-column"),t.dom.style.width=t.span?t._spanPercentage*t.span+"%":t._spanPercentage+"%",void 0==t.content&&(t.content=[]),t._protected.content=t.content,Object.defineProperty(t,"content",{get:function(){return this._protected.content},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","content"))},configurable:!1});var i,o;for(i=0;t.content.length>i;i++)o=t.content[i],controlDom=$ui.createControl(o,e),controlDom&&t.dom.appendChild(controlDom);return t.validate=function(){var t,e,i=!0;for(t=0;this.content.length>t;t++)e=this.content[t],e.validate&&0==e.validate()&&(i=!1);return i}.$bind(t),t._cascadeVisibility=function(){var t,e;for(t=0;this.content.length>t;t++)e=this.content[t],e._cascadeVisibility?e._cascadeVisibility():e._onshow&&e._onshow()}.$bind(t),t._setVisible=function(t){1==t&&this._cascadeVisibility()}.$bind(t),t.dom}}function $ui_ColumnLayout(t,e){if($ui_CoreComponent.call(this,t,e),t){$ui.addClass(t.dom,"ui-column-layout"),1==t.padding&&$ui.addClass(t.dom,"padding"),void 0==t.columns&&(t.columns=[]),t._protected.columns=t.columns,Object.defineProperty(t,"columns",{get:function(){return this._protected.columns},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","columns"))},configurable:!1}),1!=t.fillToParent?t.fillToParent=!1:$ui.addClass(t.dom,"fill"),t._protected.fillToParent=t.fillToParent,Object.defineProperty(t,"fillToParent",{get:function(){return this._protected.fillToParent},set:function(t){t!=this._protected.fillToParent&&(1==t?$ui.addClass(this.dom,"fill"):$ui.removeClass(this.dom,"fill"),this._protected.fillToParent=t)},configurable:!1});var i,o,n,s=0;for(i=0;t.columns.length>i;i++)o=t.columns[i],o.span?s+=o.span:s++;for(n=0==s?100:100/s,i=0;t.columns.length>i;i++)o=t.columns[i],o._spanPercentage=n,o.component==$ui.Column&&(new $ui_Column(o,e),t.dom.appendChild(o.dom));return t.dom.clearElement=document.createElement("div"),$ui.addClass(t.dom.clearElement,"clear-element"),t.dom.appendChild(t.dom.clearElement),t.validate=function(){var t,e,i=!0;for(t=0;this.columns.length>t;t++)e=this.columns[t],0==e.validate()&&(i=!1);return i}.$bind(t),t._cascadeVisibility=function(){var t,e;for(t=0;this.columns.length>t;t++)e=this.columns[t],e._cascadeVisibility&&e._cascadeVisibility()}.$bind(t),t._setVisible=function(t){1==t&&this._cascadeVisibility()}.$bind(t),t.dom}}function $ui_ControlGroup(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-control-group"),void 0==t.content&&(t.content=[]),t._protected.content=t.content,Object.defineProperty(t,"content",{get:function(){return this._protected.content},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","content"))},configurable:!1}),t.content){var i,o,n;for(i=0;t.content.length>i;i++)o=t.content[i],n=$ui.createControl(o,t.screen),n&&t.dom.appendChild(n)}return t.dom}function $ui_CoreTile(t,e){$ui_CoreComponent.call(this,t,e),t&&($ui.addClass(t.dom,"ui-tile theme-text-color theme-tile-border-color theme-screen-background-color"),t._contentShowing=!1,t._size&&t._size!=$ui.TileSize.STANDARD&&$ui.addClass(t.dom,t._size),t._protected._size=t._size,Object.defineProperty(t,"_size",{get:function(){return this._protected._size},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","_size"))},configurable:!1}),t.dom.loadingDiv=document.createElement("div"),$ui.addClass(t.dom.loadingDiv,"loading"),t.dom.appendChild(t.dom.loadingDiv),t.dom.spinner=new $ui_Spinner({component:$ui.Spinner,size:$ui.Spinner.SMALL},e),t.dom.loadingDiv.appendChild(t.dom.spinner),t.dom.contentDiv=document.createElement("div"),$ui.addClass(t.dom.contentDiv,"content"),t.dom.appendChild(t.dom.contentDiv),t.showContent=function(t){t!=this._contentShowing&&(t?(this.dom.loadingDiv.style.display="none",this.dom.contentDiv.style.display="inherit"):(this.dom.loadingDiv.style.display="inline",this.dom.contentDiv.style.display="none"),this._contentShowing=t)
}.$bind(t))}function $ui_CoreTileDonutChart(t,e){void 0==t.animated&&(t.animated=!0),$ui_CoreTile.call(this,t,e),t&&($ui.addClass(t.dom,"ui-tile-donut-chart"),t.dom.chartDiv=document.createElement("div"),$ui.addClass(t.dom.chartDiv,"chart"),t.dom.contentDiv.appendChild(t.dom.chartDiv),t.dom.canvas=document.createElement("canvas"),t.dom.chartDiv.appendChild(t.dom.canvas),t.chart=new Chart(t.dom.canvas.getContext("2d")),t._setData=function(t){this._protected.data=t,this.chart.Doughnut(t,{showTooltips:!1,animation:this.animated,segmentStrokeColor:"transparent"})}.$bind(t),t.dom.caption=document.createElement("div"),$ui.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t._setCaption=function(t){this.dom.caption.innerHTML=t}.$bind(t),t.dom.accent=document.createElement("div"),$ui.addClass(t.dom.accent,"accent"),t.dom.contentDiv.appendChild(t.dom.accent),t.dom.accent.style.color=$ui.theme.chart.color,t._setAccent=function(t){return void 0==t?($ui.removeClass(this.dom.contentDiv,"has-accent"),this.dom.accent.textContent="",this.accent=t,void 0):(this.accent=t,$ui.addClass(this.dom.contentDiv,"has-accent"),this.dom.accent.textContent=t,void 0)}.$bind(t))}function $ui_CoreTileGauge(t,e){if(t&&(t._size=void 0),$ui_CoreTile.call(this,t,e),t){$ui.addClass(t.dom,"ui-tile-gauge"),t.dom.titleDiv=document.createElement("div"),$ui.addClass(t.dom.titleDiv,"title"),t.dom.contentDiv.appendChild(t.dom.titleDiv),t._setTitle=function(e){(void 0==e||null==e)&&(e=""),t.dom.titleDiv.textContent=e}.$bind(t),t.dom.chartDiv=document.createElement("div"),$ui.addClass(t.dom.chartDiv,"chart"),t.dom.contentDiv.appendChild(t.dom.chartDiv),t.dom.canvas=document.createElement("canvas"),t.dom.canvas.width=200,t.dom.canvas.height=200,$ui.addClass(t.dom.canvas,"graph-canvas"),t.dom.chartDiv.appendChild(t.dom.canvas),t.dom.labels=document.createElement("div"),$ui.addClass(t.dom.labels,"labels-area"),t.dom.chartDiv.appendChild(t.dom.labels),t.dom.minLabel=document.createElement("div"),$ui.addClass(t.dom.minLabel,"label"),$ui.addClass(t.dom.minLabel,"left"),t.dom.labels.appendChild(t.dom.minLabel),t.dom.maxLabel=document.createElement("div"),$ui.addClass(t.dom.maxLabel,"label"),$ui.addClass(t.dom.maxLabel,"right"),t.dom.labels.appendChild(t.dom.maxLabel),t.dom.accentLabel=document.createElement("div"),$ui.addClass(t.dom.accentLabel,"label"),$ui.addClass(t.dom.accentLabel,"center"),t.dom.labels.appendChild(t.dom.accentLabel),t._setAccent=function(e){(void 0==e||null==e)&&(e=""),t.dom.accentLabel.textContent=e},t._setAccent=t._setAccent.$bind(t),t.dom.valueDiv=document.createElement("div"),$ui.addClass(t.dom.valueDiv,"value"),t.dom.chartDiv.appendChild(t.dom.valueDiv);var i=t.dom.canvas.getContext("2d");t.dom.ctx=i,t._width=t.dom.canvas.width,t._height=t.dom.canvas.height,t._renderLoop=function(){if(!(this._degrees>this._newDegrees)){requestAnimationFrame(this._renderLoop);var t=this.dom.ctx,e=this._degrees*Math.PI/180;t.clearRect(0,0,this._width,this._height),t.beginPath(),t.strokeStyle=$ui.theme.chart.color,t.lineWidth=40,t.arc(this._width/2,this._height/2,80,0-180*Math.PI/180,Math.PI/180,!1),t.stroke(),t.beginPath(),t.strokeStyle=this._color,t.arc(this._width/2,this._height/2,80,0-180*Math.PI/180,e-180*Math.PI/180,!1),t.stroke(),this._degrees<=this._newDegrees&&(this._degrees=this._degrees+this._step)}}.$bind(t),t._populateData=function(){void 0==this.min&&(this.min=0),void 0==this.max&&(this.max=100),void 0==this.value&&(this.value=this.min),this.value<this.min&&(this.value=this.min),this.dom.minLabel.textContent=this.min,this.dom.maxLabel.textContent=this.max,this.dom.valueDiv.textContent=this.value;var t=(this.value-this.min)/this.max;switch(this._newDegrees=180*t,!0){case.33>t:this._color=$ui.theme.chart.color_GREAT,this._step=2;break;case.77>t:this._color=$ui.theme.chart.color_GOOD,this._step=7;break;default:this._color=$ui.theme.chart.color_OK,this._step=10}this._degrees=this._newDegrees-this._step,this._renderLoop()}.$bind(t)}}function $ui_DockLayout(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-dock-layout"),t.dom.dock=document.createElement("div"),$ui.addClass(t.dom.dock,"dock");var i,o,n;if(t.dock)for(i=0;t.dock.length>i;i++)o=t.dock[i],n=$ui.createControl(o,e),n&&t.dom.dock.appendChild(n);if(t.dom.contentDiv=document.createElement("div"),$ui.addClass(t.dom.contentDiv,"contents"),t.content)for(i=0;t.content.length>i;i++)o=t.content[i],n=$ui.createControl(o,e),n&&t.dom.contentDiv.appendChild(n);return t.location===$ui.DockLayout.DockLocation.BOTTOM?(t.dom.appendChild(t.dom.contentDiv),t.dom.appendChild(t.dom.dock)):(t.dom.appendChild(t.dom.dock),t.dom.appendChild(t.dom.contentDiv)),t.dom}function $ui_GenericListItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-generic-list-item theme-text-color theme-screen-background-color theme-dark-border-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.dom.img=document.createElement("div"),$ui.addClass(t.dom.img,"img"),t.dom.appendChild(t.dom.img),t.dom.details=document.createElement("div"),$ui.addClass(t.dom.details,"details"),t.dom.appendChild(t.dom.details),t.dom.titleArea=document.createElement("div"),$ui.addClass(t.dom.titleArea,"title"),t.dom.details.appendChild(t.dom.titleArea),t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption"),t.dom.details.appendChild(t.dom.captionDiv),t.dom.accent=document.createElement("div"),$ui.addClass(t.dom.accent,"accent theme-generic-list-accent-color"),t.dom.details.appendChild(t.dom.accent),t._loadImage=function(){void 0!=this.img&&null!=this.img&&""!=this.img?(this._loader=new Image,this._loader.model=t,this._loader.onload=function(){this.model.dom.img.style.backgroundImage='url("'+this.model.img+'")',this.model.dom.img.style.opacity="1.0",this.model._loader=void 0},this._loader.onerror=function(){this.model.dom.img.style.backgroundImage="",this.model.dom.img.style.opacity="1.0",this.model._loader=void 0},this._loader.src=t.img):(this.dom.img.style.opacity="1.0",this.dom.loader=void 0)}.$bind(t),t._loadImage(),t._protected.img=t.img,Object.defineProperty(t,"img",{get:function(){return this._protected.img},set:function(t){t!=this._protected.img&&(this._protected.img=t,this._loadImage())},configurable:!1}),t.caption?t.dom.captionDiv.textContent=t.caption:$ui.addClass(t.dom,"no-caption"),t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){t!=this._protected.caption&&(this._protected.caption=t,void 0==t?$ui.addClass(this.dom,"no-caption"):($ui.removeClass(this.dom,"no-caption"),this.dom.captionDiv.textContent=t))},configurable:!1}),void 0!=t.accent&&(t.dom.accent.textContent=t.accent,$ui.addClass(t.dom,"has-accent")),t._protected.accent=t.accent,Object.defineProperty(t,"accent",{get:function(){return this._protected.accent},set:function(t){t!=this._protected.accent&&(this._protected.accent=t,void 0==t?$ui.removeClass(this.dom,"has-accent"):$ui.addClass(this.dom,"has-accent"))},configurable:!1}),t.dom.titleArea.textContent=t.title,t._protected.title=t.title,Object.defineProperty(t,"title",{get:function(){return this._protected.title},set:function(t){t!=this._protected.title&&(this._protected.title=t,this.dom.titleArea.textContent=t)},configurable:!1}),t.dom.ontouchstart=function(){$ui.removeClass(this,"theme-screen-background-color"),$ui.addClass(this,"theme-brand-background-color"),$ui.removeClass(this,"theme-text-color"),$ui.addClass(this,"theme-highlight-text-color"),this.model.dom&&this.model.dom.accent&&$ui.removeClass(this.model.dom.accent,"theme-generic-list-accent-color")},t.dom.ontouchend=function(){$ui.removeClass(this,"theme-brand-background-color"),$ui.addClass(this,"theme-screen-background-color"),$ui.removeClass(this,"theme-highlight-text-color"),$ui.addClass(this,"theme-text-color"),this.model.dom&&this.model.dom.accent&&$ui.addClass(this.model.dom.accent,"theme-generic-list-accent-color")},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.addEventListener("click",function(){if(void 0!=this.model.parent.onaction){var t=new ListEvent(this.model,$ui.GenericListItem.GenericListEvent.ONCLICK);this.model.parent._onaction(this.model,t),$ui.playTouchSound()}},!1),t.dom}function $ui_Header(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-header theme-text-color theme-brand-border-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.caption&&(t.dom.textContent=t.caption),t.dom}function $ui_ImageListItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-image-list-item"),t.dom.img=document.createElement("div"),$ui.addClass(t.dom.img,"img"),t.dom.appendChild(t.dom.img),void 0!=t.img&&null!=t.img&&""!=t.img?(t._loader=new Image,t._loader.model=t,t._loader.onload=function(){this.model.dom.img.style.backgroundImage='url("'+this.model.img+'")',this.model.dom.img.style.opacity="1.0",this.model._loader=void 0},t._loader.onerror=function(){this.model.dom.img.style.backgroundImage="",this.model.dom.img.style.opacity="1.0",this.model._loader=void 0},t._loader.src=t.img):(t.dom.img.style.opacity="1.0",t.dom.loader=void 0),t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption theme-highlight-text-color"),t.dom.appendChild(t.dom.captionDiv),t.caption?t.dom.captionDiv.textContent=t.caption:$ui.addClass(t.dom.captionDiv,"no-caption"),t.dom.addEventListener("click",function(){if(void 0!=this.model.parent.onaction){var t=new ListEvent(this.model,$ui.ImageListItem.ImageListEvent.ONCLICK);this.model.parent._onaction(this.model,t),$ui.playTouchSound()}},!1),t.dom}function $ui_Input(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-input"),t.dom.style.borderColor=$ui.theme.borderColor,1==$ui.isApple&&$ui.addClass(t.dom,"iOS"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t._protected.inputType=t.inputType,Object.defineProperty(t,"inputType",{get:function(){return this._protected.inputType},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","inputType"))},configurable:!1}),t.warning=!1,t._protected.warning=t.warning,Object.defineProperty(t,"warning",{get:function(){return this._protected.warning},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","warning"))},configurable:!1}),t.dom.placeholder=document.createElement("div"),$ui.addClass(t.dom.placeholder,"placeholder theme-hint-text-color"),t.dom.appendChild(t.dom.placeholder),t._protected.multiLine=t.multiLine,Object.defineProperty(t,"multiLine",{get:function(){return this._protected.multiLine},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","multiLine"))},configurable:!1}),t._setEnabled=function(t){1==t?this.dom.input.removeAttribute("readonly"):this.dom.input.setAttribute("readonly","true")}.$bind(t),0==t.enabled&&t._setEnabled(!1),t.computePlaceholder=function(){var t=""==this.dom.input.value||void 0==this.dom.input.value?!1:!0;t?($ui.addClass(this.dom.placeholder,"draw-small"),$ui.addClass(this.dom.input,"small-placeholder"),void 0!=this.dom.textAreaSize&&$ui.addClass(this.dom.textAreaSize,"small-placeholder")):($ui.removeClass(this.dom.placeholder,"draw-small"),$ui.removeClass(this.dom.input,"small-placeholder"),void 0!=this.dom.textAreaSize&&$ui.removeClass(this.dom.textAreaSize,"small-placeholder"))}.$bind(t),1==t.multiLine){if(t.dom.input=document.createElement("textarea"),$ui.addClass(t.dom.input,"textarea"),t.dom.appendChild(t.dom.input),t.dom.textAreaSize=document.createElement("div"),$ui.addClass(t.dom.textAreaSize,"textarea-size"),t.dom.appendChild(t.dom.textAreaSize),t.text&&(t.dom.input.value=t.text,t.dom.textAreaSize.innerHTML=t.text),void 0!=t.minLinesToShow&&parseInt(t.minLinesToShow)>1){var i=35*t.minLinesToShow;t.dom.textAreaSize.style["min-height"]=i+"px"}if(void 0!=t.maxLinesToShow&&parseInt(t.maxLinesToShow)>1){var o=35*(t.maxLinesToShow-1);t.dom.textAreaSize.style["max-height"]=o+"px",t.dom.input.style["overflow-y"]="scroll",t.dom.input.onscroll=function(){this.model.dom.placeholder.style.display=this.scrollTop>0?"none":"inherit"}}}else t.dom.input=document.createElement("input"),1==t.password?t.dom.input.setAttribute("type","password"):t.dom.input.setAttribute("type","text"),$ui.addClass(t.dom.input,"text"),t.dom.input.style.color=$ui.theme.textColor,t.text&&t.dom.input.setAttribute("value",t.text),t.dom.appendChild(t.dom.input);return t.id&&t.dom.input.setAttribute("data-interaction-input",t.id),t.dom.input.onfocus=function(){this.model.dom.style.borderColor=$ui.theme.color,$ui.addClass(this.model.dom,"theme-brand-border-color"),this.model.onfocus&&this.model.onfocus()},t.dom.input.onblur=function(){$ui.removeClass(this.model.dom,"theme-brand-border-color"),this.model.onblur&&this.model.onblur()},t.dom.input.model=t,t.computePlaceholder(),void 0!=t.tabIndex&&(t.dom.input.tabIndex=t.tabIndex),t._protected.tabIndex=t.tabIndex,Object.defineProperty(t,"tabIndex",{get:function(){return this._protected.tabIndex},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","tabIndex"))},configurable:!1}),$ui.isApple===!0?t.multiLine===!0&&(t.dom.input.addEventListener("touchstart",function(t){t.stopPropagation()},!1),t.dom.input.addEventListener("touchend",function(t){t.stopPropagation()},!1)):(t.dom.input.addEventListener("touchstart",function(t){t.stopPropagation()},!1),t.dom.input.addEventListener("touchend",function(t){t.stopPropagation()},!1)),t.dom.input.addEventListener("keyup",function(t){13==t.keyCode&&this.model.onenterkey&&this.model.onenterkey()},!1),t.dom.input.addEventListener("keydown",function(t){if(this.model.inputType==$ui.Input.InputType.INTEGER||this.model.inputType==$ui.Input.InputType.FLOAT){if(127==t.keyCode||8==t.keyCode||9==t.keyCode||13==t.keyCode||46==t.keyCode||37==t.keyCode||39==t.keyCode)return;if(t.keyCode>=48&&57>=t.keyCode||t.keyCode>=96&&105>=t.keyCode)return;if((110==t.keyCode||190==t.keyCode)&&this.model.inputType==$ui.Input.InputType.FLOAT)return;t.preventDefault()}},!1),t.dom.input.addEventListener("input",function(){this.model._raiseInteractionEvent("data-interaction-input"),this.model._protected.text=this.value,1==this.model.multiLine&&(this.model.dom.textAreaSize.innerHTML=this.value.replace(RegExp("\n","g"),"<br>&nbsp;")),this.model.computePlaceholder(),this.model._updateData(this.model.text),this.model.onchange&&this.model.onchange()},!1),t._protected.text=t.text,Object.defineProperty(t,"text",{get:function(){return this._protected.text},set:function(t){t!=this._protected.text&&(this._setText(t),this._updateData(this.text))},configurable:!1}),t.setFocus=function(){this.dom.input.focus()}.$bind(t),t._setText=function(t){void 0==t&&(t=""),this._protected.warning=!1,$ui.removeClass(this.dom.input,"theme-warning-text-color"),$ui.removeClass(this.dom.placeholder,"theme-warning-text-color"),this._protected.text=t,1==this.multiLine?($ui.removeClass(this.dom.input,"placeholder"),this.dom.input.value=t,this.dom.textAreaSize.innerHTML=t,this.dom.input.onblur()):this.dom.input.value=this._protected.text,this.computePlaceholder()}.$bind(t),void 0==t.hint&&(t.hint=""),t.dom.placeholder.textContent=t.hint,t._protected.hint=t.hint,Object.defineProperty(t,"hint",{get:function(){return this._protected.hint},set:function(t){void 0==t&&(t=""),t!=this._protected.hint&&(this._protected.hint=t,this.dom.placeholder.textContent=t,this.computePlaceholder())},configurable:!1}),t.validate=function(){return this.onvalidate&&0==this.onvalidate()&&(this._protected.warning=!0),1==this._protected.warning?($ui.addClass(this.dom.input,"theme-warning-text-color"),$ui.addClass(this.dom.placeholder,"theme-warning-text-color")):($ui.removeClass(this.dom.input,"theme-warning-text-color"),$ui.removeClass(this.dom.placeholder,"theme-warning-text-color"),1==this._protected.hadNoHint?this.hint=void 0:this.dom.placeholder.textContent=this.hint),!this._protected.warning}.$bind(t),t._providerUpdate=function(t){this._setText(t)}.$bind(t),t.dom}function ScreenBackground(t,e){if(null==t)throw Error("ScreenBackground: img cannot be null");if(void 0==t)throw Error("ScreenBackground: img cannot be undefined");this.img=t,(void 0==e||null==e)&&(this.repeat=!1)}function $ui_SegmentedControl(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-segmented-control theme-segmented-control"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.domOptions=[],t.setSelectedIndex=function(t){this.selectedIndex!=t&&(this.selectedIndex=t,this.onclick&&this.onclick()),this._setSelectedIndex(t)}.$bind(t),t._setSelectedIndex=function(t){if(this.options){var e,i;for(e=0;this.domOptions.length>e;e++)i=this.domOptions[e],e==t?i._setSelected(!0):i._setSelected(!1)}}.$bind(t),t.options){var i,o,n=100/t.options.length;for(i=0;t.options.length>i;i++)o=document.createElement("div"),$ui.addClass(o,"button"),0==i?$ui.addClass(o,"left"):i==t.options.length-1&&$ui.addClass(o,"right"),o.model=t,o.index=i,o.selected=!1,o.style.width=n+"%",o.style.left=i*n+"%",o.textContent=t.options[i],t.domOptions.push(o),t.dom.appendChild(o),o.addEventListener("click",function(){0!=this.model.enabled&&(this.selected||this.model.setSelectedIndex(this.index))},!1),o._setSelected=function(t){this.selected=t,1==t?($ui.addClass(this,"selected"),$ui.addClass(this,"theme-brand-background-color"),$ui.addClass(this,"theme-highlight-text-color")):($ui.removeClass(this,"selected"),$ui.removeClass(this,"theme-brand-background-color"),$ui.removeClass(this,"theme-highlight-text-color"))}.$bind(o)}return t.selectedIndex?t._setSelectedIndex(t.selectedIndex):(t.selectedIndex=0,t._setSelectedIndex(0)),t.dom}function $ui_SplitView(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-split-view");var i,o,n;if(t.dom.leftCol=document.createElement("div"),$ui.addClass(t.dom.leftCol,"col"),$ui.addClass(t.dom.leftCol,"left theme-brand-border-color"),t.dom.appendChild(t.dom.leftCol),t.left)for(i=0;t.left.length>i;i++)o=t.left[i],n=$ui.createControl(o,e),n&&t.dom.leftCol.appendChild(n);if(t.dom.rightCol=document.createElement("div"),$ui.addClass(t.dom.rightCol,"col"),$ui.addClass(t.dom.rightCol,"right"),t.dom.appendChild(t.dom.rightCol),t.right)for(i=0;t.right.length>i;i++)o=t.right[i],n=$ui.createControl(o,e),n&&t.dom.rightCol.appendChild(n);return t.dom}function $ui_Tab(t,e){t.visible=!1,$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-tab"),1!=t.selected&&(t.selected=!1);var i,o,n;if(t.content)for(i=0;t.content.length>i;i++)o=t.content[i],n=$ui.createControl(o,e),n&&t.dom.appendChild(n);return t.dom}function $ui_TabbedPane(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-tabbed-pane"),t._selectedTab=void 0;var i,o,n;if(t.tabs)for(i=0;t.tabs.length>i;i++)o=t.tabs[i],o.component==$ui.Tab&&(o.parent=t,n=$ui.createControl(o,e),n&&t.dom.appendChild(n),o.selected===!0&&void 0==t._selectedTab&&(t._selectedTab=o));return t.selectTab=function(t){if(void 0!=t&&t.component==$ui.Tab&&t!==this._selectedTab){var e,i;for(e=0;this.tabs.length>e;e++)i=this.tabs[e],i.selected=!1,i.visible=!1;this._selectTab(t)}}.$bind(t),t._selectTab=function(e){void 0!=e&&e.component==$ui.Tab&&(t._selectedTab=e,e.selected=!0,e.visible=!0)}.$bind(t),void 0==t._selectedTab&&t.tabs.length>0&&(t._selectedTab=t.tabs[0]),void 0!=t._selectedTab&&t._selectTab(t._selectedTab),t.dom}function $ui_TileGroup(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-tile-group"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t._tileSize=256,t._thresholdWidth=1024,t.dom.inner=document.createElement("div"),$ui.addClass(t.dom.inner,"group-inner"),t.dom.appendChild(t.dom.inner),t.matrix=[],t._setTileTopLeft=function(t,e,i){t.dom.style.top=e*this._tileSize+"px",t.dom.style.left=i*this._tileSize+"px"}.$bind(t),t._positionTile=function(e){var i,o,n,s=!1;if(void 0==e._size)for(n=0;this.matrix.length>n;n++){for(i=this.matrix[n],o=0;i.length>o;o++)if(0===i[o]){i[o]=1,this._setTileTopLeft(e,n,o),s=!0;break}if(1==s)break}else if(e._size==$ui.TileSize.WIDE)for(n=0;this.matrix.length>n;n++){for(i=this.matrix[n],o=0;i.length>o;o++)if(0===i[o]&&i.length>=o+1&&0===i[o+1]){i[o]=1,i[o+1]=1,this._setTileTopLeft(e,n,o),s=!0;break}if(1==s)break}else if(e._size==$ui.TileSize.TALL)for(n=0;this.matrix.length>n;n++){for(i=this.matrix[n],o=0;i.length>o;o++)if(0===i[o]&&this.matrix.length>n+1&&0===this.matrix[n+1][o]){i[o]=1,this.matrix[n+1][o]=1,this._setTileTopLeft(e,n,o),s=!0;break}if(1==s)break}else if(e._size==$ui.TileSize.SQUARE)for(n=0;this.matrix.length>n;n++){for(i=this.matrix[n],o=0;i.length>o;o++)if(0===i[o]&&this.matrix.length>n+1&&0===this.matrix[n+1][o]&&i.length>o+1&&0===this.matrix[n+1][o+1]){i[o]=1,i[o+1]=1,this.matrix[n+1][o]=1,this.matrix[n+1][o+1]=1,this._setTileTopLeft(e,n,o),s=!0;break}if(1==s)break}0==s&&(void 0==e._size?(1==t._is3Columns?this.matrix.push([1,0,0]):this.matrix.push([1,0,0,0]),this._setTileTopLeft(e,this.matrix.length-1,0)):e._size==$ui.TileSize.WIDE?(1==t._is3Columns?this.matrix.push([1,1,0]):this.matrix.push([1,1,0,0]),this._setTileTopLeft(e,this.matrix.length-1,0)):(1==t._is3Columns?this.matrix.push([0,0,0]):this.matrix.push([0,0,0,0]),this._positionTile(e)))}.$bind(t),t._recalculateHeight=function(){this.dom.inner.style.height=this.matrix.length*this._tileSize+"px"}.$bind(t),t.tiles){var i,o,n;for(i=0;t.tiles.length>i;i++)o=t.tiles[i],n=$ui.createControl(o,e),n&&t.dom.inner.appendChild(n);t._recalculateHeight()}return t._layoutTiles=function(){var t;for(0==this._is3Columns?(this.matrix=[],this.matrix.push([0,0,0,0])):(this.matrix=[],this.matrix.push([0,0,0])),t=0;this.tiles.length>t;t++)this._positionTile(this.tiles[t]);this._recalculateHeight()}.$bind(t),t._onresize=function(){1!=$ui.options.isClientDevice&&(1==this._is3Columns&&this.dom.offsetWidth>=this._thresholdWidth?this._layoutTiles():0==this._is3Columns&&this.dom.offsetWidth<this._thresholdWidth&&this._layoutTiles())}.$bind(t),t._onshow=function(){1!=$ui.options.isClientDevice&&(this._is3Columns=this.dom.offsetWidth<this._thresholdWidth,this._layoutTiles()),this.dom.style.visibility="visible"}.$bind(t),t.dom}function $ui_Toggle(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-toggle"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.dom.bottomBorder=document.createElement("div"),$ui.addClass(t.dom.bottomBorder,"bottom-border theme-dark-background-color"),t.dom.appendChild(t.dom.bottomBorder),t.dom.caption=document.createElement("span"),$ui.addClass(t.dom.caption,"caption theme-text-color"),t.dom.appendChild(t.dom.caption),t.dom.duration=document.createElement("div"),$ui.addClass(t.dom.duration,"duration"),t.dom.appendChild(t.dom.duration),t.dom.duration.bottomDiv=document.createElement("div"),$ui.addClass(t.dom.duration.bottomDiv,"bottom"),t.dom.duration.appendChild(t.dom.duration.bottomDiv),t.dom.duration.number=document.createElement("div"),$ui.addClass(t.dom.duration.number,"number theme-highlight-text-color"),t.dom.duration.bottomDiv.appendChild(t.dom.duration.number),t.dom.duration.bar=document.createElement("div"),$ui.addClass(t.dom.duration.bar,"bar theme-brand-background-color"),t.dom.duration.bottomDiv.appendChild(t.dom.duration.bar),void 0==t.style&&(t.style=$ui.Toggle.Style.OnOff),$ui.addClass(t.dom,t.style),t._protected.style=t.style,Object.defineProperty(t,"style",{get:function(){return this._protected.style},set:function(t){void 0==t&&(t=$ui.Toggle.Style.OnOff),t!=this._protected.style&&($ui.removeClass(this.dom,this._protected.style),this._protected.style==$ui.Toggle.Style.OnOff?this.dom.removeChild(this.dom.innerToggle):this._protected.style==$ui.Toggle.Style.Momentary?this.dom.removeChild(this.dom.momentary):this._protected.style==$ui.Toggle.Style.OnOffOn&&this.dom.removeChild(this.dom.innerToggle),this._protected.style=t,$ui.addClass(this.dom,this._protected.style),t==$ui.Toggle.Style.OnOff?(this._createOnOffStyle(),this._setPosition(this.position)):t==$ui.Toggle.Style.Momentary?this._createMomentaryStyle():t==$ui.Toggle.Style.OnOffOn&&(this._createOnOffOnStyle(),this._setPosition(this.position)))},configurable:!1}),t._createOnOffStyle=function(){this.dom.innerToggle=document.createElement("div"),this.dom.innerToggle.model=this,$ui.addClass(this.dom.innerToggle,"inner-toggle theme-border-color"),this.dom.appendChild(this.dom.innerToggle),this.dom.slide=document.createElement("div"),$ui.addClass(this.dom.slide,"slide"),this.dom.innerToggle.appendChild(this.dom.slide),this.dom.left=document.createElement("div"),$ui.addClass(this.dom.left,"left"),this.dom.slide.appendChild(this.dom.left),this.dom.button=document.createElement("div"),$ui.addClass(this.dom.button,"button theme-border-color"),this.dom.slide.appendChild(this.dom.button),this.dom.button.inner=document.createElement("div"),$ui.addClass(this.dom.button.inner,"button-inner theme-brand-border-color"),this.dom.button.appendChild(this.dom.button.inner),this.dom.right=document.createElement("div"),$ui.addClass(this.dom.right,"right"),this.dom.slide.appendChild(this.dom.right),this.dom.innerToggle.addEventListener("click",function(){0!=this.model.enabled&&1!=this.model._protected.isCountingDown&&($ui.playTouchSound(),this.model.position=0==this.model.position?1:0,this.model.onclick&&this.model.onclick(this.model))},!1)}.$bind(t),t._createOnOffOnStyle=function(){this.dom.innerToggle=document.createElement("div"),this.dom.innerToggle.model=this,$ui.addClass(this.dom.innerToggle,"inner-toggle theme-border-color"),this.dom.appendChild(this.dom.innerToggle),this.dom.slide=document.createElement("div"),$ui.addClass(this.dom.slide,"slide"),this.dom.innerToggle.appendChild(this.dom.slide),this.dom.left=document.createElement("div"),$ui.addClass(this.dom.left,"left"),this.dom.slide.appendChild(this.dom.left),this.dom.left.label=document.createElement("div"),$ui.addClass(this.dom.left.label,"label theme-dark-text-color"),this.dom.left.appendChild(this.dom.left.label),void 0!=this.negativeLabel&&this.style==$ui.Toggle.Style.OnOffOn&&(this.dom.left.label.textContent=this.negativeLabel),this.dom.button=document.createElement("div"),$ui.addClass(this.dom.button,"button theme-border-color"),this.dom.slide.appendChild(this.dom.button),this.dom.button.inner=document.createElement("div"),$ui.addClass(this.dom.button.inner,"button-inner theme-brand-border-color"),this.dom.button.appendChild(this.dom.button.inner),this.dom.right=document.createElement("div"),$ui.addClass(this.dom.right,"right"),this.dom.slide.appendChild(this.dom.right),this.dom.right.label=document.createElement("div"),$ui.addClass(this.dom.right.label,"label theme-dark-text-color"),this.dom.right.appendChild(this.dom.right.label),void 0!=this.positiveLabel&&this.style==$ui.Toggle.Style.OnOffOn&&(this.dom.right.label.textContent=this.positiveLabel),this.dom.innerToggle.onclick=function(t){if(0!=this.model.enabled&&1!=this.model._protected.isCountingDown){$ui.playTouchSound();var e=this.getBoundingClientRect(),i=(e.right-e.left)/3;this.model.position=t.clientX<e.left+i?-1:t.clientX>e.right-i?1:0,this.model.onclick&&this.model.onclick(this.model)}}}.$bind(t),t._createMomentaryStyle=function(){this.dom.momentary=document.createElement("div"),this.dom.momentary.model=this,$ui.addClass(this.dom.momentary,"momentary theme-brand-background-color theme-highlight-text-color"),this.dom.appendChild(this.dom.momentary),this.dom.momentary.onclick=function(){if(1!=this.model._protected.isCountingDown&&0!=this.model.enabled&&($ui.playTouchSound(),this.model.position=1,this.model.onclick&&this.model.onclick(this.model),void 0==this.model.duration||0>=this.model.duration)){var t=this.model;window.setTimeout(function(){t.position=0},500)}},this.dom.momentary.ontouchstart=function(){this.style.opacity="0.7"},this.dom.momentary.ontouchend=function(){this.style.opacity=""},this.dom.momentary.ontouchcancel=this.dom.momentary.ontouchend,$ui.isMobileDevice()||(this.dom.momentary.onmousedown=this.dom.momentary.ontouchstart,this.dom.momentary.onmouseup=this.dom.momentary.ontouchend,this.dom.momentary.onmouseleave=this.dom.momentary.ontouchend)}.$bind(t),t.style==$ui.Toggle.Style.OnOff?t._createOnOffStyle():t.style==$ui.Toggle.Style.Momentary?t._createMomentaryStyle():t.style==$ui.Toggle.Style.OnOffOn&&t._createOnOffOnStyle(),t._protected.positiveLabel=t.positiveLabel,Object.defineProperty(t,"positiveLabel",{get:function(){return this._protected.positiveLabel},set:function(t){void 0==t&&(t=""),t!=this._protected.positiveLabel&&(this._protected.positiveLabel=t,this.style==$ui.Toggle.Style.OnOffOn&&(this.dom.right.label.textContent=t))},configurable:!1}),t._protected.negativeLabel=t.negativeLabel,Object.defineProperty(t,"negativeLabel",{get:function(){return this._protected.negativeLabel},set:function(t){void 0==t&&(t=""),t!=this._protected.negativeLabel&&(this._protected.negativeLabel=t,this.style==$ui.Toggle.Style.OnOffOn&&(this.dom.left.label.textContent=t))},configurable:!1}),void 0!=t.caption&&(t.dom.caption.textContent=t.caption),t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){t!=this._protected.caption&&(void 0==t&&(t=""),this._protected.caption=t,this.dom.caption.textContent=t)},configurable:!1}),"center"==t.align?$ui.addClass(t.dom.caption,"align-center"):"right"==t.align?$ui.addClass(t.dom.caption,"align-right"):(t.align="left",$ui.addClass(t.dom.caption,"align-left")),t._protected.align=t.align,Object.defineProperty(t,"align",{get:function(){return this._protected.align},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","align"))},configurable:!1}),t._setPosition=function(t){void 0==t&&(t=0),this._protected.position=t,this.style==$ui.Toggle.Style.OnOff?0==t?($ui.removeClass(this.dom.innerToggle,"yes"),$ui.removeClass(this.dom.innerToggle,"theme-brand-background-color"),$ui.removeClass(this.dom.button.inner,"theme-light-background-color"),$ui.addClass(this.dom.innerToggle,"no")):($ui.removeClass(this.dom.innerToggle,"no"),$ui.addClass(this.dom.innerToggle,"yes theme-brand-background-color"),$ui.addClass(this.dom.button.inner,"theme-light-background-color")):this.style==$ui.Toggle.Style.OnOffOn&&($ui.removeClass(this.dom.innerToggle,"theme-brand-background-color"),$ui.removeClass(this.dom.button.inner,"theme-light-background-color"),0==t?($ui.removeClass(this.dom.innerToggle,"positive"),$ui.removeClass(this.dom.innerToggle,"negative"),this.dom.right.label.style.display="block",this.dom.left.label.style.display="block"):1==t?($ui.removeClass(this.dom.innerToggle,"negative"),$ui.addClass(this.dom.innerToggle,"positive theme-brand-background-color"),$ui.addClass(this.dom.button.inner,"theme-light-background-color"),this.dom.right.label.style.display="none",this.dom.left.label.style.display="none"):($ui.removeClass(this.dom.innerToggle,"positive"),$ui.addClass(this.dom.innerToggle,"negative theme-brand-background-color"),$ui.addClass(this.dom.button.inner,"theme-light-background-color"),this.dom.right.label.style.display="none",this.dom.left.label.style.display="none"))}.$bind(t),void 0==t.duration&&(t.duration=0),t.duration>0&&(t.dom.duration.style.display="block"),t._protected.duration=t.duration,Object.defineProperty(t,"duration",{get:function(){return this._protected.duration},set:function(t){void 0==t&&(t=0),t!=this._protected.duration&&(this._protected.duration=t,this.dom.duration.style.display=0>=t?"none":"block")},configurable:!1}),void 0==t.position&&(t.position=0),t._setPosition(t.position),t._protected.position=t.position,Object.defineProperty(t,"position",{get:function(){return this._protected.position},set:function(t){t!=this._protected.position&&(this._protected.position=t,this._setPosition(t),this._updateData(t),0==t?(this._protected.isCountingDown=!1,this.dom.duration.bottomDiv.style.opacity=0,this.dom.duration.style["-webkit-transform"]="translate3d(0px, 0px, 0px)",this.style==$ui.Toggle.Style.OnOff||this.style==$ui.Toggle.Style.OnOffOn?this.dom.innerToggle.style.opacity=1:this.dom.momentary.style.opacity=1):this.duration&&this.duration>0&&(this.dom.duration.bottomDiv.style.opacity=1,this.dom.duration.style["-webkit-transform"]=1==$ui.options.isClientDevice?"translate3d(-20px, -10px, 0px)":"translate3d(-26px, -14px, 0px)",this._protected.intervalCount=this.duration,this._protected.isCountingDown=!0,this.dom.duration.bar.style.width="100%",this.dom.duration.number.textContent=this._protected.intervalCount/1e3,this._protected.interval=window.setInterval(this._countDownInterval,1e3),this.style==$ui.Toggle.Style.OnOff||this.style==$ui.Toggle.Style.OnOffOn?this.dom.innerToggle.style.opacity=.5:this.dom.momentary.style.opacity=.5))
},configurable:!1}),t._countDownInterval=function(){this._protected.intervalCount=this._protected.intervalCount-1e3;var t=this._protected.intervalCount/1e3;0>t&&(t=0),this.dom.duration.number.textContent=t,this.dom.duration.bar.style.width=100*(1-(this._protected.duration-this._protected.intervalCount)/this._protected.duration)+"%",0>=this._protected.intervalCount&&(window.clearInterval(this._protected.interval),this.position=0)}.$bind(t),t._providerUpdate=function(t){this._setPosition(t)}.$bind(t),t._ondestroy=function(){this._protected.interval&&window.clearInterval(this._protected.interval)}.$bind(t),t.dom}function $ui_WindowPane(t,e){if($ui_CoreScreen.call(this,t,e),t){if($ui.addClass(t.dom,"ui-window-pane theme-screen-background-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.dom.style.width=t.width?t.width+"px":window.innerWidth+"px",t.dom.backgroundDiv=document.createElement("div"),$ui.addClass(t.dom.backgroundDiv,"background theme-screen-background-color"),t.dom.appendChild(t.dom.backgroundDiv),t.backCaption){t.dom.backBar=document.createElement("div"),$ui.addClass(t.dom.backBar,"back-bar theme-screen-background-color theme-brand-border-color"),$ui.addClass(t.dom,"has-back"),t.dom.appendChild(t.dom.backBar),t.dom.backCaption=document.createElement("span"),t.dom.backCaption.textContent=t.backCaption,t.dom.backCaption.model=t,$ui.addClass(t.dom.backCaption,"caption theme-text-color"),t.dom.backBar.appendChild(t.dom.backCaption),t.dom.backCaption.onclick=function(){if($ui.playTouchSound(),this.model.onbackclick){var t=this.model.onbackclick();0!=t&&$ui.pop()}else $ui.pop()};try{Object.defineProperty(t,"backCaption",{get:function(){return t.dom.backCaption.textContent},set:function(e){console.log("RPW: setting caption to "+e),t.dom.backCaption.textContent=e}})}catch(i){console.log("RPW: ignoring "+i)}}if(t.setBackground=function(t){this.background&&(this.dom.backgroundDiv.style.opacity="0"),void 0!=t&&(this.background=t,this.background.repeat===!0?this.dom.backgroundDiv.style.backgroundRepeat="repeat":this.dom.backgroundDiv.style.backgroundSize="cover",this.background.img&&(this._loader=new Image,this._loader.model=this,this._loader.onload=function(){this.model.dom.backgroundDiv.style.backgroundImage='url("'+this.model.background.img+'")',this.model.dom.backgroundDiv.style.opacity="1",this.model._loader=null},this._loader.src=this.background.img))}.$bind(t),t.dom.contentDiv=document.createElement("div"),$ui.addClass(t.dom.contentDiv,"inner"),t.dom.appendChild(t.dom.contentDiv),t._protected.content=t.content,Object.defineProperty(t,"content",{get:function(){return this._protected.content},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","content"))},configurable:!1}),t._getControlListProperty=function(){return this.content}.$bind(t),t._getControlListDom=function(){return this.dom.contentDiv}.$bind(t),t.content)for(var o=0;t.content.length>o;o++)t._addComponent(t.content[o]);return t._onwindowpaneresize=function(){this.dom.style.width="",this.dom.style.right="0px"}.$bind(t),t._onbeforepop=function(){1==this.animated&&(this.dom.style["-webkit-animation-delay"]="",this.dom.style["-webkit-animation-name"]="ui-pane-slide-right")}.$bind(t),t._initialize=function(){this.background&&this.setBackground(this.background)}.$bind(t),t.dom}}function $ui_Browser(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-browser"),t._protected.isIFrame=window.$system&&1==$system.config.isEmulator?!1:!0,t.dom.chrome=document.createElement("div"),$ui.addClass(t.dom.chrome,"chrome theme-brand-border-color"),t.dom.appendChild(t.dom.chrome),t.dom.inputDiv=document.createElement("div"),$ui.addClass(t.dom.inputDiv,"inputDiv theme-light-background-color theme-brand-border-color"),t.dom.chrome.appendChild(t.dom.inputDiv),t.dom.input=document.createElement("input"),t.dom.input.model=t,t.dom.input.setAttribute("spellcheck","false"),t.dom.inputDiv.appendChild(t.dom.input),t.dom.input.onclick=function(t){30>=this.offsetWidth-t.offsetX&&(this.value="")},t.dom.input.onkeyup=function(t){13==t.keyCode&&(this.model.src=this.value)},t.dom.icon=document.createElement("div"),$ui.addClass(t.dom.icon,"icon"),t.dom.inputDiv.appendChild(t.dom.icon),t.dom.spinner=new $ui_Spinner({component:$ui.Spinner,size:$ui.Size.TINY,forceColor:"dark"},e),t.dom.spinner.style.display="none",t.dom.icon.appendChild(t.dom.spinner),t._backBtn={style:"back",parent:t},new $ui_BrowserButton(t._backBtn,e),t.dom.chrome.appendChild(t._backBtn.dom),t._backBtn.dom.onclick=function(){if(0==this.model.parent._protected.isIFrame){var t=this.model.parent.dom.contentWindow;1==t.canGoBack()&&t.back()}},t._nextBtn={style:"next",parent:t},new $ui_BrowserButton(t._nextBtn,e),t.dom.chrome.appendChild(t._nextBtn.dom),t._nextBtn.dom.onclick=function(){if(0==this.model.parent._protected.isIFrame){var t=this.model.parent.dom.contentWindow;1==t.canGoForward()&&t.forward()}},t._refreshBtn={style:"stop",parent:t},new $ui_BrowserButton(t._refreshBtn,e),t.dom.chrome.appendChild(t._refreshBtn.dom),t._refreshBtn.dom.onclick=function(){if(0==this.model.parent._protected.isIFrame){var t=this.model.parent.dom.contentWindow;"stop"==this.model.style?t.stop():t.reload()}},t._newTabBtn={style:"new-tab",parent:t},new $ui_BrowserButton(t._newTabBtn,e),t.dom.chrome.appendChild(t._newTabBtn.dom),t._newTabBtn.dom.onclick=function(){0==this.model.parent._protected.isIFrame&&$ui.toast("Sorry! Tabs aren't enabled yet in the emulator")},t._favoriteBtn={style:"favorite",parent:t},new $ui_BrowserButton(t._favoriteBtn,e),t.dom.chrome.appendChild(t._favoriteBtn.dom),t._favoriteBtn.dom.onclick=function(){0==this.model.parent._protected.isIFrame&&this.model.parent.onfavoriteclick&&this.model.parent.onfavoriteclick()},t._bookmarksBtn={style:"bookmarks",parent:t},new $ui_BrowserButton(t._bookmarksBtn,e),t.dom.chrome.appendChild(t._bookmarksBtn.dom),t._bookmarksBtn.dom.onclick=function(){0==this.model.parent._protected.isIFrame&&this.model.parent.onbookmarksclick&&this.model.parent.onbookmarksclick()},t.dom.browserDiv=document.createElement("div"),$ui.addClass(t.dom.browserDiv,"browserDiv"),t.dom.appendChild(t.dom.browserDiv),t.dom.browserDiv.model=t,t.dom.contentWindow=t._protected.isIFrame===!0?document.createElement("iframe"):document.createElement("webview"),$ui.addClass(t.dom.contentWindow,"window"),t.dom.browserDiv.appendChild(t.dom.contentWindow),t._protected.src=t.src,Object.defineProperty(t,"src",{get:function(){return this._protected.src},set:function(t){t!=this._protected.src&&(this._protected.src=t,this._setSrc(t))},configurable:!1}),t._setSrc=function(t){this.dom.input.value=t,this._onstartload(),this.dom.contentWindow.src=t}.$bind(t),t._onstartload=function(){this.dom.spinner.style.display="",this._refreshBtn.setStyle("stop"),$ui.removeClass(this.dom.icon,"page"),0==this._protected.isIFrame&&void 0!=event&&1==event.isTopLevel&&(this.dom.input.value=event.url,this._protected.src=event.url)}.$bind(t),t._onload=function(){this.dom.spinner.style.display="none",$ui.addClass(this.dom.icon,"page"),this._refreshBtn.setStyle("refresh")}.$bind(t),t._onbeforepop=function(){this.dom.contentWindow.style.display="none"}.$bind(t),t._onshow=function(){this.src&&this._setSrc(this.src),this.dom.contentWindow.style.visibility="visible",this._protected.isIFrame===!0?this.dom.contentWindow.onload=t._onload:(this.dom.contentWindow.addEventListener("loadstart",this._onstartload),this.dom.contentWindow.addEventListener("loadstop",this._onload),this.dom.contentWindow.style.width=this.dom.browserDiv.offsetWidth+"px",this.dom.contentWindow.style.height=this.dom.browserDiv.offsetHeight+"px")}.$bind(t),t._ondestroy=function(){0==this._protected.isIFrame&&(this.dom.contentWindow.removeEventListener("loadstart",this._onstartload),this.dom.contentWindow.removeEventListener("loadstop",this._onload))}.$bind(t),t._onresize=function(){if(0==this._protected.isIFrame){var t=this.dom.contentWindow;t.style.display="none",setTimeout(function(){t.style.display="block"},500)}}.$bind(t),t.dom}function $ui_BrowserButton(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"button"),t.style&&$ui.addClass(t.dom,t.style),t.dom.onclick=function(){this.model.enabled!==!1&&($ui.playTouchSound(),this.model.onclick&&this.model.onclick())},t.dom.ontouchstart=function(){this.model.enabled!==!1&&$ui.addClass(this,"theme-brand-background-color")},t.dom.ontouchend=function(){this.model.enabled!==!1&&$ui.removeClass(this,"theme-brand-background-color")},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend),t.setStyle=function(t){t!=this.style&&(void 0!=this.style&&$ui.removeClass(this.dom,this.style),$ui.addClass(this.dom,t),this.style=t)}.$bind(t),t.dom}function $ui_ColorListItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-color-list-item"),void 0!=t.color&&(t.dom.style.backgroundColor=t.color),t._protected.color=t.color,Object.defineProperty(t,"color",{get:function(){return this._protected.color},set:function(t){t!=this._protected.color&&(this._protected.color=t,this.dom.style.backgroundColor=void 0==color?"":t)},configurable:!1}),1==t.selected?$ui.addClass(t.dom,"selected"):t.selected=!1,t._protected.selected=t.selected,Object.defineProperty(t,"selected",{get:function(){return this._protected.selected},set:function(e){e!=this._protected.selected&&(void 0==e&&(e=!1),this._protected.selected=e,0==e?$ui.removeClass(t.dom,"selected"):$ui.addClass(t.dom,"selected"))},configurable:!1}),t.dom.addEventListener("click",function(){var t,e;for(t=0;this.model.parent.items.length>t;t++)e=this.model.parent.items[t],e!=this.model&&(e.selected=!1);if(this.model.selected=!0,this.model.parent.onaction){var i=new ListEvent(this.model,$ui.ColorListItem.ColorListEvent.ONCLICK);this.model.parent._onaction(this.model,i)}$ui.playTouchSound()},!1),t.dom}function $ui_DialPad(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-dial-pad"),t.number||(t.number={}),t.dom.number=new $ui_DialPadNumber(t.number,e),t.dom.appendChild(t.dom.number),t._buttons=[{caption:"1"},{caption:"2",letters:"ABC"},{caption:"3",letters:"DEF"},{caption:"4",letters:"GHI"},{caption:"5",letters:"JKL"},{caption:"6",letters:"MNO"},{caption:"7",letters:"PQRS"},{caption:"8",letters:"TUV"},{caption:"9",letters:"WXYZ"},{caption:"*",center:!0},{caption:"0",letters:"+"},{caption:"#",center:!0}];var i,o;for(i=0;t._buttons.length>i;i++)o=t._buttons[i],o.parent=t,dom=new $ui_DialPadButton(o,e),t.dom.appendChild(dom);return t.dom.dialButton=new $ui_DialPadButton({parent:t,letters:"Call",dial:!0},e),t.dom.appendChild(t.dom.dialButton),t.dom}function $ui_DialPadButton(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"button theme-text-color"),t._private={},t._private.playTouchSound=function(){switch(this.caption){case"0":$system.audio.playSoundEffect($system.SoundEffect.TONE0);break;case"1":$system.audio.playSoundEffect($system.SoundEffect.TONE1);break;case"2":$system.audio.playSoundEffect($system.SoundEffect.TONE2);break;case"3":$system.audio.playSoundEffect($system.SoundEffect.TONE3);break;case"4":$system.audio.playSoundEffect($system.SoundEffect.TONE4);break;case"5":$system.audio.playSoundEffect($system.SoundEffect.TONE5);break;case"6":$system.audio.playSoundEffect($system.SoundEffect.TONE6);break;case"7":$system.audio.playSoundEffect($system.SoundEffect.TONE7);break;case"8":$system.audio.playSoundEffect($system.SoundEffect.TONE8);break;case"9":$system.audio.playSoundEffect($system.SoundEffect.TONE9);break;case"#":$system.audio.playSoundEffect($system.SoundEffect.TONE_POUND);break;case"*":$system.audio.playSoundEffect($system.SoundEffect.TONE_ASTERIK)}}.$bind(t),t.dial?(t.dom.letters=document.createElement("div"),$ui.addClass(t.dom.letters,"letters"),t.dom.appendChild(t.dom.letters),t.dom.letters.textContent=t.letters,$ui.addClass(t.dom,"dial theme-call-button"),t.dom.ontouchstart=function(){this.style.opacity=.7},t.dom.ontouchend=function(){this.style.opacity=1}):(t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption"),t.dom.captionDiv.textContent=t.caption,t.dom.appendChild(t.dom.captionDiv),t.center===!0&&$ui.addClass(t.dom.captionDiv,"centered"),t.dom.letters=document.createElement("div"),$ui.addClass(t.dom.letters,"letters"),t.dom.appendChild(t.dom.letters),t.letters&&(t.dom.letters.textContent=t.letters),t.dom.ontouchstart=function(){$ui.addClass(this,"theme-brand-background-color"),$ui.addClass(this,"theme-highlight-text-color"),this._private.playTouchSound()}.$bind(t),t.dom.ontouchend=function(){$ui.removeClass(this,"theme-brand-background-color"),$ui.removeClass(this,"theme-highlight-text-color")}),t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.onclick=function(){var t={caption:this.model.caption,letters:this.model.letters,dial:this.model.dial};void 0!=this.model.parent&&this.model.parent.onkeypadpress&&this.model.parent.onkeypadpress(t)},t.dom}function $ui_DialPadNumber(t,e){function i(t){return t.length>13?"... "+t.substring(t.length-13):11==t.length?t.substring(0,1)+" "+i(t.substring(1)):10==t.length?"("+t.substring(0,3)+") "+i(t.substring(3)):7==t.length?t.substring(0,3)+"-"+t.substring(3):t}function o(t){t.ontouchstart=n,t.ontouchend=s,t.ontouchcancel=s,$ui.isMobileDevice()||(t.onmousedown=n,t.onmouseup=s,t.onmouseleave=s)}$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-dial-pad-number theme-dark-background-color");var n=function(){this.dom.del.style.opacity="0.7"}.$bind(t),s=function(){this.dom.del.style.opacity=this.number.length>0?"1":"0.7"}.$bind(t);return t._private={},t._private.number="",t._private.prettyNumber="",t.dom.del=document.createElement("div"),$ui.addClass(t.dom.del,"delete"),t.dom.appendChild(t.dom.del),t.dom.number=document.createElement("div"),$ui.addClass(t.dom.number,"number theme-highlight-text-color"),t.dom.appendChild(t.dom.number),o(t.dom.del),t.dom.del.onclick=function(t){0!=this.number.length&&this.ondeleteclick&&this.ondeleteclick(t)}.$bind(t),Object.defineProperty(t,"number",{get:function(){return this._private.number}.$bind(t),set:function(t){var e=t.length;this.dom.del.style.opacity=0==e?.7:1,this._private.prettyNumber=i(t),this.dom.number.textContent=this._private.prettyNumber,this._private.number=t,this._private.lastNumber!=t&&(this._private.lastNumber=t,this.onnumberchanged&&this.onnumberchanged({number:t,prettyNumber:this._private.prettyNumber}))}.$bind(t)}),Object.defineProperty(t,"prettyNumber",{get:function(){return this._private.prettyNumber}}),t.appendToNumber=function(t){this.number=this._private.number+t}.$bind(t),t.deleteFromNumber=function(){var t=(new Date).getTime();if(this._private.lastDelete&&200>t-this._private.lastDelete)this.number="";else{var e=this.number;e&&e.length>0&&(this.number=e.substring(0,e.length-1))}this._private.lastDelete=t}.$bind(t),t.dom}function $ui_Map(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-map"),t._protected.isIFrame=$system&&1==$system.config.isEmulator?!1:!0,t.dom.mapDiv=document.createElement("div"),$ui.addClass(t.dom.mapDiv,"mapDiv theme-screen-background-color"),t.dom.appendChild(t.dom.mapDiv),1==t._protected.isIFrame?(t.dom.contentWindow=document.createElement("iframe"),$ui.addClass(t.dom.contentWindow,"window")):(t.dom.contentWindow=document.createElement("webview"),$ui.addClass(t.dom.contentWindow,"webview")),t.dom.mapDiv.appendChild(t.dom.contentWindow),t._onshow=function(){this.src&&(this.dom.contentWindow.src=this.src),this.dom.contentWindow.style.display="block",0==this._protected.isIFrame&&(this.dom.contentWindow.style.width=this.dom.mapDiv.offsetWidth+"px",this.dom.contentWindow.style.height=this.dom.mapDiv.offsetHeight+7+"px")}.$bind(t),t._onresize=function(){if(0==this._protected.isIFrame){var t=this.dom.contentWindow;t.style.display="none",setTimeout(function(){t.style.display="block"},500)}}.$bind(t),t.dom}function $ui_MediaPlayer(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-media-player"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),void 0==t.paused&&(t.paused=!1),t.dom.coverArt=document.createElement("div"),$ui.addClass(t.dom.coverArt,"cover-art"),t.dom.appendChild(t.dom.coverArt),t.dom.coverArt.loader=new Image,t.dom.coverArt.loader.model=t,t.dom.coverArt.loader.onload=function(){this.model.dom.coverArt.style.backgroundImage='url("'+this.model.coverArt+'")',this.model.dom.coverArt.style.opacity="0.3"},t.dom.controls=document.createElement("div"),$ui.addClass(t.dom.controls,"controls theme-text-color"),t.dom.appendChild(t.dom.controls),t.dom.artist=document.createElement("div"),$ui.addClass(t.dom.artist,"artist"),t.dom.controls.appendChild(t.dom.artist),t.dom.song=document.createElement("div"),$ui.addClass(t.dom.song,"song"),t.dom.controls.appendChild(t.dom.song),t.dom.album=document.createElement("div"),$ui.addClass(t.dom.album,"album"),t.dom.controls.appendChild(t.dom.album),t.dom.playbox=document.createElement("div"),$ui.addClass(t.dom.playbox,"playbox"),t.dom.controls.appendChild(t.dom.playbox),t.dom.skipBack=document.createElement("div"),t.dom.skipBack.model=t,$ui.addClass(t.dom.skipBack,"button"),$ui.addClass(t.dom.skipBack,"skip-back"),t.dom.playbox.appendChild(t.dom.skipBack),t.dom.skipForward=document.createElement("div"),t.dom.skipForward.model=t,$ui.addClass(t.dom.skipForward,"button"),$ui.addClass(t.dom.skipForward,"skip-forward"),t.dom.playbox.appendChild(t.dom.skipForward),t.dom.play=document.createElement("div"),t.dom.play.model=t,$ui.addClass(t.dom.play,"button"),$ui.addClass(t.dom.play,"play"),t.dom.playbox.appendChild(t.dom.play),t.dom.play.onclick=function(){$ui.playTouchSound(),1==this.model.paused?this.model.play():this.model.pause()},t.dom.play.ontouchstart=function(){this.style.opacity="0.7"},t.dom.play.ontouchend=function(){this.style.opacity="1.0"},t.dom.play.ontouchcancel=t.dom.ontouchend,t.dom.skipBack.ontouchstart=t.dom.play.ontouchstart,t.dom.skipBack.ontouchend=t.dom.play.ontouchend,t.dom.skipBack.ontouchcancel=t.dom.play.ontouchend,t.dom.skipBack.onclick=function(){$ui.playTouchSound(),this.model.skipBack()},t.dom.skipForward.ontouchstart=t.dom.play.ontouchstart,t.dom.skipForward.ontouchend=t.dom.play.ontouchend,t.dom.skipForward.ontouchcancel=t.dom.play.ontouchend,t.dom.skipForward.onclick=function(){$ui.playTouchSound(),this.model.skipForward()},$ui.isMobileDevice()||(t.dom.play.onmousedown=t.dom.play.ontouchstart,t.dom.play.onmouseup=t.dom.play.ontouchend,t.dom.play.onmouseleave=t.dom.play.ontouchend),t.dom.menu=document.createElement("div"),t.dom.menu.model=t,$ui.addClass(t.dom.menu,"menu theme-border-color"),t.dom.appendChild(t.dom.menu),t.dom.menu.onclick=function(){$ui.playTouchSound(),this.model.onmenuclick&&this.model.onmenuclick()},t.dom.menu.ontouchstart=function(){$ui.addClass(this,"theme-brand-background-color")},t.dom.menu.ontouchend=function(){$ui.removeClass(this,"theme-brand-background-color")},t.dom.menu.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.menu.onmousedown=t.dom.menu.ontouchstart,t.dom.menu.onmouseup=t.dom.menu.ontouchend,t.dom.menu.onmouseleave=t.dom.menu.ontouchend),t.dom.textButtonBox=document.createElement("div"),$ui.addClass(t.dom.textButtonBox,"textButtonBox"),t.dom.appendChild(t.dom.textButtonBox),t.dom.buttonRepeat=document.createElement("div"),t.dom.buttonRepeat.model=t,$ui.addClass(t.dom.buttonRepeat,"text-button theme-text-color"),$ui.addClass(t.dom.buttonRepeat,"left"),t.dom.buttonRepeat.textContent="Repeat Off",t.dom.textButtonBox.appendChild(t.dom.buttonRepeat),t.dom.buttonSource=document.createElement("div"),$ui.addClass(t.dom.buttonSource,"text-button theme-text-color"),$ui.addClass(t.dom.buttonSource,"center"),t.dom.buttonSource.textContent="Source",t.dom.textButtonBox.appendChild(t.dom.buttonSource),t.dom.buttonShuffle=document.createElement("div"),t.dom.buttonShuffle.model=t,$ui.addClass(t.dom.buttonShuffle,"text-button theme-text-color"),$ui.addClass(t.dom.buttonShuffle,"right"),t.dom.buttonShuffle.textContent="Shuffle Off",t.dom.textButtonBox.appendChild(t.dom.buttonShuffle),t.dom.buttonShuffle.ontouchstart=t.dom.play.ontouchstart,t.dom.buttonShuffle.ontouchend=t.dom.play.ontouchend,t.dom.buttonShuffle.ontouchcancel=t.dom.play.ontouchcancel,t.dom.buttonShuffle.onclick=function(){$ui.playTouchSound(),this.model.toggleShuffle()},t.dom.buttonRepeat.ontouchstart=t.dom.play.ontouchstart,t.dom.buttonRepeat.ontouchend=t.dom.play.ontouchend,t.dom.buttonRepeat.ontouchcancel=t.dom.play.ontouchcancel,t.dom.buttonRepeat.onclick=function(){$ui.playTouchSound(),this.model.toggleRepeat()},t.setRepeat=function(t){0==t?this.dom.buttonRepeat.textContent="Repeat Off":1==t?this.dom.buttonRepeat.textContent="Repeat One":2==t&&(this.dom.buttonRepeat.textContent="Repeat All")}.$bind(t),t.setShuffle=function(t){this.dom.buttonShuffle.textContent=t?"Shuffle On":"Shuffle Off"}.$bind(t),t.setAlbum=function(t){this.album=t,this.dom.album.textContent=void 0!=t?t:""}.$bind(t),t.setSong=function(t){this.song=t,this.dom.song.textContent=void 0!=t?t:""}.$bind(t),t.setArtist=function(t){this.artist=t,this.dom.artist.textContent=void 0!=t?t:""}.$bind(t),t.setCoverArt=function(t){this.coverArt=t,this.dom.coverArt.style.opacity="0",void 0!=t&&(this.dom.coverArt.loader.src=t)}.$bind(t),t.setDuration=function(t){this.duration=t}.$bind(t),t._renderPlayState=function(){1==this.paused?$ui.removeClass(this.dom.play,"pause"):$ui.addClass(this.dom.play,"pause")}.$bind(t),t.play=function(){0!=this.paused&&(this.paused=!1,this._renderPlayState(),this.onplay&&this.onplay())}.$bind(t),t.skipBack=function(){this.onskipback&&this.onskipback()}.$bind(t),t.setPaused=function(t){this.paused!=t&&(this.paused=t,this._renderPlayState())}.$bind(t),t.skipForward=function(){this.onskipforward&&this.onskipforward()}.$bind(t),t.toggleRepeat=function(){this.ontogglerepeat&&this.ontogglerepeat()}.$bind(t),t.toggleShuffle=function(){this.ontoggleshuffle&&this.ontoggleshuffle()}.$bind(t),t.pause=function(){1!=this.paused&&(this.paused=!0,this._renderPlayState(),this.onpause&&this.onpause())}.$bind(t),t._providerUpdate=function(t){void 0==t&&(t={}),this.setCoverArt(t.coverArt),this.setArtist(t.artist),this.setSong(t.song),this.setAlbum(t.album),this.paused=t.paused,this._renderPlayState()}.$bind(t),void 0==t.provider&&t._providerUpdate(t),t.dom}function $ui_MenuItem(t,e){return $ui_CoreComponent.call(this,t,e),1!=t.inMenu?(console.log('ERROR: A "MenuItem" can only be created as part of a menu in an "OnlineScreen"'),void 0):($ui.addClass(t.dom,"ui-menu-item"),1==t.selected?$ui.addClass(t.dom,"selected"):t.selected=!1,t._protected.selected=t.selected,Object.defineProperty(t,"selected",{get:function(){return this._protected.selected},set:function(e){e!=this._protected.selected&&(this._protected.selected=e,1==e?$ui.addClass(t.dom,"selected"):$ui.removeClass(t.dom,"selected"))},configurable:!1}),t.caption&&(t.dom.textContent=t.caption),t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){t!=this._protected.caption&&(this._protected.caption=t,this.dom.textContent=t)},configurable:!1}),t._doClick=function(){if(1!=this.selected){this.selected=!0;var t,e,i=this.parent.menu;for(t=0;i.length>t;t++)e=i[t],e!=this&&(e.selected=!1);this.onclick&&this.onclick()}}.$bind(t),$ui.isMobileDevice()?t.dom.ontouchend=t._doClick:t.dom.onclick=t._doClick,t.dom.onmouseenter=function(){this.style.color="#D94646"},t.dom.onmouseleave=function(){this.style.color=""},t.dom)}function $ui_OnlineScreen(t,e){if($ui_CoreScreen.call(this,t,e),t){if($ui.addClass(t.dom,"ui-online-screen"),t._protected.expanded=!1,t.dom.titleBar=document.createElement("div"),$ui.addClass(t.dom.titleBar,"title-bar"),t.dom.appendChild(t.dom.titleBar),t.dom.menu=document.createElement("div"),$ui.addClass(t.dom.menu,"menu"),t.dom.titleBar.appendChild(t.dom.menu),t.dom.logoTarget=document.createElement("div"),t.dom.logoTarget.model=t,$ui.addClass(t.dom.logoTarget,"logo-target"),t.dom.menu.appendChild(t.dom.logoTarget),t.dom.logoTarget.onclick=function(){this.model.onlogoclick&&this.model.onlogoclick()},t.dom.innerMenu=document.createElement("div"),$ui.addClass(t.dom.innerMenu,"inner"),t.dom.menu.appendChild(t.dom.innerMenu),t.dom.hamburger=document.createElement("div"),t.dom.hamburger.model=t,$ui.addClass(t.dom.hamburger,"hamburger"),t.dom.menu.appendChild(t.dom.hamburger),t._openHamburger=function(t){1!=this._protected.expanded&&(this._protected.expanded=!0,this.dom.innerMenu.style.display="block",t.stopPropagation(),$ui.isMobileDevice()?document.addEventListener("touchend",this._cancelOpen):document.addEventListener("click",this._cancelOpen))}.$bind(t),$ui.isMobileDevice()?t.dom.hamburger.ontouchend=t._openHamburger:t.dom.hamburger.onclick=t._openHamburger,t.dom.login=document.createElement("div"),$ui.addClass(t.dom.login,"login"),t.dom.menu.appendChild(t.dom.login),t.dom.login.textContent="Log in / Setup",t.dom.login.style.backgroundColor=$ui.theme.color,t.dom.contentDiv=document.createElement("div"),$ui.addClass(t.dom.contentDiv,"inner"),t.dom.appendChild(t.dom.contentDiv),t._protected.titleBar=t.titleBar,Object.defineProperty(t,"titleBar",{get:function(){return this._protected.titleBar},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","titleBar"))},configurable:!1}),void 0==t.menu&&(t.menu=[]),t._protected.menu=t.menu,Object.defineProperty(t,"menu",{get:function(){return this._protected.menu},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","menu"))},configurable:!1}),void 0==t.content&&(t.content=[]),t._protected.content=t.content,Object.defineProperty(t,"content",{get:function(){return this._protected.content},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","content"))},configurable:!1}),t.menu){var i,o,n,s=!1;for(i=0;t.menu.length>i;i++)o=t.menu[i],o.component==$ui.MenuItem&&(o.inMenu=!0,o.parent=t,1==o.selected&&(1==s?o.selected=!1:s=!0),n=$ui.createControl(o,t),n&&t.dom.innerMenu.appendChild(n))}if(t.content){var i,o,n;for(i=0;t.content.length>i;i++)o=t.content[i],n=$ui.createControl(o,t),n&&t.dom.contentDiv.appendChild(n)}return t._cancelOpen=function(){this.dom.innerMenu.style.display="none",this._protected.expanded=!1,$ui.isMobileDevice()?document.removeEventListener("touchend",this._cancelOpen):document.removeEventListener("click",this._cancelOpen)}.$bind(t),t.dom}}function $ui_PhoneLogListItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-phone-log-list-item theme-screen-background-color theme-text-color theme-dark-border-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),void 0==t.style&&(t.style=$ui.PhoneLogListItem.INCOMING),$ui.addClass(t.dom,t.style),t.dom.details=document.createElement("div"),$ui.addClass(t.dom.details,"details"),t.dom.appendChild(t.dom.details),t.dom.titleArea=document.createElement("div"),$ui.addClass(t.dom.titleArea,"title"),t.dom.titleArea.textContent=t.title,t.dom.details.appendChild(t.dom.titleArea),t.style===$ui.PhoneLogListItem.MISSED&&$ui.addClass(t.dom.titleArea,"theme-brand-text-color"),t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption theme-brand-text-color"),t.dom.details.appendChild(t.dom.captionDiv),t.caption?t.dom.captionDiv.textContent=t.caption:$ui.addClass(t.dom,"no-caption"),t.dom.ontouchstart=function(){$ui.removeClass(this,"theme-screen-background-color"),$ui.addClass(this,"theme-brand-background-color")},t.dom.ontouchend=function(){$ui.removeClass(this,"theme-brand-background-color"),$ui.addClass(this,"theme-screen-background-color")},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.addEventListener("click",function(){if(void 0!=this.model.parent.onaction){var t=new $ui_ListEvent(this.model,$ui.PhoneLogListItem.PhoneLogListEvent.ONCLICK);this.model.parent._onaction(this.model,t)}},!1),t.dom}function $ui_PostListItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-post-list-item theme-post-control"),t.dom.user=document.createElement("div"),$ui.addClass(t.dom.user,"user-details"),t.dom.appendChild(t.dom.user),t.dom.userName=document.createElement("div"),$ui.addClass(t.dom.userName,"caption"),t.dom.user.appendChild(t.dom.userName),t.dom.avatar=document.createElement("div"),$ui.addClass(t.dom.avatar,"avatar"),t.dom.user.appendChild(t.dom.avatar),t.dom.postTime=document.createElement("div"),$ui.addClass(t.dom.postTime,"time"),t.dom.user.appendChild(t.dom.postTime),t.dom.picture=document.createElement("img"),$ui.addClass(t.dom.picture,"picture"),t.dom.appendChild(t.dom.picture),t.dom.picture.onload=function(){this.style.opacity=1},t.dom.titleDiv=document.createElement("div"),$ui.addClass(t.dom.titleDiv,"title"),t.dom.appendChild(t.dom.titleDiv),t.dom.contentDiv=document.createElement("div"),$ui.addClass(t.dom.titleDiv,"content"),t.dom.appendChild(t.dom.contentDiv),t.dom.line=document.createElement("div"),$ui.addClass(t.dom.line,"line theme-brand-background-color"),t.dom.appendChild(t.dom.line),t.dom.buttons=document.createElement("div"),$ui.addClass(t.dom.buttons,"buttons"),t.dom.appendChild(t.dom.buttons),t.dom.like=document.createElement("div"),$ui.addClass(t.dom.like,"button like"),t.dom.buttons.appendChild(t.dom.like),t.dom.comment=document.createElement("div"),$ui.addClass(t.dom.comment,"button comment"),t.dom.buttons.appendChild(t.dom.comment),void 0!=t.img&&(t.dom.picture.src=t.img),t._protected.img=t.img,Object.defineProperty(t,"img",{get:function(){return this._protected.img},set:function(t){t!=this._protected.img&&(this.dom.picture.style.opacity=0,void 0!=t&&(this.dom.picture.src=t),this._protected.img=t)},configurable:!1}),void 0!=t.avatar&&(t.dom.avatar.style.backgroundImage='url("'+t.avatar+'")'),t._protected.avatar=t.avatar,Object.defineProperty(t,"avatar",{get:function(){return this._protected.avatar},set:function(t){t!=this._protected.avatar&&(this.dom.avatar.style.backgroundImage=void 0==t?"":'url("'+t+'")',this._protected.avatar=t)},configurable:!1}),void 0!=t.time&&(t.dom.postTime.textContent=$ui.calculateTimeInPast(new Date,t.time)),t._protected.time=t.time,Object.defineProperty(t,"time",{get:function(){return this._protected.time},set:function(t){t!=this._protected.time&&(this.dom.postTime.textContent=void 0==t?"?":$ui.calculateTimeInPast(new Date,t),this._protected.user=t)},configurable:!1}),void 0!=t.user&&(t.dom.userName.textContent=t.user),t._protected.user=t.user,Object.defineProperty(t,"user",{get:function(){return this._protected.user},set:function(t){t!=this._protected.user&&(this.dom.userName.textContent=void 0==t?"":t,this._protected.user=t)},configurable:!1}),void 0!=t.numLikes&&(t.dom.like.textContent=t.numLikes),t._protected.numLikes=t.numLikes,Object.defineProperty(t,"numLikes",{get:function(){return this._protected.numLikes},set:function(t){t!=this._protected.numLikes&&(this.dom.like.textContent=void 0==t?"":t,this._protected.numLikes=t)},configurable:!1}),void 0!=t.numLikes&&(t.dom.comment.textContent=t.numComments),t._protected.numComments=t.numComments,Object.defineProperty(t,"numComments",{get:function(){return this._protected.numComments},set:function(t){t!=this._protected.numComments&&(this.dom.comment.textContent=void 0==t?"":t,this._protected.numComments=t)},configurable:!1}),void 0!=t.title&&(t.dom.titleDiv.style.display="block",t.dom.titleDiv.textContent=t.title),t._protected.title=t.title,Object.defineProperty(t,"title",{get:function(){return this._protected.title},set:function(t){t!=this._protected.title&&(this._protected.title=t,void 0==t||""==t?this.dom.titleDiv.style.display="none":(this.dom.titleDiv.style.display="block",this.dom.titleDiv.textContent=t))
},configurable:!1}),void 0!=t.caption&&(t.dom.contentDiv.textContent=t.caption),t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){t!=this._protected.caption&&(this._protected.caption=t,this.dom.contentDiv.textContent=void 0==t||""==t?"":t)},configurable:!1}),t.dom}function $ui_RawContent(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-raw-content"),t._protected.xhr=new XMLHttpRequest,t._protected.xhr.model=t,t._protected.xhr.onreadystatechange=function(){4==this.readyState&&(200==this.status?this.model.dom.innerHTML=this.responseText:0!=this.status&&console.log("ERROR: XHR returned status code: "+this.status))},t.src&&(t._protected.xhr.open("GET",t.src,!0),t._protected.xhr.send()),t._protected.src=t.src,Object.defineProperty(t,"src",{get:function(){return this._protected.src},set:function(t){t!=this._protected.src&&(this._protected.src=t,this._protected.xhr.open("GET",t,!0),this._protected.xhr.send())},configurable:!1}),t.dom}function $ui_ResponsiveLayout(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-responsive-layout"),t.dom.inner=document.createElement("div"),$ui.addClass(t.dom.inner,"inner"),t.dom.appendChild(t.dom.inner),void 0==t.content&&(t.content=[]),t._protected.content=t.content,Object.defineProperty(t,"content",{get:function(){return this._protected.content},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","content"))},configurable:!1}),t.content){var i,o,n;for(i=0;t.content.length>i;i++)o=t.content[i],n=$ui.createControl(o,t.screen),n&&t.dom.inner.appendChild(n)}return t.dom}function $ui_Suspension(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-suspension theme-border-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.dom.tank=document.createElement("div"),$ui.addClass(t.dom.tank,"tank theme-text-color"),t.dom.appendChild(t.dom.tank),t.dom.tank.label=document.createElement("div"),$ui.addClass(t.dom.tank.label,"label"),t.dom.tank.label.textContent="TANK",t.dom.tank.appendChild(t.dom.tank.label),t.dom.tank.pressure=document.createElement("div"),$ui.addClass(t.dom.tank.pressure,"pressure"),t.dom.tank.appendChild(t.dom.tank.pressure),t.dom.tank.psiLabel=document.createElement("div"),$ui.addClass(t.dom.tank.psiLabel,"psi"),t.dom.tank.psiLabel.textContent="PSI",t.dom.tank.appendChild(t.dom.tank.psiLabel),t.dom.topLeftGrid=document.createElement("div"),$ui.addClass(t.dom.topLeftGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.topLeftGrid),t.dom.topLeftGrid.style.left="0px",t.dom.topLeftGrid.style.top="0px",t.dom.topLeftGrid.style.borderRightStyle="dashed",t.dom.topLeftGrid.style.borderBottomStyle="dashed",t._protected.leftFrontButton={parent:t,pressure:t.leftFront,onclick:function(){this.parent.onleftfrontclick&&this.parent.onleftfrontclick()}},new $ui_PressureButton(t._protected.leftFrontButton,e),t.dom.leftFront=t._protected.leftFrontButton.dom,$ui.addClass(t.dom.leftFront,"top-left"),t.dom.topLeftGrid.appendChild(t.dom.leftFront),t.dom.topMiddleGrid=document.createElement("div"),$ui.addClass(t.dom.topMiddleGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.topMiddleGrid),t.dom.topMiddleGrid.style.left="33.3%",t.dom.topMiddleGrid.style.top="0px",t.dom.topMiddleGrid.style.borderBottomStyle="dashed",t.dom.topRightGrid=document.createElement("div"),$ui.addClass(t.dom.topRightGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.topRightGrid),t.dom.topRightGrid.style.right="0px",t.dom.topRightGrid.style.top="0px",t.dom.topRightGrid.style.borderBottomStyle="dashed",t.dom.topRightGrid.style.borderLeftStyle="dashed",t._protected.rightFrontButton={pressure:t.rightFront,parent:t,onclick:function(){this.parent.onrightfrontclick&&this.parent.onrightfrontclick()}},new $ui_PressureButton(t._protected.rightFrontButton,e),t.dom.rightFront=t._protected.rightFrontButton.dom,$ui.addClass(t.dom.rightFront,"top-right"),t.dom.topRightGrid.appendChild(t.dom.rightFront),t.dom.middleLeftGrid=document.createElement("div"),$ui.addClass(t.dom.middleLeftGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.middleLeftGrid),t.dom.middleLeftGrid.style.left="0px",t.dom.middleLeftGrid.style.top="33.3%",t.dom.middleLeftGrid.style.borderRightStyle="dashed",t.dom.middleLeftGrid.style.borderBottomStyle="dashed",t.dom.middleMiddleGrid=document.createElement("div"),$ui.addClass(t.dom.middleMiddleGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.middleMiddleGrid),t.dom.middleMiddleGrid.style.left="33.3%",t.dom.middleMiddleGrid.style.top="33.3%",t.dom.middleMiddleGrid.style.borderBottomStyle="dashed",t.dom.middleRightGrid=document.createElement("div"),$ui.addClass(t.dom.middleRightGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.middleRightGrid),t.dom.middleRightGrid.style.right="0px",t.dom.middleRightGrid.style.top="33.3%",t.dom.middleRightGrid.style.borderBottomStyle="dashed",t.dom.middleRightGrid.style.borderLeftStyle="dashed",t.dom.bottomLeftGrid=document.createElement("div"),$ui.addClass(t.dom.bottomLeftGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.bottomLeftGrid),t.dom.bottomLeftGrid.style.left="0px",t.dom.bottomLeftGrid.style.bottom="0px",t.dom.bottomLeftGrid.style.borderRightStyle="dashed",t._protected.leftRearButton={pressure:t.leftRear,parent:t,onclick:function(){this.parent.onleftrearclick&&this.parent.onleftrearclick()}},new $ui_PressureButton(t._protected.leftRearButton,e),t.dom.leftRear=t._protected.leftRearButton.dom,$ui.addClass(t.dom.leftRear,"bottom-left"),t.dom.bottomLeftGrid.appendChild(t.dom.leftRear),t.dom.bottomMiddleGrid=document.createElement("div"),$ui.addClass(t.dom.bottomMiddleGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.bottomMiddleGrid),t.dom.bottomMiddleGrid.style.left="33.3%",t.dom.bottomMiddleGrid.style.bottom="0px",t.dom.bottomRightGrid=document.createElement("div"),$ui.addClass(t.dom.bottomRightGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.bottomRightGrid),t.dom.bottomRightGrid.style.right="0px",t.dom.bottomRightGrid.style.bottom="0px",t.dom.bottomRightGrid.style.borderLeftStyle="dashed",t._protected.rightRearButton={pressure:t.rightRear,parent:t,onclick:function(){this.parent.onrightrearclick&&this.parent.onrightrearclick()}},new $ui_PressureButton(t._protected.rightRearButton,e),t.dom.rightRear=t._protected.rightRearButton.dom,$ui.addClass(t.dom.rightRear,"bottom-right"),t.dom.bottomRightGrid.appendChild(t.dom.rightRear),void 0==t.leftFront&&(t.leftFront=0),t._protected.leftFront=t.leftFront,Object.defineProperty(t,"leftFront",{get:function(){return this._protected.leftFront},set:function(t){void 0==t&&(t=0),t!=this._protected.leftFront&&(this._protected.leftFront=t,this._protected.leftFrontButton.pressure=t)},configurable:!1}),void 0==t.rightFront&&(t.rightFront=0),t._protected.rightFront=t.rightFront,Object.defineProperty(t,"rightFront",{get:function(){return this._protected.rightFront},set:function(t){void 0==t&&(t=0),t!=this._protected.rightFront&&(this._protected.rightFront=t,this._protected.rightFrontButton.pressure=t)},configurable:!1}),void 0==t.rightRear&&(t.rightRear=0),t._protected.rightRear=t.rightRear,Object.defineProperty(t,"rightRear",{get:function(){return this._protected.rightRear},set:function(t){void 0==t&&(t=0),t!=this._protected.rightRear&&(this._protected.rightRear=t,this._protected.rightRearButton.pressure=t)},configurable:!1}),void 0==t.leftRear&&(t.leftRear=0),t._protected.leftRear=t.leftRear,Object.defineProperty(t,"leftRear",{get:function(){return this._protected.leftRear},set:function(t){void 0==t&&(t=0),t!=this._protected.leftRear&&(this._protected.leftRear=t,this._protected.leftRearButton.pressure=t)},configurable:!1}),void 0!=t.img&&(t.dom.style.backgroundImage='url("'+t.img+'")'),t._protected.img=t.img,Object.defineProperty(t,"img",{get:function(){return this._protected.img},set:function(t){t!=this._protected.img&&(this._protected.leftFront=t,this.dom.style.backgroundImage=void 0==t?"":'url("'+t+'")')},configurable:!1}),void 0==t.tank&&(t.tank=0),t.dom.tank.pressure.textContent=t.tank,t._protected.tank=t.tank,Object.defineProperty(t,"tank",{get:function(){return this._protected.tank},set:function(t){void 0==t&&(t=0),t!=this._protected.tank&&(this._protected.tank=t,this.dom.tank.pressure.textContent=t)},configurable:!1}),t.dom}function $ui_PressureButton(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-pressure-button theme-brand-text-color"),t.dom.onclick=function(){$ui.playTouchSound(),this.model.onclick&&this.model.onclick()},t.dom.ontouchstart=function(){$ui.removeClass(this,"theme-brand-text-color"),$ui.addClass(this,"theme-text-color")},t.dom.ontouchend=function(){$ui.removeClass(this,"theme-text-color"),$ui.addClass(this,"theme-brand-text-color")},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.displayDiv=document.createElement("div"),$ui.addClass(t.dom.displayDiv,"pressure"),t.dom.appendChild(t.dom.displayDiv),t.dom.psiLabel=document.createElement("div"),$ui.addClass(t.dom.psiLabel,"psi"),t.dom.appendChild(t.dom.psiLabel),t.dom.psiLabel.textContent="PSI",void 0==t.pressure&&(t.pressure=0),t.dom.displayDiv.textContent=t.pressure,t._protected.pressure=t.pressure,Object.defineProperty(t,"pressure",{get:function(){return this._protected.pressure},set:function(t){void 0==t&&(t=0),t!=this._protected.pressure&&(this._protected.pressure=t,this.dom.displayDiv.textContent=t)},configurable:!1}),t.dom}function $ui_SuspensionListItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-suspension-list-item theme-screen-background-color theme-text-color theme-dark-border-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption theme-text-color"),t.dom.appendChild(t.dom.captionDiv),void 0==t.style&&(t.style="fixed"),$ui.addClass(t.dom,t.style),t._protected.style=t.style,Object.defineProperty(t,"style",{get:function(){return this._protected.style},set:function(t){void 0==t&&(t="fixed"),t!=this._protected.style&&($ui.removeClass(this.dom,this._protected.style),$ui.addClass(this.dom,t),this._protected.style=t)},configurable:!1}),void 0==t.caption&&(t.caption=""),t.dom.captionDiv.textContent=t.caption,t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){void 0==t&&(t=""),t!=this._protected.caption&&(this._protected.caption=t,this.dom.captionDiv.textContent=t)},configurable:!1}),t.dom.ontouchstart=function(){$ui.removeClass(this,"theme-screen-background-color"),$ui.addClass(this,"theme-brand-background-color")},t.dom.ontouchend=function(){$ui.removeClass(this,"theme-brand-background-color"),$ui.addClass(this,"theme-screen-background-color")},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.onclick=function(){if(void 0!=this.model.parent.onaction){var t=new ListEvent(this.model,$ui.GenericListItem.GenericListEvent.ONCLICK);this.model.parent._onaction(this.model,t),$ui.playTouchSound()}},t.dom}function $ui_TileAcceleration(t,e){return $ui_CoreTileGauge.call(this,t,e),$ui.addClass(t.dom,"ui-tile-acceleration"),t._setTitle("Acceleration"),t._setAccent("Average G-Forces"),t._providerUpdate=function(t){void 0!=t?(this.min=t.min,this.max=t.max,this.value=t.value,this._populateData()):(this.min=0,this.max=1,this.value=0),this.showContent(!0)}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),void 0==t.provider&&t._providerUpdate({min:t.min,max:t.max,value:t.value}),t.dom}function $ui_TileBadge(t,e){return t._size=void 0,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-badge"),t.dom.caption=document.createElement("div"),$ui.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t.dom.next=document.createElement("div"),$ui.addClass(t.dom.next,"button"),$ui.addClass(t.dom.next,"next"),t.dom.contentDiv.appendChild(t.dom.next),t.dom.prev=document.createElement("div"),$ui.addClass(t.dom.prev,"button"),$ui.addClass(t.dom.prev,"prev"),t.dom.contentDiv.appendChild(t.dom.prev),t.dom.accent=document.createElement("div"),$ui.addClass(t.dom.accent,"accent"),t.dom.contentDiv.appendChild(t.dom.accent),t._providerUpdate=function(t){if(void 0!=t?(this.img=t.img,this.caption=t.caption,this.accent=t.accent):(this.img=void 0,this.caption=void 0,this.accent=void 0),this.dom.contentDiv.style.backgroundImage='url("'+this.img+'")',this.caption){var e=this.caption.replace(RegExp("<large>","g"),'<span class="tall">');e=e.replace(RegExp("</large>","g"),"</span>"),this.dom.caption.innerHTML=e}this.accent&&(this.dom.accent.textContent=this.accent),this.showContent(!0)}.$bind(t),void 0==t.provider&&t._providerUpdate({img:t.img,caption:t.caption,accent:t.accent}),t.dom}function $ui_TileBraking(t,e){return $ui_CoreTileGauge.call(this,t,e),$ui.addClass(t.dom,"ui-tile-braking"),t._setTitle("Braking"),t._setAccent("Average G-Forces"),t._providerUpdate=function(t){void 0!=t?(this.min=t.min,this.max=t.max,this.value=t.value,this._populateData()):(this.min=0,this.max=1,this.value=0),this.showContent(!0)}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),void 0==t.provider&&t._providerUpdate({min:t.min,max:t.max,value:t.value}),t.dom}function $ui_TileDistance(t,e){return t._size=void 0,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-distance"),t.dom.canvas=document.createElement("canvas"),$ui.addClass(t.dom.canvas,"chart"),t.dom.canvas.height=180,t.dom.contentDiv.appendChild(t.dom.canvas),t.dom.caption=document.createElement("div"),$ui.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t._providerUpdate=function(t){if(this.dom.offsetWidth&&(this.dom.canvas.width=this.dom.offsetWidth-24,this.dom.ctx=this.dom.canvas.getContext("2d"),this.dom.chart=new Chart(this.dom.ctx)),void 0!=this.dom.chart){var e,i=[],o=[],n=!1;for(void 0!=t?(this.data=t.data,this.units=t.units):(this.data=void 0,this.units="miles"),void 0==this.data||this.data&&0==this.data.length?(this.data=[0],n=!0):1==this.data.length&&(this.data=[0,this.data[0]]),this._value=this.data[this.data.length-1],e=0;this.data.length>e;e++)e==this.data.length-1?i.push("Today"):i.push(""),o.push(0);this.dom.caption.innerHTML='<span class="tall distance">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tall">'+this._value+"</span> "+this.units;var s=$ui.hexToRgb($ui.theme.chart.color_GREAT),a={labels:i,datasets:[{fillColor:"rgba("+s.R+","+s.G+","+s.B+",0.2)",strokeColor:"rgba("+s.R+","+s.G+","+s.B+",1)",pointColor:"rgba("+s.R+","+s.G+","+s.B+",1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba("+s.R+","+s.G+","+s.B+",1)",data:this.data},{fillColor:"transparent",strokeColor:"transparent",pointColor:"transparent",pointStrokeColor:"transparent",pointHighlightFill:"transparent",pointHighlightStroke:"transparent",data:o}]};this.dom.chart.Line(a,{scaleShowGridLines:!1,showTooltips:!1,scaleFontColor:window.getComputedStyle(this.dom).color}),this.showContent(!0)}}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),t._onshow=function(){void 0==this.provider&&this._providerUpdate({data:this.data,units:this.units})}.$bind(t),t.dom}function $ui_TileDriftAngle(t,e){return t._size=$ui.TileSize.SQUARE,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-drift-angle"),t.dom.dial=document.createElement("div"),$ui.addClass(t.dom.dial,"dial"),t.dom.contentDiv.appendChild(t.dom.dial),t.dom.dial.img=new Image,t.dom.dial.img.parent=t.dom.dial,t.dom.dial.img.onload=function(){this.parent.style.opacity=1,this.parent.style.backgroundImage='url("'+this.src+'")'},void 0!=t.img&&(t.dom.dial.img.src=t.img),t._protected.img=t.img,Object.defineProperty(t,"img",{get:function(){return this._protected.img},set:function(t){t!=this._protected.img&&(void 0==t&&(t=""),this._protected.img=t,this.dom.dial.style.opacity=0,this.dom.dial.img.src=t)},configurable:!1}),void 0!=t.angle&&(t.dom.dial.style["-webkit-transform"]="rotate("+t.angle+"deg)"),t._protected.angle=t.angle,Object.defineProperty(t,"angle",{get:function(){return this._protected.angle},set:function(t){t!=this._protected.angle&&(void 0==t&&(t=0),this._protected.angle=t,this.dom.dial.style["-webkit-transform"]="rotate("+t+"deg)")},configurable:!1}),t.showContent(!0),t.dom}function $ui_TileDynoChart(t,e){return t._size=$ui.TileSize.WIDE,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-dyno-chart"),t.dom.caption=document.createElement("div"),$ui.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t.dom.rpm=document.createElement("div"),$ui.addClass(t.dom.rpm,"rpm"),t.dom.contentDiv.appendChild(t.dom.rpm),t.dom.howTo=document.createElement("div"),$ui.addClass(t.dom.howTo,"how-to"),t.dom.contentDiv.appendChild(t.dom.howTo),t.dom.howTo.textContent="Start driving below 3000 RPM in 3rd gear, then press START and accelerate to 7000 RPM",t.dom.canvas=document.createElement("canvas"),$ui.addClass(t.dom.canvas,"chart"),t.dom.canvas.height=190,t.dom.canvas.width=490,t.dom.contentDiv.appendChild(t.dom.canvas),t.dom.ctx=t.dom.canvas.getContext("2d"),t.dom.chart=new Chart(t.dom.ctx),void 0==t.horsepower&&(t.horsepower=[]),t._protected.horsepower=t.horsepower,Object.defineProperty(t,"horsepower",{get:function(){return this._protected.horsepower},set:function(t){t!=this._protected.horsepower&&(void 0==t&&(t=[]),this._protected.horsepower=t,this._providerUpdate(this))},configurable:!1}),void 0==t.caption?t.caption="":t.dom.caption.textContent=t.caption,t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){t!=this._protected.caption&&(void 0==t&&(t=""),this._protected.caption=t,this.dom.caption.textContent=t)},configurable:!1}),void 0==t.torque&&(t.torque=[]),t._protected.torque=t.torque,Object.defineProperty(t,"torque",{get:function(){return this._protected.torque},set:function(t){t!=this._protected.torque&&(void 0==t&&(t=[]),this._protected.torque=t,this._providerUpdate(this))},configurable:!1}),t.setRPM=function(t){this.dom.rpm.style.display="block",this.dom.canvas.style.display="none",this.dom.caption.style.display="none",this.dom.howTo.style.display="none",this.dom.rpm.innerHTML="<span>"+t+'</span><span style="font-size: 50px;"> RPM</span>'}.$bind(t),t.reset=function(){this.dom.rpm.style.display="none",this.dom.howTo.style.display="block",this.dom.canvas.style.display="none",this.dom.caption.style.display="none"}.$bind(t),t._providerUpdate=function(t){var e=["3","","","","","3.5","","","","","4","","","","","4.5","","","","","5","","","","","5.5","","","","","6","","","","","6.5","","","","","7"];void 0!=t?(this._protected.horsepower=void 0==t.horsepower?[]:t.horsepower,this._protected.torque=void 0==t.torque?[]:t.torque,this.caption=t.caption):(this.data=void 0,this.labels=void 0),this.dom.rpm.style.display="none",this.dom.canvas.style.display="block",this.dom.caption.style.display="block",this.dom.howTo.style.display="none";var i=$ui.hexToRgb($ui.theme.chart.color_GREAT),o=$ui.hexToRgb($ui.theme.chart.color),n={labels:e,datasets:[{fillColor:"rgba("+o.R+","+o.G+","+o.B+",0.5)",strokeColor:"rgba("+o.R+","+o.G+","+o.B+",1)",data:this.torque},{fillColor:"rgba("+i.R+","+i.G+","+i.B+",0.5)",strokeColor:"rgba("+i.R+","+i.G+","+i.B+",1)",data:this.horsepower}]};this.dom.chart.Line(n,{scaleShowGridLines:!0,showTooltips:!1,scaleFontColor:"#FFFFFF",pointDot:!1})}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),void 0==t.provider&&t._providerUpdate(t),t.showContent(!0),t.dom}function $ui_TileFuel(t,e){return t._size=void 0,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-fuel"),t.dom.canvas=document.createElement("canvas"),$ui.addClass(t.dom.canvas,"chart"),t.dom.canvas.height=180,t.dom.contentDiv.appendChild(t.dom.canvas),t.dom.leftLabels=document.createElement("div"),$ui.addClass(t.dom.leftLabels,"left-labels theme-screen-background-color"),t.dom.contentDiv.appendChild(t.dom.leftLabels),t.dom.topLabel=document.createElement("div"),$ui.addClass(t.dom.topLabel,"label"),$ui.addClass(t.dom.topLabel,"top"),t.dom.topLabel.textContent="F",t.dom.leftLabels.appendChild(t.dom.topLabel),t.dom.middleLabel=document.createElement("div"),$ui.addClass(t.dom.middleLabel,"label"),$ui.addClass(t.dom.middleLabel,"middle"),t.dom.middleLabel.innerHTML="&#189;",t.dom.leftLabels.appendChild(t.dom.middleLabel),t.dom.bottomLabel=document.createElement("div"),$ui.addClass(t.dom.bottomLabel,"label"),$ui.addClass(t.dom.bottomLabel,"bottom"),t.dom.bottomLabel.textContent="E",t.dom.leftLabels.appendChild(t.dom.bottomLabel),t.dom.caption=document.createElement("div"),$ui.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t._providerUpdate=function(t){if(this.dom.offsetWidth&&(this.dom.canvas.width=this.dom.offsetWidth-20,this.dom.ctx=this.dom.canvas.getContext("2d"),this.dom.chart=new Chart(this.dom.ctx)),void 0!=this.dom.chart){var e,i=[],o=[],n=!1;for(void 0!=t?(this.data=t.data,this.value=t.value):(this.data=void 0,this.value=0),void 0==this.value&&(this.value=0),void 0==this.data||this.data&&0==this.data.length?(this.data=[0],n=!0):1==this.data.length&&(this.data=[0,this.data[0]]),e=0;this.data.length>e;e++)e==this.data.length-1?(i.push("Now"),o.push(0)):(i.push(""),o.push(100));this.dom.caption.innerHTML='<span class="tall">$'+this.value+'</span> of <span class="tall fuel">&nbsp;&nbsp;&nbsp;&nbsp;</span>Today';var s=$ui.hexToRgb($ui.theme.chart.color_RANDOM1),a={labels:i,datasets:[{fillColor:"rgba("+s.R+","+s.G+","+s.B+",0.2)",strokeColor:"rgba("+s.R+","+s.G+","+s.B+",1)",pointColor:"rgba("+s.R+","+s.G+","+s.B+",1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba("+s.R+","+s.G+","+s.B+",1)",data:this.data},{fillColor:"transparent",strokeColor:"transparent",pointColor:"transparent",pointStrokeColor:"transparent",pointHighlightFill:"transparent",pointHighlightStroke:"transparent",data:o}]};this.dom.chart.Line(a,{scaleShowGridLines:!1,showTooltips:!1,scaleFontColor:window.getComputedStyle(this.dom).color}),this.showContent(!0)}}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),t._onshow=function(){void 0==this.provider&&this._providerUpdate({data:this.data,value:this.value})}.$bind(t),t.dom}function $ui_TileIdle(t,e){return t._size=void 0,$ui_CoreTileDonutChart.call(this,t,e),$ui.addClass(t.dom,"ui-tile-idle-chart"),t._calculateData=function(){var t;if(void 0!=this.value){var e;switch(0>this.value&&(this.value=0),this.value>100&&(this.value=100),!0){case this.value>=70:e=$ui.theme.chart.color_GREAT;break;case this.value>=50:e=$ui.theme.chart.color_GOOD;break;default:e=$ui.theme.chart.color_OK}t=[{value:this.value,color:e},{value:100-this.value,color:$ui.theme.chart.color}]}return t}.$bind(t),t._providerUpdate=function(t){this.value=void 0!=t?t.value:0;var e=this._calculateData();void 0!=e&&(this._setData(e),this._setCaption('<span class="tall">'+this.value+"%</span> spent moving")),this.showContent(!0)}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),void 0==t.provider&&t._providerUpdate({value:t.value}),t.dom}function $ui_TileIdleDetails(t,e){return t._size=$ui.TileSize.WIDE,void 0==t.animated&&(t.animated=!0),$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-idle-details"),t.dom.caption=document.createElement("div"),$ui.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t.dom.caption.textContent="Time Stuck In Traffic (mins)",t.dom.canvas=document.createElement("canvas"),$ui.addClass(t.dom.canvas,"chart"),t.dom.canvas.height=190,t.dom.contentDiv.appendChild(t.dom.canvas),t._providerUpdate=function(t){if(this.dom.offsetWidth&&(this.dom.canvas.width=this.dom.offsetWidth-10,this.dom.ctx=this.dom.canvas.getContext("2d"),this.dom.chart=new Chart(this.dom.ctx)),void 0!=this.dom.chart){void 0!=t?(this.data=t.data,this.labels=t.labels):(this.data=void 0,this.labels=void 0);var e=$ui.hexToRgb($ui.theme.chart.color_OK),i={labels:this.labels,datasets:[{fillColor:"rgba("+e.R+","+e.G+","+e.B+",0.5)",strokeColor:"rgba("+e.R+","+e.G+","+e.B+",1)",data:this.data}]};this.dom.chart.Bar(i,{scaleShowGridLines:!0,showTooltips:!1,animation:this.animated,scaleFontColor:window.getComputedStyle(this.dom).color}),this.showContent(!0)}}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),t._onshow=function(){void 0==this.provider&&this._providerUpdate({data:this.data,labels:this.labels})}.$bind(t),t.dom}function $ui_TileLateralGs(t,e){return t._size=$ui.TileSize.SQUARE,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-lateral-g"),t.dom.dial=document.createElement("div"),$ui.addClass(t.dom.dial,"dial"),t.dom.contentDiv.appendChild(t.dom.dial),t.dom.vehicle=document.createElement("img"),$ui.addClass(t.dom.vehicle,"vehicle"),t.dom.dial.appendChild(t.dom.vehicle),t.dom.vehicle.onload=function(){this.style.opacity=1},t.dom.circle=document.createElement("div"),$ui.addClass(t.dom.circle,"circle theme-border-color"),t.dom.dial.appendChild(t.dom.circle),t.dom.line=document.createElement("div"),$ui.addClass(t.dom.line,"line theme-brand-text-color theme-brand-border-color"),t.dom.contentDiv.appendChild(t.dom.line),t.dom.line.textContent="150 ft radius",void 0!=t.img&&(t.dom.vehicle.src=t.img),t._protected.img=t.img,Object.defineProperty(t,"img",{get:function(){return this._protected.img},set:function(t){t!=this._protected.img&&(void 0==t&&(t=""),this._protected.img=t,this.dom.vehicle.style.opacity=0,this.dom.vehicle.src=t)},configurable:!1}),void 0!=t.rotation&&(t.dom.dial.style["-webkit-transform"]="rotate("+t.rotation+"deg)"),t._protected.rotation=t.rotation,Object.defineProperty(t,"rotation",{get:function(){return this._protected.rotation},set:function(t){t!=this._protected.rotation&&(void 0==t&&(t=0),this._protected.rotation=t,this.dom.dial.style["-webkit-transform"]="rotate("+t+"deg)")},configurable:!1}),t.showContent(!0),t.dom}function $ui_TileMPG(t,e){return t._size=void 0,$ui_CoreTileDonutChart.call(this,t,e),$ui.addClass(t.dom,"ui-tile-mpg-chart"),t._calculateData=function(){var t;if(void 0!=this.max&&void 0!=this.value){var e,i;switch(0>this.value&&(this.value=0),i=this.value>this.max?100:Math.ceil(100*(this.value/this.max)),!0){case i>90:e=$ui.theme.chart.color_GREAT;break;case i>50:e=$ui.theme.chart.color_GOOD;break;default:e=$ui.theme.chart.color_OK}t=[{value:i,color:e},{value:100-i,color:$ui.theme.chart.color}]}return t}.$bind(t),t._providerUpdate=function(t){void 0!=t?(this.value=t.value,this.max=t.max,this.abbreviation=t.abbreviation):(this.value=0,this.max=0,this.abbreviation="MPG");var e=this._calculateData();void 0!=e&&(this._setData(e),this._setCaption('<span class="tall">'+this.value+"</span> "+this.abbreviation)),this.showContent(!0)}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),void 0==t.provider&&t._providerUpdate({value:t.value,max:t.max,abbreviation:t.abbreviation}),t.dom}function $ui_TileProfile(t,e){return t._size=$ui.TileSize.TALL,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-profile"),t.dom.wedge=document.createElement("div"),$ui.addClass(t.dom.wedge,"wedge theme-profile-wedge-background-color"),t.dom.contentDiv.appendChild(t.dom.wedge),t.dom.vehicle=document.createElement("div"),$ui.addClass(t.dom.vehicle,"vehicle theme-profile-vehicle-background-color"),t.dom.contentDiv.appendChild(t.dom.vehicle),t.dom.vehicle.image=document.createElement("div"),$ui.addClass(t.dom.vehicle.image,"vehicle-image"),t.dom.vehicle.appendChild(t.dom.vehicle.image),t.dom.vehicle.overlay=document.createElement("div"),$ui.addClass(t.dom.vehicle.overlay,"vehicle-overlay"),t.dom.vehicle.image.appendChild(t.dom.vehicle.overlay),t.dom.userName=document.createElement("div"),$ui.addClass(t.dom.userName,"name"),t.dom.vehicle.appendChild(t.dom.userName),t._formatNumber=function(t){if(void 0==t)return 0;var e,i;switch(!0){case t>=1e6:i=(t/1e6).toFixed(1),0==i%1&&(i=Math.floor(i)),e=i+"M";break;case t>=1e4:i=(t/1e3).toFixed(1),0==i%1&&(i=Math.floor(i)),e=i+"K";break;case t>=1e3:e=""+t,e=e.slice(0,1)+","+e.slice(1,e.length);break;case 1e3>t:e=t;break;default:e=t}return e}.$bind(t),t.dom.stats=document.createElement("div"),$ui.addClass(t.dom.stats,"stats theme-profile-stats"),t.dom.contentDiv.appendChild(t.dom.stats),t.dom.score=document.createElement("div"),$ui.addClass(t.dom.score,"box"),t.dom.stats.appendChild(t.dom.score),t.dom.score.label=document.createElement("div"),$ui.addClass(t.dom.score.label,"label theme-profile-label-text-color"),t.dom.score.appendChild(t.dom.score.label),t.dom.score.label.textContent="SCORE",t.dom.score.number=document.createElement("div"),$ui.addClass(t.dom.score.number,"number theme-profile-number-color"),t.dom.score.appendChild(t.dom.score.number),t.dom.friends=document.createElement("div"),$ui.addClass(t.dom.friends,"box"),$ui.addClass(t.dom.friends,"right"),t.dom.stats.appendChild(t.dom.friends),t.dom.friends.label=document.createElement("div"),$ui.addClass(t.dom.friends.label,"label theme-profile-label-text-color"),t.dom.friends.appendChild(t.dom.friends.label),t.dom.friends.label.textContent="FRIENDS",t.dom.friends.number=document.createElement("div"),$ui.addClass(t.dom.friends.number,"number theme-profile-number-color"),t.dom.friends.appendChild(t.dom.friends.number),t.dom.clubs=document.createElement("div"),$ui.addClass(t.dom.clubs,"box"),$ui.addClass(t.dom.clubs,"right"),t.dom.stats.appendChild(t.dom.clubs),t.dom.clubs.label=document.createElement("div"),$ui.addClass(t.dom.clubs.label,"label theme-profile-label-text-color"),t.dom.clubs.appendChild(t.dom.clubs.label),t.dom.clubs.label.textContent="CLUBS",t.dom.clubs.number=document.createElement("div"),$ui.addClass(t.dom.clubs.number,"number theme-profile-number-color"),t.dom.clubs.appendChild(t.dom.clubs.number),t.dom.avatar=document.createElement("div"),$ui.addClass(t.dom.avatar,"avatar theme-profile-avatar"),t.dom.contentDiv.appendChild(t.dom.avatar),t.dom.rankText=document.createElement("div"),$ui.addClass(t.dom.rankText,"rank-text theme-profile-rank-text-color"),t.dom.contentDiv.appendChild(t.dom.rankText),t.dom.rankText.textContent="Ranked",t.dom.rank=document.createElement("div"),$ui.addClass(t.dom.rank,"rank theme-profile-rank"),t.dom.contentDiv.appendChild(t.dom.rank),t.dom.findFriend=document.createElement("div"),$ui.addClass(t.dom.findFriend,"button"),$ui.addClass(t.dom.findFriend,"search"),t.dom.findFriend.textContent="Find a Friend",t.dom.contentDiv.appendChild(t.dom.findFriend),t.dom.findClub=document.createElement("div"),$ui.addClass(t.dom.findClub,"button"),$ui.addClass(t.dom.findClub,"plus"),t.dom.findClub.textContent="Join a Club",t.dom.contentDiv.appendChild(t.dom.findClub),t._providerUpdate=function(t){void 0!=t?(this.backgroundImg=t.backgroundImg,this.avatar=t.avatar,this.userName=t.userName,this.stats=t.stats):(this.backgroundImg=void 0,this.avatar=void 0,this.userName=void 0,this.stats=void 0),this.backgroundImg?(this.loader=new Image,this.loader.model=this,this.loader.onload=function(){this.model.dom.vehicle.image.style.opacity="1.0",this.model.dom.vehicle.image.style.backgroundImage='url("'+this.model.backgroundImg+'")',this.model.loader=null},this.loader.src=this.backgroundImg):this.dom.vehicle.image.style.backgroundImage="",this.dom.userName.textContent=this.userName?this.userName:"",this.stats?(this.dom.score.number.textContent=this._formatNumber(this.stats.score),this.dom.friends.number.textContent=this._formatNumber(this.stats.friends),this.dom.clubs.number.textContent=this._formatNumber(this.stats.clubs),this.dom.rank.textContent=this.stats.rank,this.dom.rank.style.opacity="1.0"):(this.dom.score.number.textContent="0",this.dom.friends.number.textContent="0",this.dom.clubs.number.textContent="0",this.dom.rank.textContent="1",this.dom.rank.style.opacity="1.0"),this.avatar&&(this.dom.avatar.style.backgroundImage='url("'+this.avatar+'")'),this.showContent(!0)
}.$bind(t),void 0==t.provider&&t._providerUpdate({backgroundImg:t.backgroundImg,avatar:t.avatar,userName:t.userName,stats:t.stats}),t.dom}function $ui_TileRecord(t,e){return t._size=void 0,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-record"),t.dom.stage1=document.createElement("div"),$ui.addClass(t.dom.stage1,"stage-1"),t.dom.contentDiv.appendChild(t.dom.stage1),t.dom.recordButton=document.createElement("div"),t.dom.recordButton.model=t,$ui.addClass(t.dom.recordButton,"record-button theme-brand-background-color theme-brand-border-color"),t.dom.stage1.appendChild(t.dom.recordButton),t.dom.recordButton.textContent="Start",t.dom.recordButton.onclick=function(){var t=this.model;return 1==t._protected.recording?(t.reset(),t.onstopclick&&t.onstopclick(),void 0):($ui.playTouchSound(),t.onstartclick&&t.onstartclick(),t.countdown===!0?(t.dom.stage1.style.display="none",t.dom.stage2.style.display="inline",t._countDownNum=3,t._interval=window.setInterval(t._countDownInterval,1e3),t.oncountdown&&t.oncountdown(),void 0):(this.textContent="Stop",this.style.backgroundColor="",$ui.removeClass(this,"theme-brand-background-color"),$ui.addClass(this,"theme-screen-background-color"),t._protected.borderVisible=!0,t._interval=window.setInterval(t._pulseInterval,200),t._protected.recording=!0,t.onrecord&&t.onrecord(),void 0))},t.dom.recordButton.ontouchstart=function(){this.style.opacity="0.7"},t.dom.recordButton.ontouchend=function(){this.style.opacity="1.0"},t.dom.recordButton.ontouchcancel=t.dom.recordButton.ontouchend,$ui.isMobileDevice()||(t.dom.recordButton.onmousedown=t.dom.recordButton.ontouchstart,t.dom.recordButton.onmouseup=t.dom.recordButton.ontouchend,t.dom.recordButton.onmouseleave=t.dom.recordButton.ontouchend),t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption"),t.dom.stage1.appendChild(t.dom.captionDiv),t.caption&&(t.dom.captionDiv.textContent=t.caption),t.dom.stage2=document.createElement("div"),$ui.addClass(t.dom.stage2,"stage-2"),t.dom.contentDiv.appendChild(t.dom.stage2),t.dom.number=document.createElement("div"),$ui.addClass(t.dom.number,"number"),t.dom.stage2.appendChild(t.dom.number),t.dom.number.textContent="3",t._countDownInterval=function(){return this._countDownNum--,0===this._countDownNum?(window.clearInterval(this._interval),this._interval=void 0,this.dom.number.textContent="GO!",$ui.addClass(this.dom.number,"theme-brand-background-color"),$ui.addClass(this.dom.number,"animation"),this._protected.recording=!0,this.onrecord&&this.onrecord(),void 0):(this.dom.number.textContent=this._countDownNum,this.oncountdown&&this.oncountdown(),void 0)}.$bind(t),t._pulseInterval=function(){1==this._protected.borderVisible?$ui.removeClass(this.dom.recordButton,"theme-brand-border-color"):$ui.addClass(this.dom.recordButton,"theme-brand-border-color"),this._protected.borderVisible=!this._protected.borderVisible}.$bind(t),t._providerUpdate=function(){void 0!=this._interval&&(window.clearInterval(this._interval),this._interval=void 0)}.$bind(t),t.reset=function(){this._protected.recording=!1,void 0!=this._interval&&(window.clearInterval(this._interval),this._interval=void 0),this.dom.number.style.backgroundColor="",this.dom.number.textContent="3",$ui.removeClass(this.dom.number,"animation"),this.dom.stage2.style.display="none",this.dom.stage1.style.display="",this.dom.recordButton.textContent="Start",$ui.removeClass(this.dom.recordButton,"theme-screen-background-color"),$ui.addClass(this.dom.recordButton,"theme-brand-background-color"),$ui.addClass(this.dom.recordButton,"theme-brand-border-color")}.$bind(t),t.dom}function $ui_TileTimeDonut(t,e){return t._size=void 0,$ui_CoreTileDonutChart.call(this,t,e),$ui.addClass(t.dom,"ui-tile-time-donut"),1!=t.targetHigh&&(t.targetHigh=!1),t._protected.targetHigh=t.targetHigh,Object.defineProperty(t,"targetHigh",{get:function(){return this._protected.targetHigh},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","targetHigh"))},configurable:!1}),t._calculateData=function(){var t;if(void 0!=this.target&&void 0!=this.value){var e,i;switch(0>this.value&&(this.value=0),i=1==this.targetHigh?this.value>this.target?100:Math.ceil(100*(this.value/this.target)):this.value<this.target?100:Math.ceil(100*(this.target/this.value)),!0){case i>90:e=$ui.theme.chart.color_GREAT;break;case i>50:e=$ui.theme.chart.color_GOOD;break;default:e=$ui.theme.chart.color_OK}t=[{value:i,color:e},{value:100-i,color:$ui.theme.chart.color}]}return t},t._calculateData=t._calculateData.$bind(t),t._providerUpdate=function(t){void 0!=t?(this.value=t.value,this.target=t.target,this.accent=t.accent,this.caption=void 0==t.caption?"":t.caption):(this.value=0,this.target=0,this.accent=void 0,this.caption="");var e=this._calculateData();void 0!=e&&(this._setData(e),this._setCaption('<span class="tall">'+this.value+"</span>&nbsp;"+this.caption),this._setAccent(this.accent)),this.showContent(!0)}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),void 0==t.provider&&t._providerUpdate(t),t.dom}function $ui_TileTimeHistory(t,e){return void 0==t.animated&&(t.animated=!0),t._size=$ui.TileSize.WIDE,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-time-history"),t.dom.caption=document.createElement("div"),$ui.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t.dom.canvas=document.createElement("canvas"),$ui.addClass(t.dom.canvas,"chart"),t.dom.canvas.height=190,t.dom.contentDiv.appendChild(t.dom.canvas),t._providerUpdate=function(t){if(this.dom.offsetWidth&&(this.dom.canvas.width=this.dom.offsetWidth-10,this.dom.ctx=this.dom.canvas.getContext("2d"),this.dom.chart=new Chart(this.dom.ctx)),void 0!=this.dom.chart){void 0!=t?(this.data=t.data,this.labels=t.labels,this.caption=void 0==t.caption?"":t.caption):(this.data=void 0,this.labels=void 0),this.dom.caption.textContent=this.caption;var e=$ui.hexToRgb($ui.theme.chart.color_OK),i={labels:this.labels,datasets:[{fillColor:"rgba("+e.R+","+e.G+","+e.B+",0.5)",strokeColor:"rgba("+e.R+","+e.G+","+e.B+",1)",data:this.data}]};this.dom.chart.Line(i,{scaleShowGridLines:!0,showTooltips:!1,animation:this.animated,scaleFontColor:window.getComputedStyle(this.dom).color}),this.showContent(!0)}}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),t._onshow=function(){void 0==this.provider&&this._providerUpdate(this)},t.dom}function $ui_TileTimer(t,e){return t._size=$ui.TileSize.WIDE,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-timer"),t.dom.numbers=document.createElement("div"),$ui.addClass(t.dom.numbers,"numbers"),t.dom.contentDiv.appendChild(t.dom.numbers),t.dom.numbers.textContent="00:00:00",t._doInterval=function(){var e=new Date;this._milliseconds=e-this._startTime;var i,o=Math.floor(this._milliseconds/6e4),n=Math.floor(this._milliseconds/1e3)%60;i=(this._milliseconds/1e3).toFixed(2)-Math.floor(this._milliseconds/1e3),i=Math.floor(100*i),i=i>=100?0:i,o=o>=10?o:"0"+o,n=n>=10?n:"0"+n,i=i>=10?i:"0"+i,t.dom.numbers.textContent=o+":"+n+":"+i}.$bind(t),t.reset=function(){void 0!=this._interval&&(window.clearInterval(this._interval),this._milliseconds=0,this._interval=void 0),this.dom.numbers.textContent="00:00:00",this.onreset&&this.onreset()}.$bind(t),t.start=function(){void 0==this._interval&&(this._startTime=new Date,this._milliseconds=0,this._interval=window.setInterval(this._doInterval,10),this.onstart&&this.onstart())}.$bind(t),t.stop=function(){void 0!=this._interval&&(window.clearInterval(this._interval),this._doInterval(),this._interval=void 0,this.onstop&&this.onstop())}.$bind(t),t.getMilliseconds=function(){return this._milliseconds}.$bind(t),t.getSeconds=function(){return(this._milliseconds/1e3).toFixed(2)}.$bind(t),t.getMinutes=function(){return(this._milliseconds/6e4).toFixed(2)}.$bind(t),t._destroy=function(){void 0!=this._interval&&(window.clearInterval(this._interval),this._interval=void 0)}.$bind(t),t._onbeforepop=function(){this.stop()}.$bind(t),t.dom}function FastClick(t,e){"use strict";function i(t,e){return function(){return t.apply(e,arguments)}}var o;e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,FastClick.notNeeded(t)||(deviceIsAndroid&&(t.addEventListener("mouseover",i(this.onMouse,this),!0),t.addEventListener("mousedown",i(this.onMouse,this),!0),t.addEventListener("mouseup",i(this.onMouse,this),!0)),t.addEventListener("click",i(this.onClick,this),!0),t.addEventListener("touchstart",i(this.onTouchStart,this),!1),t.addEventListener("touchmove",i(this.onTouchMove,this),!1),t.addEventListener("touchend",i(this.onTouchEnd,this),!1),t.addEventListener("touchcancel",i(this.onTouchCancel,this),!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,o){var n=Node.prototype.removeEventListener;"click"===e?n.call(t,e,i.hijacked||i,o):n.call(t,e,i,o)},t.addEventListener=function(e,i,o){var n=Node.prototype.addEventListener;"click"===e?n.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),o):n.call(t,e,i,o)}),"function"==typeof t.onclick&&(o=t.onclick,t.addEventListener("click",function(t){o(t)},!1),t.onclick=null))}function $ui_CoreComponent(t,e){try{if(t){if(this.object=t,t._protected={model:t},t.dom=document.createElement("div"),t.dom.model=t,$ui.addClass(t.dom,"ui-core-component"),t.id&&t.dom.setAttribute("data-id",t.id),t._protected.component=t.component,Object.defineProperty(t,"component",{get:function(){return this._protected.component},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","component"))},configurable:!1}),void 0!=e&&(t.screen=e,e.children.push(t),t.id)){if(void 0!=e[t.id]){var i='WARNING: You have used a non-unique id: "'+t.id+'"';void 0!=e.id&&(i=i+' on screen "'+e.id+'"'),console.log(i)}e[t.id]=t}if(t._protected.screen=t.screen,Object.defineProperty(t,"screen",{get:function(){return this._protected.screen},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","screen"))},configurable:!1}),t._protected.id=t.id,Object.defineProperty(t,"id",{get:function(){return this._protected.id},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","id"))},configurable:!1}),0!=t.enabled?t.enabled=!0:$ui.addClass(t.dom,"disabled"),t._protected.enabled=t.enabled,Object.defineProperty(t,"enabled",{get:function(){return this._protected.enabled},set:function(t){t!=this._protected.enabled&&(this._protected.enabled&&0==t?(this._protected.enabled=!1,$ui.addClass(this.dom,"disabled")):0==this._protected.enabled&&1==t&&(this._protected.enabled=!0,$ui.removeClass(this.dom,"disabled")),this._setEnabled&&this._setEnabled(t))},configurable:!1}),1==t.animated?$ui.addClass(t.dom,"animated"):t.animated=!1,t._protected.animated=t.animated,Object.defineProperty(t,"animated",{get:function(){return this._protected.animated},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","animated"))},configurable:!1}),void 0!=t.visible&&0==t.visible?t.dom.style.display="none":t.visible=!0,t._protected.visible=t.visible,Object.defineProperty(t,"visible",{get:function(){return this._protected.visible},set:function(t){t!=this._protected.visible&&(1==t?(this._protected.visible=!0,void 0!=this.dom&&(this.dom.style.display="")):(this._protected.visible=!1,void 0!=this.dom&&(this.dom.style.display="none")),this._setVisible&&this._setVisible(t))},configurable:!1}),t.attachedObjects){var o,n,s,a,r,d=void 0!=t.screen?t.screen:t;for(o=0;t.attachedObjects.length>o;o++){if(s=t.attachedObjects[o],void 0==s)throw'CoreComponent.attachedObject: "control" is not defined';if(void 0==d)throw'CoreComponent.attachedObject: "screen" is not defined';for(n=0;$ui._protected.definitions.length>n;n++)if(a=$ui._protected.definitions[n],a.type==$ui.UIExtensionType.ATTACHED_OBJECT&&a.component==s.component){r=new a.constructor(s,t,d);break}r instanceof HTMLElement&&t.dom.appendChild(r)}}else t.attachedObjects=[];t._protected.attachedObjects=t.attachedObjects,Object.defineProperty(t,"attachedObjects",{get:function(){return this._protected.attachedObjects},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","attachedObjects"))},configurable:!1}),t._raiseInteractionEvent=function(t){var e=new InteractionEvent(this.screen.id,this.id,t,this.component);$ui._raiseInteractionEvent(e)}.$bind(t),t._scrollIntoView=function(){var t=20,e=this.dom.getBoundingClientRect(),i=this.dom.parentNode;return this._scrollIterationCounter=this._scrollIterationCounter+1,e.top==i.offsetTop||e.bottom<i.offsetTop+i.offsetHeight&&e.top>i.offsetTop?void 0:(e.top>i.offsetTop?(t>e.top-i.offsetTop&&(t=1),i.scrollTop=i.scrollTop+t):(t>i.offsetTop-e.top&&(t=1),i.scrollTop=i.scrollTop-t),this._scrollIterationCounter>100?(console.log("fail safe scroll counter exceeded"),void 0):(requestAnimationFrame(this._scrollIntoView),void 0))}.$bind(t),t.scrollIntoView=function(){this.dom&&(this._scrollIterationCounter=0,requestAnimationFrame(this._scrollIntoView))}.$bind(t),t.destroy=function(){t._destroy&&t._destroy(),void 0!=this.provider&&void 0!=this.provider.id&&window.removeEventListener(this.screen.guid+"-"+this.provider.id+"-updated",this._providerRefresh,!1),void 0!=this.id&&this.id.length>0&&(this.screen[this.id]=void 0);var e,i;if(this.attachedObjects&&this.attachedObjects.length>0)for(e=0;this.attachedObjects.length>e;e++)i=this.attachedObjects[e],i._destroy&&i._destroy();this.dom=void 0}.$bind(t),t._providerRefresh=function(){var t=this.screen[this.provider.id];if(void 0!=t)if(void 0!=t.data){var e,i=this.provider.property.split("."),o=t.data,n=!0;for(e=0;i.length>e;e++)if(o=o[i[e]],void 0==o){n=!1;break}if(n)return this._providerUpdate&&this._providerUpdate(o),void 0;this._providerUpdate&&this._providerUpdate(void 0)}else this._providerUpdate&&this._providerUpdate(void 0)}.$bind(t),t._remove=function(){if(this._onremove&&this._onremove(),this.dom&&this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.screen){var t=this.screen.children.indexOf(this);t>=0&&this.screen.children.splice(t,1)}this.destroy()}.$bind(t),t._updateData=function(t){var e=void 0==this.provider?void 0:this.screen[this.provider.id];if(void 0!=e&&(e._propertyUpdated(this.provider.property,t),void 0!=e.data)){var i,o,n=this.provider.property.split("."),s=e.data;for(i=0;n.length>i&&(o=s[n[i]],!(void 0==o&&n.length-1>i));i++){if(i==n.length-1){s[n[i]]=t;break}s=o}}}.$bind(t),void 0!=t.provider&&void 0!=t.provider.id&&(window.addEventListener(t.screen.guid+"-"+t.provider.id+"-updated",t._providerRefresh,!1),t._providerRefresh()),t._protected.provider=t.provider,Object.defineProperty(t,"provider",{get:function(){return this._protected.provider},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","provider"))},configurable:!1})}}catch(l){console.log("RPW error in core component: "+l)}}function $ui_CoreContainerComponent(t,e){return $ui_CoreComponent.call(this,t,e),t?(void 0==t.modified&&(t.modified=!1),t._protected.modified=t.modified,Object.defineProperty(t,"modified",{get:function(){return this._protected.modified},set:function(t){if(void 0==t&&(t=!1),this._protected.modified=t,void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;if(0==t){var e,i,o=this._getControlListProperty();for(e=0;o.length>e;e++)i=o[e],i.modified=t}this._onmodified&&this._onmodified()},configurable:!1}),t.validate=function(){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),!1;var t,e,i=this._getControlListProperty(),o=!0;for(t=0;i.length>t;t++)e=i[t],e.validate&&0==e.validate()&&(o=!1);return this._onvalidate&&this._onvalidate(o),o}.$bind(t),t._cascadeVisibility=function(){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var t,e,i=this._getControlListProperty();for(t=0;i.length>t;t++)e=i[t],e._cascadeVisibility?e._cascadeVisibility():e._onshow&&e._onshow();this._oncascadevisibility&&this._oncascadevisibility()}.$bind(t),t._addComponent=function(t){if(void 0!=t){if(void 0==this._getControlListDom)return console.log("ERROR: _getControlListDom not defined for CoreContainerComponent"),void 0;var e=this._getControlListDom();if(void 0==e)return console.log("ERROR: _getControlListDom did not return a valid DOM element"),void 0;void 0!=this.modified&&(t.modified=this.modified),$ui.createControl(t,this.screen),t.dom&&e.appendChild(t.dom)}}.$bind(t),t.addComponent=function(t){if(void 0!=t){if(this._addComponent(t),void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var e=this._getControlListProperty();if(void 0==e)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;e.push(t),t._onshow&&t._onshow(),void 0!=t.provider&&t._providerRefresh()}}.$bind(t),t.insertComponentBefore=function(t,e){if(void 0!=t&&void 0!=e){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var i=this._getControlListProperty();if(void 0==i)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;if(void 0==this._getControlListDom)return console.log("ERROR: _getControlListDom not defined for CoreContainerComponent"),void 0;var o=this._getControlListDom();if(void 0==o)return console.log("ERROR: _getControlListDom did not return a valid DOM element"),void 0;var n,s;for(n=0;i.length>n;n++)if(s=i[n],s==e&&s.dom&&s.dom.parentNode){void 0!=this.modified&&(t.modified=this.modified),$ui.createControl(t,this.screen),t.dom&&(s.dom.parentNode.insertBefore(t.dom,s.dom),i.splice(n,0,t),t._onshow&&t._onshow(),void 0!=t.provider&&t._providerRefresh());break}}}.$bind(t),t.removeComponent=function(t){if(void 0!=t){if(void 0==this._getControlListDom)return console.log("ERROR: _getControlListDom not defined for CoreContainerComponent"),void 0;if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var e=this._getControlListDom();if(void 0==e)return console.log("ERROR: _getControlListDom did not return a valid DOM element"),void 0;var i=this._getControlListProperty();if(void 0==i)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;var o,n;for(o=0;i.length>o;o++)if(n=i[o],n==t){i.splice(o,1),n.clearComponents&&n.clearComponents(),n._remove();break}}}.$bind(t),t.clearComponents=function(){if(void 0==this._getControlListProperty)return console.log("ERROR: _getControlListProperty not defined for CoreContainerComponent"),void 0;var t=this._getControlListProperty();if(void 0==t)return console.log("ERROR: _getControlListProperty did not return a valid object"),void 0;for(var e=t.length-1;e>=0;e--)this.removeComponent(t[e])}.$bind(t),t.dom):void 0}function $ui_CoreScreen(t,e){return $ui_CoreContainerComponent.call(this,t),t?(t.data=e,t._protected.screen=t,t.guid=$ui.guid(),t._protected.guid=t.guid,Object.defineProperty(t,"guid",{get:function(){return this._protected.guid},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","guid"))},configurable:!1}),1!=t.floatOnTop&&(t.floatOnTop=!1),t._protected.floatOnTop=t.floatOnTop,Object.defineProperty(t,"floatOnTop",{get:function(){return this._protected.floatOnTop},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","floatOnTop"))},configurable:!1}),t.children=[],$ui.addClass(t.dom,"ui-core-screen"),t.checkReadyState=function(t,e){return void 0==t?(console.log("ERROR: Cannot pass an undefined readyCallback to CoreScreen.checkReadyState()"),void 0):(this.oncheckreadystate?this.oncheckreadystate(t,e):t(),void 0)}.$bind(t),t.initialize=function(){this.dom.style["z-index"]=$ui.screens.length+1,$ui._protected.inScreenTransition=!1,$ui._blockAllTapEvent(!1),this._initialize&&this._initialize(),this.onshow&&this.onshow(this.data);var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onshow&&e._onshow();this._raiseInteractionEvent("data-interaction-screen-initialized")}.$bind(t),t._onthemechange=function(){this.onthemechange&&this.onthemechange();var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onthemechange&&e._onthemechange()}.$bind(t),t._onresize=function(){var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onresize&&e._onresize()}.$bind(t),t.onbeforepop=function(){this._onbeforepop&&this._onbeforepop();var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onbeforepop&&e._onbeforepop()}.$bind(t),t._destroy=function(){this.ondestroy&&this.ondestroy();var t;for(t=0;this.children.length>t;t++)this.children[t].destroy()}.$bind(t),t.dom):void 0}function $ui_DataProvider(t,e,i){return t._protected={model:t,updates:[]},t.id&&i&&(i[t.id]=t),t._protected.component=t.component,Object.defineProperty(t,"component",{get:function(){return this._protected.component},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","component"))},configurable:!1}),t.screen=i,t._protected.screen=t.screen,Object.defineProperty(t,"screen",{get:function(){return this._protected.screen},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","screen"))},configurable:!1}),t._protected.data=t.data,Object.defineProperty(t,"data",{get:function(){return this._protected.data},set:function(t){this._protected.data=t,this._protected.updates=[],this.onbeforeupdate&&this.onbeforeupdate(),this._raiseEvent(),void 0!=t&&this.onload&&this.onload()},configurable:!1}),t.clear=function(){var e=t.data,i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=void 0);t.data=i},t.fetch=function(e,i){void 0!=$ui.options.globalDataProvider&&$ui.options.globalDataProvider._getData.call(this.screen,this,function(e){i&&(e=i(e)),t.data=e},e)}.$bind(t),t.refresh=function(){this._raiseEvent()}.$bind(t),t.getUpdatedFields=function(){var t,e=[];for(t=0;this._protected.updates.length>t;t++)e.push(this._protected.updates[t]);return e}.$bind(t),t._propertyUpdated=function(t,e){var i,o,n=!1,s={property:t,value:e};for(i=0;this._protected.updates.length>i;i++)if(o=this._protected.updates[i],o.property==t){this._protected.updates[i]=s,n=!0;break}0==n&&this._protected.updates.push(s)}.$bind(t),t._raiseEvent=function(){var t=document.createEvent("Events");t.initEvent(this.screen.guid+"-"+this.id+"-updated",!0,!0),window.dispatchEvent(t)}.$bind(t),t._destroy=function(){this._protected.data=void 0}.$bind(t),void 0!=t.data&&(t.onbeforeupdate&&t.onbeforeupdate(),t.onload&&t.onload()),void 0}function InteractionEvent(t,e,i,o){this.screenId=t,this.controlId=e,this.interaction=i,this.component=o}function $ui_List(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-list"),void 0==t.items&&(t.items=[]),t._protected.items=t.items,Object.defineProperty(t,"items",{get:function(){return this._protected.items},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","items"))},configurable:!1}),t._onaction=function(t,e){this.onaction&&this.onaction(e)}.$bind(t),t._createItemDom=function(t){var e;return t.component&&t.component==$ui.Header?e=$ui.createControl(t,this.screen):void 0!=this._itemConstructor&&(e=new this._itemConstructor(t,this.screen)),e}.$bind(t),t._addItem=function(t){return t.parent=this,itemDom=this._createItemDom(t),itemDom?(this.dom.appendChild(itemDom),t._onafterinsert&&t._onafterinsert(),!0):!1}.$bind(t),t.addItem=function(t){return this._addItem(t)?(this.items.push(t),this.onitemschanged&&this.onitemschanged(),t._onshow&&t._onshow(),!0):!1}.$bind(t),t.removeItem=function(t){if(void 0==t)return!1;var e=this.items.indexOf(t);if(0>e)return!1;try{this.dom.removeChild(t.dom)}catch(i){console.log("$ui.List: "+i)}this.items.splice(e,1),t.destroy(),this.onitemschanged&&this.onitemschanged()}.$bind(t),t.insertItem=function(t,e){if(t.parent=this,0>e)return!1;if(0==this.items.length)return this.addItem(t),!0;if(e>this.items.length-1)return this.addItem(t),!0;var i=this.items[e],o=this._createItemDom(t);return this.items.splice(e,0,t),this.dom.insertBefore(o,i.dom),this.onitemschanged&&this.onitemschanged(),t._onshow&&t._onshow(),!0}.$bind(t),t.refreshItems=function(t){var e,i;if(this.items)for(e=this.items.length-1;e>=0;e--){i=this.items[e];try{this.dom.removeChild(i.dom)}catch(o){console.log("$ui.List: "+o)}this.items.pop(),i.destroy()}void 0!=t&&(this.addItemBatch(t),this.onitemschanged&&this.onitemschanged())}.$bind(t),t.addItemBatch=function(t){var e,i;for(e=0;t.length>e;e++)i=t[e],this.addItem(i)}.$bind(t),t.filter=function(t){if(void 0!=t&&null!=t){var e,i,o,n,s,a=!0;for(e=0;this.items.length>e;e++){for(n=this.items[e],a=!0,i=0;t.length>i;i++)if(o=t[i],void 0!=n[o.name]&&(s=RegExp(o.expression,"gi"),0==s.test(n[o.name]))){a=!1;break}n.visible=a}}}.$bind(t),t.filterReset=function(){var t;for(t=0;this.items.length>t;t++)this.items[t].visible=!0}.$bind(t),t._providerUpdate=function(t){this.refreshItems(t)}.$bind(t);var i,o;for(i=0;$ui._protected.definitions.length>i;i++)if(o=$ui._protected.definitions[i],o.type==$ui.UIExtensionType.LISTITEM&&o.component==t.style){t._itemConstructor=o.constructor;break}var n;if(t.items){for(i=0;t.items.length>i;i++)n=t.items[i],t._addItem(n);t.onitemschanged&&t.onitemschanged()}return t._onshow=function(){var t,e;for(t=0;this.items.length>t;t++)e=this.items[t],e._onshow&&e._onshow()}.$bind(t),t.dom}function ListEvent(t,e,i){this.target=t,this.eventType=e,this.data=i}function $ui_Spinner(t,e){return $ui_CoreComponent.call(this,t,e),t.size=t.size?t.size:$ui.Size.NORMAL,t._protected.size=t.size,Object.defineProperty(t,"size",{get:function(){return this._protected.size},set:function(t){this._protected.size!=t&&($ui.removeClass(this.dom,this._protected.size),this._protected.size=t,$ui.addClass(this.dom,t))},configurable:!1}),$ui.addClass(t.dom,"ui-spinner"),$ui.addClass(t.dom,t.size),$ui.addClass(t.dom,"center"),t.dom.innerDiv=document.createElement("div"),$ui.addClass(t.dom.innerDiv,"inner"),t.dom.appendChild(t.dom.innerDiv),t._protected.forceColor=t.forceColor,t.forceColor?$ui.addClass(t.dom.innerDiv,t.forceColor):$ui.theme.rootClass&&$ui.theme.rootClass.indexOf("ui-theme-dark")>-1?$ui.addClass(t.dom.innerDiv,"light"):$ui.addClass(t.dom.innerDiv,"dark"),Object.defineProperty(t,"forceColor",{get:function(){return this._protected.forceColor},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","forceColor"))},configurable:!1}),t.dom}function UIExtension(t,e,i,o){if(null==t)throw Error("UIExtension: name cannot be null");if(void 0==t)throw Error("UIExtension: name cannot be undefined");if(this.name=t,null==e)throw Error("UIExtension: constructor cannot be null");if(void 0==e)throw Error("UIExtension: constructor cannot be undefined");if(this.constructor=e,null==i||void 0==i)this.type=$ui.UIExtensionType.CONTROL;else{if(i!=$ui.UIExtensionType.CONTROL&&i!=$ui.UIExtensionType.SCREEN&&i!=$ui.UIExtensionType.LISTITEM&&i!=$ui.UIExtensionType.ATTACHED_OBJECT)throw Error("UIExtension: type is an invalid value");this.type=i}this.definition=null==o||void 0==o?{}:o}function $ui_Button(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-button theme-brand-background-color theme-highlight-text-color theme-border-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),void 0==t.caption&&(t.caption=""),t.dom.textContent=t.caption,t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){void 0==t&&(t=""),t!=this._protected.caption&&(this._protected.caption=t,this.dom.textContent=t)},configurable:!1}),t.dom.ontouchstart=function(){this.style.opacity=.7},t.dom.ontouchend=function(){this.style.opacity=1},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.onclick=function(){$ui.playTouchSound(),this.model.onclick&&this.model.onclick()},t.dom}function $ui_CircleMenu(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-circle-menu"),t._protected.indicators=[],t.dom.inner=document.createElement("div"),$ui.addClass(t.dom.inner,"inner"),t.dom.appendChild(t.dom.inner),t.dom.indicatorContainer=document.createElement("div"),$ui.addClass(t.dom.indicatorContainer,"indicator-container"),t.dom.appendChild(t.dom.indicatorContainer),void 0==t.items&&(t.items=[]),t._protected.items=t.items,Object.defineProperty(t,"items",{get:function(){return this._protected.items},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","items"))},configurable:!1}),t._recalculateLayout=function(){if(0!==this.items.length){var t,e,i,o,n=[],s=this.dom.offsetHeight,a=this.dom.offsetWidth,r=[];for(t=0;this.items.length>t;t++)i=this.items[t],1==i.visible&&n.push(i);var d,l=n.length,c=Math.ceil(l/6),h=n[0].getSize();for(t=0;this._protected.indicators.length>t;t++)d=this._protected.indicators[t],d.parentNode.removeChild(d);if(this._protected.indicators=[],c>1){for(this.dom.indicatorContainer.style.display="block",this.dom.inner.style.cursor="pointer",this._protected.hammer=new Hammer(this.dom.inner),this._protected.hammer.on("pan",this._onpan),this._protected.hammer.on("panend",this._onpanend),this._protected.hammer.on("pancancel",this._onpanend),this._protected.hammer.on("swipeleft",this._onswipeleft),this._protected.hammer.on("swiperight",this._onswiperight),t=0;c>t;t++)d=document.createElement("div"),d._index=t,$ui.addClass(d,"indicator"),this.dom.indicatorContainer.appendChild(d),this._protected.indicators.push(d),d.inner=document.createElement("div"),$ui.addClass(d.inner,"inner theme-circle-menu-indicator"),0==t&&$ui.addClass(d.inner,"theme-circle-menu-indicator-selected"),d.appendChild(d.inner);this._protected.selectedIndicator=this._protected.indicators[0],this.dom.indicatorContainer.style.width=40*c+"px",this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(0px,0px,0px)"}else this.dom.indicatorContainer.style.display="none",this.dom.inner.style.cursor="default",this._protected.hammer=void 0,this._protected.selectedIndicator=void 0;if(this.dom.inner.style.width=100*c+"%",$system&&$system.isClientDevice){var o,u=0,m=0,p=l>6?6:l,f=Math.floor(a/2),v=Math.floor(f/2-h/2),g=Math.floor(s/3),b=Math.floor(g/2-h/2);for(t=0;p>t;t++)o={X:m*f+v,Y:u*g+b},r.push(o),m++,m>1&&(u++,m=0)}else switch(!0){case 3>=l:var C=2===l?Math.floor(h/2):0,f=Math.floor((a-2*C)/l),v=Math.floor(f/2-h/2);for(e=Math.floor(s/2-h/2),t=0;l>t;t++)o={X:t*f+C+v,Y:e},r.push(o);break;case 6>=l:var f=Math.floor(a/3),v=Math.floor(f/2-h/2),u=Math.floor(s/2),b=Math.floor(u/2-h/2);for(t=0;3>t;t++)o={X:t*f+v,Y:b},r.push(o);var C=2===l-3?Math.floor(h/2):0;for(f=Math.floor((a-2*C)/(l-3)),v=Math.floor(f/2-h/2),t=3;l>t;t++)o={X:(t-3)*f+C+v,Y:u+b},r.push(o);break;case l>6:for(var _=0,y=0;l>_;){var f=Math.floor(a/3),v=Math.floor(f/2-h/2)+y*a,u=Math.floor(s/2),b=Math.floor(u/2-h/2);for(t=0;3>t&&l>_;t++)o={X:t*f+v,Y:b},r.push(o),_++;if(l>_){var C=2===l-_?Math.floor(h/2):0,$=l-_>=3?3:l-_;for(f=Math.floor((a-2*C)/$),v=Math.floor(f/2-h/2)+y*a,t=3;l>t&&l>_&&6>t;t++)o={X:(t-3)*f+C+v,Y:u+b},r.push(o),_++}y++}}for(t=0;n.length>t;t++)i=n[t],o=r[t],i.dom.style["-webkit-transform"]="translate("+o.X+"px,"+o.Y+"px)"}}.$bind(t),t._resetTransition=function(){this._protected.inTransition=!1}.$bind(t),t._onpan=function(t){if(void 0!=this._protected.selectedIndicator&&(this._protected.inTransition=!0,1!=this._protected.swiping)){var e=0;this._protected.selectedIndicator._index>0&&(e=-1*this._protected.selectedIndicator._index*this.dom.offsetWidth),this.dom.inner.style["-webkit-transition"]="",this.dom.inner.style["-webkit-transform"]="translate3d("+(e+t.deltaX)+"px,0px,0px)"
}}.$bind(t),t._onpanend=function(t){return window.setTimeout(this._resetTransition,0),1==this._protected.swiping?(this._protected.swiping=!1,void 0):(Math.abs(t.deltaX)>this.dom.offsetWidth/2?t.deltaX>0?this._protected.selectedIndicator&&this._protected.selectedIndicator._index>0?this._decreaseIndicator():(this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(-"+this._protected.selectedIndicator._index*this.dom.offsetWidth+"px,0px,0px)"):this._protected.selectedIndicator&&this._protected.selectedIndicator._index<this._protected.indicators.length-1?this._increaseIndicator():(this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(-"+this._protected.selectedIndicator._index*this.dom.offsetWidth+"px,0px,0px)"):(this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(-"+this._protected.selectedIndicator._index*this.dom.offsetWidth+"px,0px,0px)"),void 0)}.$bind(t),t._onswipeleft=function(){this._protected.swiping=!0,this._increaseIndicator()}.$bind(t),t._onswiperight=function(){this._protected.swiping=!0,this._decreaseIndicator()}.$bind(t),t._increaseIndicator=function(){if(void 0!=this._protected.selectedIndicator){if(this._protected.selectedIndicator._index<=this._protected.indicators.length-2){this._protected.selectedIndicator=this._protected.indicators[this._protected.selectedIndicator._index+1],$ui.addClass(this._protected.selectedIndicator.inner,"theme-circle-menu-indicator-selected");var t,e;for(t=0;this._protected.indicators.length>t;t++)e=this._protected.indicators[t],e!=this._protected.selectedIndicator&&$ui.removeClass(e.inner,"theme-circle-menu-indicator-selected")}this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(-"+this._protected.selectedIndicator._index*this.dom.offsetWidth+"px,0px,0px)"}}.$bind(t),t._decreaseIndicator=function(){if(void 0!=this._protected.selectedIndicator){if(this._protected.selectedIndicator._index>0){this._protected.selectedIndicator=this._protected.indicators[this._protected.selectedIndicator._index-1],$ui.addClass(this._protected.selectedIndicator.inner,"theme-circle-menu-indicator-selected");var t,e;for(t=0;this._protected.indicators.length>t;t++)e=this._protected.indicators[t],e!=this._protected.selectedIndicator&&$ui.removeClass(e.inner,"theme-circle-menu-indicator-selected")}this.dom.inner.style["-webkit-transition"]="-webkit-transform 0.1s ease-out",this.dom.inner.style["-webkit-transform"]="translate3d(-"+this._protected.selectedIndicator._index*this.dom.offsetWidth+"px,0px,0px)"}}.$bind(t),t._addItem=function(t){return t.parent=this,n=new $ui_CircleMenuItem(t,this.screen),n?(this.dom.inner.appendChild(n),!0):!1}.$bind(t),t.addItem=function(t){return this._addItem(t)?(this.items.push(t),!0):!1}.$bind(t),t.refreshItems=function(t){if(void 0!=t){var e,i;if(this.items)for(e=this.items.length-1;e>=0;e--){i=this.items[e];try{i.dom&&i.dom.parentNode&&i.dom.parentNode.removeChild(i.dom)}catch(o){console.log("$ui.List: "+o)}this.items.pop(),i._destroy&&i._destroy()}this.addItemBatch(t)}}.$bind(t),t.addItemBatch=function(t){var e,i;for(e=0;t.length>e;e++)i=t[e],this._addItem(i)&&this.items.push(i);this._recalculateLayout()}.$bind(t),t.insertItem=function(t,e){if(t.parent=this,0>e)return!1;if(0==this.items.length)return this.addItem(t),!0;if(e>this.items.length-1)return this.addItem(t),!0;var i=this.items[e],o=new $ui_CircleMenuItem(t,this.screen);return this.items.splice(e,0,t),this.dom.inner.insertBefore(o,i.dom),!0}.$bind(t),t._providerUpdate=function(t){this.refreshItems(t)}.$bind(t),t._onresize=function(){this._recalculateLayout()}.$bind(t),!t.provider){var i,o,n;for(i=0;t.items.length>i;i++)o=t.items[i],t._addItem(o);setTimeout(t._onresize,0)}return t.dom}function $ui_CircleMenuItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"menu-item"),t.dom.inner=document.createElement("div"),t.dom.inner.model=t,$ui.addClass(t.dom.inner,"circle theme-border-color theme-screen-background-color"),t.dom.appendChild(t.dom.inner),t.dom.inner.onclick=function(){1!=this.model.parent._protected.inTransition&&(this.model._raiseInteractionEvent("data-interaction-click"),$ui.playTouchSound(),this.model.parent.onclick&&this.model.parent.onclick(this.model))},t.dom.inner.ontouchstart=function(){$ui.addClass(this,"theme-brand-background-color")},t.dom.inner.ontouchend=function(){$ui.removeClass(this,"theme-brand-background-color")},t.dom.inner.ontouchcancel=t.dom.inner.ontouchend,$ui.isMobileDevice()||(t.dom.inner.onmousedown=t.dom.inner.ontouchstart,t.dom.inner.onmouseup=t.dom.inner.ontouchend,t.dom.inner.onmouseleave=t.dom.inner.ontouchend),t.id&&t.dom.inner.setAttribute("data-interaction-click",t.id),t.dom.icon=document.createElement("div"),$ui.addClass(t.dom.icon,"icon"),t.dom.inner.appendChild(t.dom.icon),t.img&&(t.dom.icon.style.backgroundImage='url("'+t.img+'")'),t._protected.img=t.img,Object.defineProperty(t,"img",{get:function(){return this._protected.img},set:function(t){t!=this._protected.img&&(this._protected.img=t,this.dom.icon.style.backgroundImage=void 0==t?"":'url("'+t+'")')},configurable:!1}),t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption theme-text-color"),t.dom.appendChild(t.dom.captionDiv),t.caption&&(t.dom.captionDiv.textContent=t.caption),t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){t!=this._protected.caption&&(this._protected.caption=t,this.dom.captionDiv.textContent=void 0==t?"":t)},configurable:!1}),t.getSize=function(){return this.dom.offsetWidth},t.getSize=t.getSize.$bind(t),t._setVisible=function(){this.parent&&this.parent._recalculateLayout()},t._setVisible=t._setVisible.$bind(t),t.dom}function $ui_Column(t,e){if($ui_CoreComponent.call(this,t,e),t){$ui.addClass(t.dom,"ui-column"),t.dom.style.width=t.span?t._spanPercentage*t.span+"%":t._spanPercentage+"%",void 0==t.content&&(t.content=[]),t._protected.content=t.content,Object.defineProperty(t,"content",{get:function(){return this._protected.content},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","content"))},configurable:!1});var i,o;for(i=0;t.content.length>i;i++)o=t.content[i],controlDom=$ui.createControl(o,e),controlDom&&t.dom.appendChild(controlDom);return t.validate=function(){var t,e,i=!0;for(t=0;this.content.length>t;t++)e=this.content[t],e.validate&&0==e.validate()&&(i=!1);return i}.$bind(t),t._cascadeVisibility=function(){var t,e;for(t=0;this.content.length>t;t++)e=this.content[t],e._cascadeVisibility?e._cascadeVisibility():e._onshow&&e._onshow()}.$bind(t),t._setVisible=function(t){1==t&&this._cascadeVisibility()}.$bind(t),t.dom}}function $ui_ColumnLayout(t,e){if($ui_CoreComponent.call(this,t,e),t){$ui.addClass(t.dom,"ui-column-layout"),1==t.padding&&$ui.addClass(t.dom,"padding"),void 0==t.columns&&(t.columns=[]),t._protected.columns=t.columns,Object.defineProperty(t,"columns",{get:function(){return this._protected.columns},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","columns"))},configurable:!1}),1!=t.fillToParent?t.fillToParent=!1:$ui.addClass(t.dom,"fill"),t._protected.fillToParent=t.fillToParent,Object.defineProperty(t,"fillToParent",{get:function(){return this._protected.fillToParent},set:function(t){t!=this._protected.fillToParent&&(1==t?$ui.addClass(this.dom,"fill"):$ui.removeClass(this.dom,"fill"),this._protected.fillToParent=t)},configurable:!1});var i,o,n,s=0;for(i=0;t.columns.length>i;i++)o=t.columns[i],o.span?s+=o.span:s++;for(n=0==s?100:100/s,i=0;t.columns.length>i;i++)o=t.columns[i],o._spanPercentage=n,o.component==$ui.Column&&(new $ui_Column(o,e),t.dom.appendChild(o.dom));return t.dom.clearElement=document.createElement("div"),$ui.addClass(t.dom.clearElement,"clear-element"),t.dom.appendChild(t.dom.clearElement),t.validate=function(){var t,e,i=!0;for(t=0;this.columns.length>t;t++)e=this.columns[t],0==e.validate()&&(i=!1);return i}.$bind(t),t._cascadeVisibility=function(){var t,e;for(t=0;this.columns.length>t;t++)e=this.columns[t],e._cascadeVisibility&&e._cascadeVisibility()}.$bind(t),t._setVisible=function(t){1==t&&this._cascadeVisibility()}.$bind(t),t.dom}}function $ui_ControlGroup(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-control-group"),void 0==t.content&&(t.content=[]),t._protected.content=t.content,Object.defineProperty(t,"content",{get:function(){return this._protected.content},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","content"))},configurable:!1}),t.content){var i,o,n;for(i=0;t.content.length>i;i++)o=t.content[i],n=$ui.createControl(o,t.screen),n&&t.dom.appendChild(n)}return t.dom}function $ui_CoreTile(t,e){$ui_CoreComponent.call(this,t,e),t&&($ui.addClass(t.dom,"ui-tile theme-text-color theme-tile-border-color theme-screen-background-color"),t._contentShowing=!1,t._size&&t._size!=$ui.TileSize.STANDARD&&$ui.addClass(t.dom,t._size),t._protected._size=t._size,Object.defineProperty(t,"_size",{get:function(){return this._protected._size},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","_size"))},configurable:!1}),t.dom.loadingDiv=document.createElement("div"),$ui.addClass(t.dom.loadingDiv,"loading"),t.dom.appendChild(t.dom.loadingDiv),t.dom.spinner=new $ui_Spinner({component:$ui.Spinner,size:$ui.Spinner.SMALL},e),t.dom.loadingDiv.appendChild(t.dom.spinner),t.dom.contentDiv=document.createElement("div"),$ui.addClass(t.dom.contentDiv,"content"),t.dom.appendChild(t.dom.contentDiv),t.showContent=function(t){t!=this._contentShowing&&(t?(this.dom.loadingDiv.style.display="none",this.dom.contentDiv.style.display="inherit"):(this.dom.loadingDiv.style.display="inline",this.dom.contentDiv.style.display="none"),this._contentShowing=t)}.$bind(t))}function $ui_CoreTileDonutChart(t,e){void 0==t.animated&&(t.animated=!0),$ui_CoreTile.call(this,t,e),t&&($ui.addClass(t.dom,"ui-tile-donut-chart"),t.dom.chartDiv=document.createElement("div"),$ui.addClass(t.dom.chartDiv,"chart"),t.dom.contentDiv.appendChild(t.dom.chartDiv),t.dom.canvas=document.createElement("canvas"),t.dom.chartDiv.appendChild(t.dom.canvas),t.chart=new Chart(t.dom.canvas.getContext("2d")),t._setData=function(t){this._protected.data=t,this.chart.Doughnut(t,{showTooltips:!1,animation:this.animated,segmentStrokeColor:"transparent"})}.$bind(t),t.dom.caption=document.createElement("div"),$ui.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t._setCaption=function(t){this.dom.caption.innerHTML=t}.$bind(t),t.dom.accent=document.createElement("div"),$ui.addClass(t.dom.accent,"accent"),t.dom.contentDiv.appendChild(t.dom.accent),t.dom.accent.style.color=$ui.theme.chart.color,t._setAccent=function(t){return void 0==t?($ui.removeClass(this.dom.contentDiv,"has-accent"),this.dom.accent.textContent="",this.accent=t,void 0):(this.accent=t,$ui.addClass(this.dom.contentDiv,"has-accent"),this.dom.accent.textContent=t,void 0)}.$bind(t))}function $ui_CoreTileGauge(t,e){if(t&&(t._size=void 0),$ui_CoreTile.call(this,t,e),t){$ui.addClass(t.dom,"ui-tile-gauge"),t.dom.titleDiv=document.createElement("div"),$ui.addClass(t.dom.titleDiv,"title"),t.dom.contentDiv.appendChild(t.dom.titleDiv),t._setTitle=function(e){(void 0==e||null==e)&&(e=""),t.dom.titleDiv.textContent=e}.$bind(t),t.dom.chartDiv=document.createElement("div"),$ui.addClass(t.dom.chartDiv,"chart"),t.dom.contentDiv.appendChild(t.dom.chartDiv),t.dom.canvas=document.createElement("canvas"),t.dom.canvas.width=200,t.dom.canvas.height=200,$ui.addClass(t.dom.canvas,"graph-canvas"),t.dom.chartDiv.appendChild(t.dom.canvas),t.dom.labels=document.createElement("div"),$ui.addClass(t.dom.labels,"labels-area"),t.dom.chartDiv.appendChild(t.dom.labels),t.dom.minLabel=document.createElement("div"),$ui.addClass(t.dom.minLabel,"label"),$ui.addClass(t.dom.minLabel,"left"),t.dom.labels.appendChild(t.dom.minLabel),t.dom.maxLabel=document.createElement("div"),$ui.addClass(t.dom.maxLabel,"label"),$ui.addClass(t.dom.maxLabel,"right"),t.dom.labels.appendChild(t.dom.maxLabel),t.dom.accentLabel=document.createElement("div"),$ui.addClass(t.dom.accentLabel,"label"),$ui.addClass(t.dom.accentLabel,"center"),t.dom.labels.appendChild(t.dom.accentLabel),t._setAccent=function(e){(void 0==e||null==e)&&(e=""),t.dom.accentLabel.textContent=e},t._setAccent=t._setAccent.$bind(t),t.dom.valueDiv=document.createElement("div"),$ui.addClass(t.dom.valueDiv,"value"),t.dom.chartDiv.appendChild(t.dom.valueDiv);var i=t.dom.canvas.getContext("2d");t.dom.ctx=i,t._width=t.dom.canvas.width,t._height=t.dom.canvas.height,t._renderLoop=function(){if(!(this._degrees>this._newDegrees)){requestAnimationFrame(this._renderLoop);var t=this.dom.ctx,e=this._degrees*Math.PI/180;t.clearRect(0,0,this._width,this._height),t.beginPath(),t.strokeStyle=$ui.theme.chart.color,t.lineWidth=40,t.arc(this._width/2,this._height/2,80,0-180*Math.PI/180,Math.PI/180,!1),t.stroke(),t.beginPath(),t.strokeStyle=this._color,t.arc(this._width/2,this._height/2,80,0-180*Math.PI/180,e-180*Math.PI/180,!1),t.stroke(),this._degrees<=this._newDegrees&&(this._degrees=this._degrees+this._step)}}.$bind(t),t._populateData=function(){void 0==this.min&&(this.min=0),void 0==this.max&&(this.max=100),void 0==this.value&&(this.value=this.min),this.value<this.min&&(this.value=this.min),this.dom.minLabel.textContent=this.min,this.dom.maxLabel.textContent=this.max,this.dom.valueDiv.textContent=this.value;var t=(this.value-this.min)/this.max;switch(this._newDegrees=180*t,!0){case.33>t:this._color=$ui.theme.chart.color_GREAT,this._step=2;break;case.77>t:this._color=$ui.theme.chart.color_GOOD,this._step=7;break;default:this._color=$ui.theme.chart.color_OK,this._step=10}this._degrees=this._newDegrees-this._step,this._renderLoop()}.$bind(t)}}function $ui_DockLayout(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-dock-layout"),t.dom.dock=document.createElement("div"),$ui.addClass(t.dom.dock,"dock");var i,o,n;if(t.dock)for(i=0;t.dock.length>i;i++)o=t.dock[i],n=$ui.createControl(o,e),n&&t.dom.dock.appendChild(n);if(t.dom.contentDiv=document.createElement("div"),$ui.addClass(t.dom.contentDiv,"contents"),t.content)for(i=0;t.content.length>i;i++)o=t.content[i],n=$ui.createControl(o,e),n&&t.dom.contentDiv.appendChild(n);return t.location===$ui.DockLayout.DockLocation.BOTTOM?(t.dom.appendChild(t.dom.contentDiv),t.dom.appendChild(t.dom.dock)):(t.dom.appendChild(t.dom.dock),t.dom.appendChild(t.dom.contentDiv)),t.dom}function $ui_GenericListItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-generic-list-item theme-text-color theme-screen-background-color theme-dark-border-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.dom.img=document.createElement("div"),$ui.addClass(t.dom.img,"img"),t.dom.appendChild(t.dom.img),t.dom.details=document.createElement("div"),$ui.addClass(t.dom.details,"details"),t.dom.appendChild(t.dom.details),t.dom.titleArea=document.createElement("div"),$ui.addClass(t.dom.titleArea,"title"),t.dom.details.appendChild(t.dom.titleArea),t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption"),t.dom.details.appendChild(t.dom.captionDiv),t.dom.accent=document.createElement("div"),$ui.addClass(t.dom.accent,"accent theme-generic-list-accent-color"),t.dom.details.appendChild(t.dom.accent),t._loadImage=function(){void 0!=this.img&&null!=this.img&&""!=this.img?(this._loader=new Image,this._loader.model=t,this._loader.onload=function(){this.model.dom.img.style.backgroundImage='url("'+this.model.img+'")',this.model.dom.img.style.opacity="1.0",this.model._loader=void 0},this._loader.onerror=function(){this.model.dom.img.style.backgroundImage="",this.model.dom.img.style.opacity="1.0",this.model._loader=void 0},this._loader.src=t.img):(this.dom.img.style.opacity="1.0",this.dom.loader=void 0)}.$bind(t),t._loadImage(),t._protected.img=t.img,Object.defineProperty(t,"img",{get:function(){return this._protected.img},set:function(t){t!=this._protected.img&&(this._protected.img=t,this._loadImage())},configurable:!1}),t.caption?t.dom.captionDiv.textContent=t.caption:$ui.addClass(t.dom,"no-caption"),t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){t!=this._protected.caption&&(this._protected.caption=t,void 0==t?$ui.addClass(this.dom,"no-caption"):($ui.removeClass(this.dom,"no-caption"),this.dom.captionDiv.textContent=t))},configurable:!1}),void 0!=t.accent&&(t.dom.accent.textContent=t.accent,$ui.addClass(t.dom,"has-accent")),t._protected.accent=t.accent,Object.defineProperty(t,"accent",{get:function(){return this._protected.accent},set:function(t){t!=this._protected.accent&&(this._protected.accent=t,void 0==t?$ui.removeClass(this.dom,"has-accent"):$ui.addClass(this.dom,"has-accent"))},configurable:!1}),t.dom.titleArea.textContent=t.title,t._protected.title=t.title,Object.defineProperty(t,"title",{get:function(){return this._protected.title},set:function(t){t!=this._protected.title&&(this._protected.title=t,this.dom.titleArea.textContent=t)},configurable:!1}),t.dom.ontouchstart=function(){$ui.removeClass(this,"theme-screen-background-color"),$ui.addClass(this,"theme-brand-background-color"),$ui.removeClass(this,"theme-text-color"),$ui.addClass(this,"theme-highlight-text-color"),this.model.dom&&this.model.dom.accent&&$ui.removeClass(this.model.dom.accent,"theme-generic-list-accent-color")},t.dom.ontouchend=function(){$ui.removeClass(this,"theme-brand-background-color"),$ui.addClass(this,"theme-screen-background-color"),$ui.removeClass(this,"theme-highlight-text-color"),$ui.addClass(this,"theme-text-color"),this.model.dom&&this.model.dom.accent&&$ui.addClass(this.model.dom.accent,"theme-generic-list-accent-color")},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.addEventListener("click",function(){if(void 0!=this.model.parent.onaction){var t=new ListEvent(this.model,$ui.GenericListItem.GenericListEvent.ONCLICK);this.model.parent._onaction(this.model,t),$ui.playTouchSound()}},!1),t.dom}function $ui_Header(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-header theme-text-color theme-brand-border-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.caption&&(t.dom.textContent=t.caption),t.dom}function $ui_ImageListItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-image-list-item"),t.dom.img=document.createElement("div"),$ui.addClass(t.dom.img,"img"),t.dom.appendChild(t.dom.img),void 0!=t.img&&null!=t.img&&""!=t.img?(t._loader=new Image,t._loader.model=t,t._loader.onload=function(){this.model.dom.img.style.backgroundImage='url("'+this.model.img+'")',this.model.dom.img.style.opacity="1.0",this.model._loader=void 0},t._loader.onerror=function(){this.model.dom.img.style.backgroundImage="",this.model.dom.img.style.opacity="1.0",this.model._loader=void 0},t._loader.src=t.img):(t.dom.img.style.opacity="1.0",t.dom.loader=void 0),t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption theme-highlight-text-color"),t.dom.appendChild(t.dom.captionDiv),t.caption?t.dom.captionDiv.textContent=t.caption:$ui.addClass(t.dom.captionDiv,"no-caption"),t.dom.addEventListener("click",function(){if(void 0!=this.model.parent.onaction){var t=new ListEvent(this.model,$ui.ImageListItem.ImageListEvent.ONCLICK);this.model.parent._onaction(this.model,t),$ui.playTouchSound()}},!1),t.dom}function $ui_Input(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-input"),t.dom.style.borderColor=$ui.theme.borderColor,1==$ui.isApple&&$ui.addClass(t.dom,"iOS"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t._protected.inputType=t.inputType,Object.defineProperty(t,"inputType",{get:function(){return this._protected.inputType},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","inputType"))},configurable:!1}),t.warning=!1,t._protected.warning=t.warning,Object.defineProperty(t,"warning",{get:function(){return this._protected.warning},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","warning"))},configurable:!1}),t.dom.placeholder=document.createElement("div"),$ui.addClass(t.dom.placeholder,"placeholder theme-hint-text-color"),t.dom.appendChild(t.dom.placeholder),t._protected.multiLine=t.multiLine,Object.defineProperty(t,"multiLine",{get:function(){return this._protected.multiLine},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","multiLine"))},configurable:!1}),t._setEnabled=function(t){1==t?this.dom.input.removeAttribute("readonly"):this.dom.input.setAttribute("readonly","true")}.$bind(t),0==t.enabled&&t._setEnabled(!1),t.computePlaceholder=function(){var t=""==this.dom.input.value||void 0==this.dom.input.value?!1:!0;t?($ui.addClass(this.dom.placeholder,"draw-small"),$ui.addClass(this.dom.input,"small-placeholder"),void 0!=this.dom.textAreaSize&&$ui.addClass(this.dom.textAreaSize,"small-placeholder")):($ui.removeClass(this.dom.placeholder,"draw-small"),$ui.removeClass(this.dom.input,"small-placeholder"),void 0!=this.dom.textAreaSize&&$ui.removeClass(this.dom.textAreaSize,"small-placeholder"))}.$bind(t),1==t.multiLine){if(t.dom.input=document.createElement("textarea"),$ui.addClass(t.dom.input,"textarea"),t.dom.appendChild(t.dom.input),t.dom.textAreaSize=document.createElement("div"),$ui.addClass(t.dom.textAreaSize,"textarea-size"),t.dom.appendChild(t.dom.textAreaSize),t.text&&(t.dom.input.value=t.text,t.dom.textAreaSize.innerHTML=t.text),void 0!=t.minLinesToShow&&parseInt(t.minLinesToShow)>1){var i=35*t.minLinesToShow;t.dom.textAreaSize.style["min-height"]=i+"px"}if(void 0!=t.maxLinesToShow&&parseInt(t.maxLinesToShow)>1){var o=35*(t.maxLinesToShow-1);t.dom.textAreaSize.style["max-height"]=o+"px",t.dom.input.style["overflow-y"]="scroll",t.dom.input.onscroll=function(){this.model.dom.placeholder.style.display=this.scrollTop>0?"none":"inherit"}}}else t.dom.input=document.createElement("input"),1==t.password?t.dom.input.setAttribute("type","password"):t.dom.input.setAttribute("type","text"),$ui.addClass(t.dom.input,"text"),t.dom.input.style.color=$ui.theme.textColor,t.text&&t.dom.input.setAttribute("value",t.text),t.dom.appendChild(t.dom.input);return t.id&&t.dom.input.setAttribute("data-interaction-input",t.id),t.dom.input.onfocus=function(){this.model.dom.style.borderColor=$ui.theme.color,$ui.addClass(this.model.dom,"theme-brand-border-color"),this.model.onfocus&&this.model.onfocus()},t.dom.input.onblur=function(){$ui.removeClass(this.model.dom,"theme-brand-border-color"),this.model.onblur&&this.model.onblur()},t.dom.input.model=t,t.computePlaceholder(),void 0!=t.tabIndex&&(t.dom.input.tabIndex=t.tabIndex),t._protected.tabIndex=t.tabIndex,Object.defineProperty(t,"tabIndex",{get:function(){return this._protected.tabIndex},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","tabIndex"))},configurable:!1}),$ui.isApple===!0?t.multiLine===!0&&(t.dom.input.addEventListener("touchstart",function(t){t.stopPropagation()},!1),t.dom.input.addEventListener("touchend",function(t){t.stopPropagation()},!1)):(t.dom.input.addEventListener("touchstart",function(t){t.stopPropagation()},!1),t.dom.input.addEventListener("touchend",function(t){t.stopPropagation()},!1)),t.dom.input.addEventListener("keyup",function(t){13==t.keyCode&&this.model.onenterkey&&this.model.onenterkey()},!1),t.dom.input.addEventListener("keydown",function(t){if(this.model.inputType==$ui.Input.InputType.INTEGER||this.model.inputType==$ui.Input.InputType.FLOAT){if(127==t.keyCode||8==t.keyCode||9==t.keyCode||13==t.keyCode||46==t.keyCode||37==t.keyCode||39==t.keyCode)return;if(t.keyCode>=48&&57>=t.keyCode||t.keyCode>=96&&105>=t.keyCode)return;if((110==t.keyCode||190==t.keyCode)&&this.model.inputType==$ui.Input.InputType.FLOAT)return;t.preventDefault()}},!1),t.dom.input.addEventListener("input",function(){this.model._raiseInteractionEvent("data-interaction-input"),this.model._protected.text=this.value,1==this.model.multiLine&&(this.model.dom.textAreaSize.innerHTML=this.value.replace(RegExp("\n","g"),"<br>&nbsp;")),this.model.computePlaceholder(),this.model._updateData(this.model.text),this.model.onchange&&this.model.onchange()},!1),t._protected.text=t.text,Object.defineProperty(t,"text",{get:function(){return this._protected.text},set:function(t){t!=this._protected.text&&(this._setText(t),this._updateData(this.text))},configurable:!1}),t.setFocus=function(){this.dom.input.focus()}.$bind(t),t._setText=function(t){void 0==t&&(t=""),this._protected.warning=!1,$ui.removeClass(this.dom.input,"theme-warning-text-color"),$ui.removeClass(this.dom.placeholder,"theme-warning-text-color"),this._protected.text=t,1==this.multiLine?($ui.removeClass(this.dom.input,"placeholder"),this.dom.input.value=t,this.dom.textAreaSize.innerHTML=t,this.dom.input.onblur()):this.dom.input.value=this._protected.text,this.computePlaceholder()}.$bind(t),void 0==t.hint&&(t.hint=""),t.dom.placeholder.textContent=t.hint,t._protected.hint=t.hint,Object.defineProperty(t,"hint",{get:function(){return this._protected.hint},set:function(t){void 0==t&&(t=""),t!=this._protected.hint&&(this._protected.hint=t,this.dom.placeholder.textContent=t,this.computePlaceholder())},configurable:!1}),t.validate=function(){return this.onvalidate&&0==this.onvalidate()&&(this._protected.warning=!0),1==this._protected.warning?($ui.addClass(this.dom.input,"theme-warning-text-color"),$ui.addClass(this.dom.placeholder,"theme-warning-text-color")):($ui.removeClass(this.dom.input,"theme-warning-text-color"),$ui.removeClass(this.dom.placeholder,"theme-warning-text-color"),1==this._protected.hadNoHint?this.hint=void 0:this.dom.placeholder.textContent=this.hint),!this._protected.warning}.$bind(t),t._providerUpdate=function(t){this._setText(t)}.$bind(t),t.dom}function ScreenBackground(t,e){if(null==t)throw Error("ScreenBackground: img cannot be null");if(void 0==t)throw Error("ScreenBackground: img cannot be undefined");this.img=t,(void 0==e||null==e)&&(this.repeat=!1)}function $ui_SegmentedControl(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-segmented-control theme-segmented-control"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.domOptions=[],t.setSelectedIndex=function(t){this.selectedIndex!=t&&(this.selectedIndex=t,this.onclick&&this.onclick()),this._setSelectedIndex(t)}.$bind(t),t._setSelectedIndex=function(t){if(this.options){var e,i;for(e=0;this.domOptions.length>e;e++)i=this.domOptions[e],e==t?i._setSelected(!0):i._setSelected(!1)}}.$bind(t),t.options){var i,o,n=100/t.options.length;for(i=0;t.options.length>i;i++)o=document.createElement("div"),$ui.addClass(o,"button"),0==i?$ui.addClass(o,"left"):i==t.options.length-1&&$ui.addClass(o,"right"),o.model=t,o.index=i,o.selected=!1,o.style.width=n+"%",o.style.left=i*n+"%",o.textContent=t.options[i],t.domOptions.push(o),t.dom.appendChild(o),o.addEventListener("click",function(){0!=this.model.enabled&&(this.selected||this.model.setSelectedIndex(this.index))},!1),o._setSelected=function(t){this.selected=t,1==t?($ui.addClass(this,"selected"),$ui.addClass(this,"theme-brand-background-color"),$ui.addClass(this,"theme-highlight-text-color")):($ui.removeClass(this,"selected"),$ui.removeClass(this,"theme-brand-background-color"),$ui.removeClass(this,"theme-highlight-text-color"))}.$bind(o)}return t.selectedIndex?t._setSelectedIndex(t.selectedIndex):(t.selectedIndex=0,t._setSelectedIndex(0)),t.dom}function $ui_SplitView(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-split-view");var i,o,n;if(t.dom.leftCol=document.createElement("div"),$ui.addClass(t.dom.leftCol,"col"),$ui.addClass(t.dom.leftCol,"left theme-brand-border-color"),t.dom.appendChild(t.dom.leftCol),t.left)for(i=0;t.left.length>i;i++)o=t.left[i],n=$ui.createControl(o,e),n&&t.dom.leftCol.appendChild(n);if(t.dom.rightCol=document.createElement("div"),$ui.addClass(t.dom.rightCol,"col"),$ui.addClass(t.dom.rightCol,"right"),t.dom.appendChild(t.dom.rightCol),t.right)for(i=0;t.right.length>i;i++)o=t.right[i],n=$ui.createControl(o,e),n&&t.dom.rightCol.appendChild(n);return t.dom}function $ui_Tab(t,e){t.visible=!1,$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-tab"),1!=t.selected&&(t.selected=!1);var i,o,n;if(t.content)for(i=0;t.content.length>i;i++)o=t.content[i],n=$ui.createControl(o,e),n&&t.dom.appendChild(n);return t.dom}function $ui_TabbedPane(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-tabbed-pane"),t._selectedTab=void 0;var i,o,n;if(t.tabs)for(i=0;t.tabs.length>i;i++)o=t.tabs[i],o.component==$ui.Tab&&(o.parent=t,n=$ui.createControl(o,e),n&&t.dom.appendChild(n),o.selected===!0&&void 0==t._selectedTab&&(t._selectedTab=o));return t.selectTab=function(t){if(void 0!=t&&t.component==$ui.Tab&&t!==this._selectedTab){var e,i;for(e=0;this.tabs.length>e;e++)i=this.tabs[e],i.selected=!1,i.visible=!1;this._selectTab(t)}}.$bind(t),t._selectTab=function(e){void 0!=e&&e.component==$ui.Tab&&(t._selectedTab=e,e.selected=!0,e.visible=!0)}.$bind(t),void 0==t._selectedTab&&t.tabs.length>0&&(t._selectedTab=t.tabs[0]),void 0!=t._selectedTab&&t._selectTab(t._selectedTab),t.dom}function $ui_TileGroup(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-tile-group"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t._tileSize=256,t._thresholdWidth=1024,t.dom.inner=document.createElement("div"),$ui.addClass(t.dom.inner,"group-inner"),t.dom.appendChild(t.dom.inner),t.matrix=[],t._setTileTopLeft=function(t,e,i){t.dom.style.top=e*this._tileSize+"px",t.dom.style.left=i*this._tileSize+"px"}.$bind(t),t._positionTile=function(e){var i,o,n,s=!1;if(void 0==e._size)for(n=0;this.matrix.length>n;n++){for(i=this.matrix[n],o=0;i.length>o;o++)if(0===i[o]){i[o]=1,this._setTileTopLeft(e,n,o),s=!0;break}if(1==s)break}else if(e._size==$ui.TileSize.WIDE)for(n=0;this.matrix.length>n;n++){for(i=this.matrix[n],o=0;i.length>o;o++)if(0===i[o]&&i.length>=o+1&&0===i[o+1]){i[o]=1,i[o+1]=1,this._setTileTopLeft(e,n,o),s=!0;break}if(1==s)break}else if(e._size==$ui.TileSize.TALL)for(n=0;this.matrix.length>n;n++){for(i=this.matrix[n],o=0;i.length>o;o++)if(0===i[o]&&this.matrix.length>n+1&&0===this.matrix[n+1][o]){i[o]=1,this.matrix[n+1][o]=1,this._setTileTopLeft(e,n,o),s=!0;break}if(1==s)break}else if(e._size==$ui.TileSize.SQUARE)for(n=0;this.matrix.length>n;n++){for(i=this.matrix[n],o=0;i.length>o;o++)if(0===i[o]&&this.matrix.length>n+1&&0===this.matrix[n+1][o]&&i.length>o+1&&0===this.matrix[n+1][o+1]){i[o]=1,i[o+1]=1,this.matrix[n+1][o]=1,this.matrix[n+1][o+1]=1,this._setTileTopLeft(e,n,o),s=!0;break}if(1==s)break}0==s&&(void 0==e._size?(1==t._is3Columns?this.matrix.push([1,0,0]):this.matrix.push([1,0,0,0]),this._setTileTopLeft(e,this.matrix.length-1,0)):e._size==$ui.TileSize.WIDE?(1==t._is3Columns?this.matrix.push([1,1,0]):this.matrix.push([1,1,0,0]),this._setTileTopLeft(e,this.matrix.length-1,0)):(1==t._is3Columns?this.matrix.push([0,0,0]):this.matrix.push([0,0,0,0]),this._positionTile(e)))}.$bind(t),t._recalculateHeight=function(){this.dom.inner.style.height=this.matrix.length*this._tileSize+"px"}.$bind(t),t.tiles){var i,o,n;for(i=0;t.tiles.length>i;i++)o=t.tiles[i],n=$ui.createControl(o,e),n&&t.dom.inner.appendChild(n);t._recalculateHeight()}return t._layoutTiles=function(){var t;for(0==this._is3Columns?(this.matrix=[],this.matrix.push([0,0,0,0])):(this.matrix=[],this.matrix.push([0,0,0])),t=0;this.tiles.length>t;t++)this._positionTile(this.tiles[t]);this._recalculateHeight()}.$bind(t),t._onresize=function(){1!=$ui.options.isClientDevice&&(1==this._is3Columns&&this.dom.offsetWidth>=this._thresholdWidth?this._layoutTiles():0==this._is3Columns&&this.dom.offsetWidth<this._thresholdWidth&&this._layoutTiles())
}.$bind(t),t._onshow=function(){1!=$ui.options.isClientDevice&&(this._is3Columns=this.dom.offsetWidth<this._thresholdWidth,this._layoutTiles()),this.dom.style.visibility="visible"}.$bind(t),t.dom}function $ui_Toggle(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-toggle"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.dom.bottomBorder=document.createElement("div"),$ui.addClass(t.dom.bottomBorder,"bottom-border theme-dark-background-color"),t.dom.appendChild(t.dom.bottomBorder),t.dom.caption=document.createElement("span"),$ui.addClass(t.dom.caption,"caption theme-text-color"),t.dom.appendChild(t.dom.caption),t.dom.duration=document.createElement("div"),$ui.addClass(t.dom.duration,"duration"),t.dom.appendChild(t.dom.duration),t.dom.duration.bottomDiv=document.createElement("div"),$ui.addClass(t.dom.duration.bottomDiv,"bottom"),t.dom.duration.appendChild(t.dom.duration.bottomDiv),t.dom.duration.number=document.createElement("div"),$ui.addClass(t.dom.duration.number,"number theme-highlight-text-color"),t.dom.duration.bottomDiv.appendChild(t.dom.duration.number),t.dom.duration.bar=document.createElement("div"),$ui.addClass(t.dom.duration.bar,"bar theme-brand-background-color"),t.dom.duration.bottomDiv.appendChild(t.dom.duration.bar),void 0==t.style&&(t.style=$ui.Toggle.Style.OnOff),$ui.addClass(t.dom,t.style),t._protected.style=t.style,Object.defineProperty(t,"style",{get:function(){return this._protected.style},set:function(t){void 0==t&&(t=$ui.Toggle.Style.OnOff),t!=this._protected.style&&($ui.removeClass(this.dom,this._protected.style),this._protected.style==$ui.Toggle.Style.OnOff?this.dom.removeChild(this.dom.innerToggle):this._protected.style==$ui.Toggle.Style.Momentary?this.dom.removeChild(this.dom.momentary):this._protected.style==$ui.Toggle.Style.OnOffOn&&this.dom.removeChild(this.dom.innerToggle),this._protected.style=t,$ui.addClass(this.dom,this._protected.style),t==$ui.Toggle.Style.OnOff?(this._createOnOffStyle(),this._setPosition(this.position)):t==$ui.Toggle.Style.Momentary?this._createMomentaryStyle():t==$ui.Toggle.Style.OnOffOn&&(this._createOnOffOnStyle(),this._setPosition(this.position)))},configurable:!1}),t._createOnOffStyle=function(){this.dom.innerToggle=document.createElement("div"),this.dom.innerToggle.model=this,$ui.addClass(this.dom.innerToggle,"inner-toggle theme-border-color"),this.dom.appendChild(this.dom.innerToggle),this.dom.slide=document.createElement("div"),$ui.addClass(this.dom.slide,"slide"),this.dom.innerToggle.appendChild(this.dom.slide),this.dom.left=document.createElement("div"),$ui.addClass(this.dom.left,"left"),this.dom.slide.appendChild(this.dom.left),this.dom.button=document.createElement("div"),$ui.addClass(this.dom.button,"button theme-border-color"),this.dom.slide.appendChild(this.dom.button),this.dom.button.inner=document.createElement("div"),$ui.addClass(this.dom.button.inner,"button-inner theme-brand-border-color"),this.dom.button.appendChild(this.dom.button.inner),this.dom.right=document.createElement("div"),$ui.addClass(this.dom.right,"right"),this.dom.slide.appendChild(this.dom.right),this.dom.innerToggle.addEventListener("click",function(){0!=this.model.enabled&&1!=this.model._protected.isCountingDown&&($ui.playTouchSound(),this.model.position=0==this.model.position?1:0,this.model.onclick&&this.model.onclick(this.model))},!1)}.$bind(t),t._createOnOffOnStyle=function(){this.dom.innerToggle=document.createElement("div"),this.dom.innerToggle.model=this,$ui.addClass(this.dom.innerToggle,"inner-toggle theme-border-color"),this.dom.appendChild(this.dom.innerToggle),this.dom.slide=document.createElement("div"),$ui.addClass(this.dom.slide,"slide"),this.dom.innerToggle.appendChild(this.dom.slide),this.dom.left=document.createElement("div"),$ui.addClass(this.dom.left,"left"),this.dom.slide.appendChild(this.dom.left),this.dom.left.label=document.createElement("div"),$ui.addClass(this.dom.left.label,"label theme-dark-text-color"),this.dom.left.appendChild(this.dom.left.label),void 0!=this.negativeLabel&&this.style==$ui.Toggle.Style.OnOffOn&&(this.dom.left.label.textContent=this.negativeLabel),this.dom.button=document.createElement("div"),$ui.addClass(this.dom.button,"button theme-border-color"),this.dom.slide.appendChild(this.dom.button),this.dom.button.inner=document.createElement("div"),$ui.addClass(this.dom.button.inner,"button-inner theme-brand-border-color"),this.dom.button.appendChild(this.dom.button.inner),this.dom.right=document.createElement("div"),$ui.addClass(this.dom.right,"right"),this.dom.slide.appendChild(this.dom.right),this.dom.right.label=document.createElement("div"),$ui.addClass(this.dom.right.label,"label theme-dark-text-color"),this.dom.right.appendChild(this.dom.right.label),void 0!=this.positiveLabel&&this.style==$ui.Toggle.Style.OnOffOn&&(this.dom.right.label.textContent=this.positiveLabel),this.dom.innerToggle.onclick=function(t){if(0!=this.model.enabled&&1!=this.model._protected.isCountingDown){$ui.playTouchSound();var e=this.getBoundingClientRect(),i=(e.right-e.left)/3;this.model.position=t.clientX<e.left+i?-1:t.clientX>e.right-i?1:0,this.model.onclick&&this.model.onclick(this.model)}}}.$bind(t),t._createMomentaryStyle=function(){this.dom.momentary=document.createElement("div"),this.dom.momentary.model=this,$ui.addClass(this.dom.momentary,"momentary theme-brand-background-color theme-highlight-text-color"),this.dom.appendChild(this.dom.momentary),this.dom.momentary.onclick=function(){if(1!=this.model._protected.isCountingDown&&0!=this.model.enabled&&($ui.playTouchSound(),this.model.position=1,this.model.onclick&&this.model.onclick(this.model),void 0==this.model.duration||0>=this.model.duration)){var t=this.model;window.setTimeout(function(){t.position=0},500)}},this.dom.momentary.ontouchstart=function(){this.style.opacity="0.7"},this.dom.momentary.ontouchend=function(){this.style.opacity=""},this.dom.momentary.ontouchcancel=this.dom.momentary.ontouchend,$ui.isMobileDevice()||(this.dom.momentary.onmousedown=this.dom.momentary.ontouchstart,this.dom.momentary.onmouseup=this.dom.momentary.ontouchend,this.dom.momentary.onmouseleave=this.dom.momentary.ontouchend)}.$bind(t),t.style==$ui.Toggle.Style.OnOff?t._createOnOffStyle():t.style==$ui.Toggle.Style.Momentary?t._createMomentaryStyle():t.style==$ui.Toggle.Style.OnOffOn&&t._createOnOffOnStyle(),t._protected.positiveLabel=t.positiveLabel,Object.defineProperty(t,"positiveLabel",{get:function(){return this._protected.positiveLabel},set:function(t){void 0==t&&(t=""),t!=this._protected.positiveLabel&&(this._protected.positiveLabel=t,this.style==$ui.Toggle.Style.OnOffOn&&(this.dom.right.label.textContent=t))},configurable:!1}),t._protected.negativeLabel=t.negativeLabel,Object.defineProperty(t,"negativeLabel",{get:function(){return this._protected.negativeLabel},set:function(t){void 0==t&&(t=""),t!=this._protected.negativeLabel&&(this._protected.negativeLabel=t,this.style==$ui.Toggle.Style.OnOffOn&&(this.dom.left.label.textContent=t))},configurable:!1}),void 0!=t.caption&&(t.dom.caption.textContent=t.caption),t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){t!=this._protected.caption&&(void 0==t&&(t=""),this._protected.caption=t,this.dom.caption.textContent=t)},configurable:!1}),"center"==t.align?$ui.addClass(t.dom.caption,"align-center"):"right"==t.align?$ui.addClass(t.dom.caption,"align-right"):(t.align="left",$ui.addClass(t.dom.caption,"align-left")),t._protected.align=t.align,Object.defineProperty(t,"align",{get:function(){return this._protected.align},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","align"))},configurable:!1}),t._setPosition=function(t){void 0==t&&(t=0),this._protected.position=t,this.style==$ui.Toggle.Style.OnOff?0==t?($ui.removeClass(this.dom.innerToggle,"yes"),$ui.removeClass(this.dom.innerToggle,"theme-brand-background-color"),$ui.removeClass(this.dom.button.inner,"theme-light-background-color"),$ui.addClass(this.dom.innerToggle,"no")):($ui.removeClass(this.dom.innerToggle,"no"),$ui.addClass(this.dom.innerToggle,"yes theme-brand-background-color"),$ui.addClass(this.dom.button.inner,"theme-light-background-color")):this.style==$ui.Toggle.Style.OnOffOn&&($ui.removeClass(this.dom.innerToggle,"theme-brand-background-color"),$ui.removeClass(this.dom.button.inner,"theme-light-background-color"),0==t?($ui.removeClass(this.dom.innerToggle,"positive"),$ui.removeClass(this.dom.innerToggle,"negative"),this.dom.right.label.style.display="block",this.dom.left.label.style.display="block"):1==t?($ui.removeClass(this.dom.innerToggle,"negative"),$ui.addClass(this.dom.innerToggle,"positive theme-brand-background-color"),$ui.addClass(this.dom.button.inner,"theme-light-background-color"),this.dom.right.label.style.display="none",this.dom.left.label.style.display="none"):($ui.removeClass(this.dom.innerToggle,"positive"),$ui.addClass(this.dom.innerToggle,"negative theme-brand-background-color"),$ui.addClass(this.dom.button.inner,"theme-light-background-color"),this.dom.right.label.style.display="none",this.dom.left.label.style.display="none"))}.$bind(t),void 0==t.duration&&(t.duration=0),t.duration>0&&(t.dom.duration.style.display="block"),t._protected.duration=t.duration,Object.defineProperty(t,"duration",{get:function(){return this._protected.duration},set:function(t){void 0==t&&(t=0),t!=this._protected.duration&&(this._protected.duration=t,this.dom.duration.style.display=0>=t?"none":"block")},configurable:!1}),void 0==t.position&&(t.position=0),t._setPosition(t.position),t._protected.position=t.position,Object.defineProperty(t,"position",{get:function(){return this._protected.position},set:function(t){t!=this._protected.position&&(this._protected.position=t,this._setPosition(t),this._updateData(t),0==t?(this._protected.isCountingDown=!1,this.dom.duration.bottomDiv.style.opacity=0,this.dom.duration.style["-webkit-transform"]="translate3d(0px, 0px, 0px)",this.style==$ui.Toggle.Style.OnOff||this.style==$ui.Toggle.Style.OnOffOn?this.dom.innerToggle.style.opacity=1:this.dom.momentary.style.opacity=1):this.duration&&this.duration>0&&(this.dom.duration.bottomDiv.style.opacity=1,this.dom.duration.style["-webkit-transform"]=1==$ui.options.isClientDevice?"translate3d(-20px, -10px, 0px)":"translate3d(-26px, -14px, 0px)",this._protected.intervalCount=this.duration,this._protected.isCountingDown=!0,this.dom.duration.bar.style.width="100%",this.dom.duration.number.textContent=this._protected.intervalCount/1e3,this._protected.interval=window.setInterval(this._countDownInterval,1e3),this.style==$ui.Toggle.Style.OnOff||this.style==$ui.Toggle.Style.OnOffOn?this.dom.innerToggle.style.opacity=.5:this.dom.momentary.style.opacity=.5))},configurable:!1}),t._countDownInterval=function(){this._protected.intervalCount=this._protected.intervalCount-1e3;var t=this._protected.intervalCount/1e3;0>t&&(t=0),this.dom.duration.number.textContent=t,this.dom.duration.bar.style.width=100*(1-(this._protected.duration-this._protected.intervalCount)/this._protected.duration)+"%",0>=this._protected.intervalCount&&(window.clearInterval(this._protected.interval),this.position=0)}.$bind(t),t._providerUpdate=function(t){this._setPosition(t)}.$bind(t),t._ondestroy=function(){this._protected.interval&&window.clearInterval(this._protected.interval)}.$bind(t),t.dom}function $ui_WindowPane(t,e){if($ui_CoreScreen.call(this,t,e),t){if($ui.addClass(t.dom,"ui-window-pane theme-screen-background-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.dom.style.width=t.width?t.width+"px":window.innerWidth+"px",t.dom.backgroundDiv=document.createElement("div"),$ui.addClass(t.dom.backgroundDiv,"background theme-screen-background-color"),t.dom.appendChild(t.dom.backgroundDiv),t.backCaption){t.dom.backBar=document.createElement("div"),$ui.addClass(t.dom.backBar,"back-bar theme-screen-background-color theme-brand-border-color"),$ui.addClass(t.dom,"has-back"),t.dom.appendChild(t.dom.backBar),t.dom.backCaption=document.createElement("span"),t.dom.backCaption.textContent=t.backCaption,t.dom.backCaption.model=t,$ui.addClass(t.dom.backCaption,"caption theme-text-color"),t.dom.backBar.appendChild(t.dom.backCaption),t.dom.backCaption.onclick=function(){if($ui.playTouchSound(),this.model.onbackclick){var t=this.model.onbackclick();0!=t&&$ui.pop()}else $ui.pop()};try{Object.defineProperty(t,"backCaption",{get:function(){return t.dom.backCaption.textContent},set:function(e){console.log("RPW: setting caption to "+e),t.dom.backCaption.textContent=e}})}catch(i){console.log("RPW: ignoring "+i)}}if(t.setBackground=function(t){this.background&&(this.dom.backgroundDiv.style.opacity="0"),void 0!=t&&(this.background=t,this.background.repeat===!0?this.dom.backgroundDiv.style.backgroundRepeat="repeat":this.dom.backgroundDiv.style.backgroundSize="cover",this.background.img&&(this._loader=new Image,this._loader.model=this,this._loader.onload=function(){this.model.dom.backgroundDiv.style.backgroundImage='url("'+this.model.background.img+'")',this.model.dom.backgroundDiv.style.opacity="1",this.model._loader=null},this._loader.src=this.background.img))}.$bind(t),t.dom.contentDiv=document.createElement("div"),$ui.addClass(t.dom.contentDiv,"inner"),t.dom.appendChild(t.dom.contentDiv),t._protected.content=t.content,Object.defineProperty(t,"content",{get:function(){return this._protected.content},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","content"))},configurable:!1}),t._getControlListProperty=function(){return this.content}.$bind(t),t._getControlListDom=function(){return this.dom.contentDiv}.$bind(t),t.content)for(var o=0;t.content.length>o;o++)t._addComponent(t.content[o]);return t._onwindowpaneresize=function(){this.dom.style.width="",this.dom.style.right="0px"}.$bind(t),t._onbeforepop=function(){1==this.animated&&(this.dom.style["-webkit-animation-delay"]="",this.dom.style["-webkit-animation-name"]="ui-pane-slide-right")}.$bind(t),t._initialize=function(){this.background&&this.setBackground(this.background)}.$bind(t),t.dom}}function $ui_Browser(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-browser"),t._protected.isIFrame=window.$system&&1==$system.config.isEmulator?!1:!0,t.dom.chrome=document.createElement("div"),$ui.addClass(t.dom.chrome,"chrome theme-brand-border-color"),t.dom.appendChild(t.dom.chrome),t.dom.inputDiv=document.createElement("div"),$ui.addClass(t.dom.inputDiv,"inputDiv theme-light-background-color theme-brand-border-color"),t.dom.chrome.appendChild(t.dom.inputDiv),t.dom.input=document.createElement("input"),t.dom.input.model=t,t.dom.input.setAttribute("spellcheck","false"),t.dom.inputDiv.appendChild(t.dom.input),t.dom.input.onclick=function(t){30>=this.offsetWidth-t.offsetX&&(this.value="")},t.dom.input.onkeyup=function(t){13==t.keyCode&&(this.model.src=this.value)},t.dom.icon=document.createElement("div"),$ui.addClass(t.dom.icon,"icon"),t.dom.inputDiv.appendChild(t.dom.icon),t.dom.spinner=new $ui_Spinner({component:$ui.Spinner,size:$ui.Size.TINY,forceColor:"dark"},e),t.dom.spinner.style.display="none",t.dom.icon.appendChild(t.dom.spinner),t._backBtn={style:"back",parent:t},new $ui_BrowserButton(t._backBtn,e),t.dom.chrome.appendChild(t._backBtn.dom),t._backBtn.dom.onclick=function(){if(0==this.model.parent._protected.isIFrame){var t=this.model.parent.dom.contentWindow;1==t.canGoBack()&&t.back()}},t._nextBtn={style:"next",parent:t},new $ui_BrowserButton(t._nextBtn,e),t.dom.chrome.appendChild(t._nextBtn.dom),t._nextBtn.dom.onclick=function(){if(0==this.model.parent._protected.isIFrame){var t=this.model.parent.dom.contentWindow;1==t.canGoForward()&&t.forward()}},t._refreshBtn={style:"stop",parent:t},new $ui_BrowserButton(t._refreshBtn,e),t.dom.chrome.appendChild(t._refreshBtn.dom),t._refreshBtn.dom.onclick=function(){if(0==this.model.parent._protected.isIFrame){var t=this.model.parent.dom.contentWindow;"stop"==this.model.style?t.stop():t.reload()}},t._newTabBtn={style:"new-tab",parent:t},new $ui_BrowserButton(t._newTabBtn,e),t.dom.chrome.appendChild(t._newTabBtn.dom),t._newTabBtn.dom.onclick=function(){0==this.model.parent._protected.isIFrame&&$ui.toast("Sorry! Tabs aren't enabled yet in the emulator")},t._favoriteBtn={style:"favorite",parent:t},new $ui_BrowserButton(t._favoriteBtn,e),t.dom.chrome.appendChild(t._favoriteBtn.dom),t._favoriteBtn.dom.onclick=function(){0==this.model.parent._protected.isIFrame&&this.model.parent.onfavoriteclick&&this.model.parent.onfavoriteclick()},t._bookmarksBtn={style:"bookmarks",parent:t},new $ui_BrowserButton(t._bookmarksBtn,e),t.dom.chrome.appendChild(t._bookmarksBtn.dom),t._bookmarksBtn.dom.onclick=function(){0==this.model.parent._protected.isIFrame&&this.model.parent.onbookmarksclick&&this.model.parent.onbookmarksclick()},t.dom.browserDiv=document.createElement("div"),$ui.addClass(t.dom.browserDiv,"browserDiv"),t.dom.appendChild(t.dom.browserDiv),t.dom.browserDiv.model=t,t.dom.contentWindow=t._protected.isIFrame===!0?document.createElement("iframe"):document.createElement("webview"),$ui.addClass(t.dom.contentWindow,"window"),t.dom.browserDiv.appendChild(t.dom.contentWindow),t._protected.src=t.src,Object.defineProperty(t,"src",{get:function(){return this._protected.src},set:function(t){t!=this._protected.src&&(this._protected.src=t,this._setSrc(t))},configurable:!1}),t._setSrc=function(t){this.dom.input.value=t,this._onstartload(),this.dom.contentWindow.src=t}.$bind(t),t._onstartload=function(){this.dom.spinner.style.display="",this._refreshBtn.setStyle("stop"),$ui.removeClass(this.dom.icon,"page"),0==this._protected.isIFrame&&void 0!=event&&1==event.isTopLevel&&(this.dom.input.value=event.url,this._protected.src=event.url)}.$bind(t),t._onload=function(){this.dom.spinner.style.display="none",$ui.addClass(this.dom.icon,"page"),this._refreshBtn.setStyle("refresh")}.$bind(t),t._onbeforepop=function(){this.dom.contentWindow.style.display="none"}.$bind(t),t._onshow=function(){this.src&&this._setSrc(this.src),this.dom.contentWindow.style.visibility="visible",this._protected.isIFrame===!0?this.dom.contentWindow.onload=t._onload:(this.dom.contentWindow.addEventListener("loadstart",this._onstartload),this.dom.contentWindow.addEventListener("loadstop",this._onload),this.dom.contentWindow.style.width=this.dom.browserDiv.offsetWidth+"px",this.dom.contentWindow.style.height=this.dom.browserDiv.offsetHeight+"px")}.$bind(t),t._ondestroy=function(){0==this._protected.isIFrame&&(this.dom.contentWindow.removeEventListener("loadstart",this._onstartload),this.dom.contentWindow.removeEventListener("loadstop",this._onload))}.$bind(t),t._onresize=function(){if(0==this._protected.isIFrame){var t=this.dom.contentWindow;t.style.display="none",setTimeout(function(){t.style.display="block"},500)}}.$bind(t),t.dom}function $ui_BrowserButton(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"button"),t.style&&$ui.addClass(t.dom,t.style),t.dom.onclick=function(){this.model.enabled!==!1&&($ui.playTouchSound(),this.model.onclick&&this.model.onclick())},t.dom.ontouchstart=function(){this.model.enabled!==!1&&$ui.addClass(this,"theme-brand-background-color")},t.dom.ontouchend=function(){this.model.enabled!==!1&&$ui.removeClass(this,"theme-brand-background-color")},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend),t.setStyle=function(t){t!=this.style&&(void 0!=this.style&&$ui.removeClass(this.dom,this.style),$ui.addClass(this.dom,t),this.style=t)}.$bind(t),t.dom}function $ui_ColorListItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-color-list-item"),void 0!=t.color&&(t.dom.style.backgroundColor=t.color),t._protected.color=t.color,Object.defineProperty(t,"color",{get:function(){return this._protected.color},set:function(t){t!=this._protected.color&&(this._protected.color=t,this.dom.style.backgroundColor=void 0==color?"":t)},configurable:!1}),1==t.selected?$ui.addClass(t.dom,"selected"):t.selected=!1,t._protected.selected=t.selected,Object.defineProperty(t,"selected",{get:function(){return this._protected.selected},set:function(e){e!=this._protected.selected&&(void 0==e&&(e=!1),this._protected.selected=e,0==e?$ui.removeClass(t.dom,"selected"):$ui.addClass(t.dom,"selected"))},configurable:!1}),t.dom.addEventListener("click",function(){var t,e;for(t=0;this.model.parent.items.length>t;t++)e=this.model.parent.items[t],e!=this.model&&(e.selected=!1);if(this.model.selected=!0,this.model.parent.onaction){var i=new ListEvent(this.model,$ui.ColorListItem.ColorListEvent.ONCLICK);this.model.parent._onaction(this.model,i)}$ui.playTouchSound()},!1),t.dom}function $ui_DialPad(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-dial-pad"),t.number||(t.number={}),t.dom.number=new $ui_DialPadNumber(t.number,e),t.dom.appendChild(t.dom.number),t._buttons=[{caption:"1"},{caption:"2",letters:"ABC"},{caption:"3",letters:"DEF"},{caption:"4",letters:"GHI"},{caption:"5",letters:"JKL"},{caption:"6",letters:"MNO"},{caption:"7",letters:"PQRS"},{caption:"8",letters:"TUV"},{caption:"9",letters:"WXYZ"},{caption:"*",center:!0},{caption:"0",letters:"+"},{caption:"#",center:!0}];var i,o;for(i=0;t._buttons.length>i;i++)o=t._buttons[i],o.parent=t,dom=new $ui_DialPadButton(o,e),t.dom.appendChild(dom);return t.dom.dialButton=new $ui_DialPadButton({parent:t,letters:"Call",dial:!0},e),t.dom.appendChild(t.dom.dialButton),t.dom}function $ui_DialPadButton(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"button theme-text-color"),t._private={},t._private.playTouchSound=function(){switch(this.caption){case"0":$system.audio.playSoundEffect($system.SoundEffect.TONE0);break;case"1":$system.audio.playSoundEffect($system.SoundEffect.TONE1);break;case"2":$system.audio.playSoundEffect($system.SoundEffect.TONE2);break;case"3":$system.audio.playSoundEffect($system.SoundEffect.TONE3);break;case"4":$system.audio.playSoundEffect($system.SoundEffect.TONE4);break;case"5":$system.audio.playSoundEffect($system.SoundEffect.TONE5);break;case"6":$system.audio.playSoundEffect($system.SoundEffect.TONE6);break;case"7":$system.audio.playSoundEffect($system.SoundEffect.TONE7);break;case"8":$system.audio.playSoundEffect($system.SoundEffect.TONE8);break;case"9":$system.audio.playSoundEffect($system.SoundEffect.TONE9);break;case"#":$system.audio.playSoundEffect($system.SoundEffect.TONE_POUND);break;case"*":$system.audio.playSoundEffect($system.SoundEffect.TONE_ASTERIK)}}.$bind(t),t.dial?(t.dom.letters=document.createElement("div"),$ui.addClass(t.dom.letters,"letters"),t.dom.appendChild(t.dom.letters),t.dom.letters.textContent=t.letters,$ui.addClass(t.dom,"dial theme-call-button"),t.dom.ontouchstart=function(){this.style.opacity=.7},t.dom.ontouchend=function(){this.style.opacity=1}):(t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption"),t.dom.captionDiv.textContent=t.caption,t.dom.appendChild(t.dom.captionDiv),t.center===!0&&$ui.addClass(t.dom.captionDiv,"centered"),t.dom.letters=document.createElement("div"),$ui.addClass(t.dom.letters,"letters"),t.dom.appendChild(t.dom.letters),t.letters&&(t.dom.letters.textContent=t.letters),t.dom.ontouchstart=function(){$ui.addClass(this,"theme-brand-background-color"),$ui.addClass(this,"theme-highlight-text-color"),this._private.playTouchSound()}.$bind(t),t.dom.ontouchend=function(){$ui.removeClass(this,"theme-brand-background-color"),$ui.removeClass(this,"theme-highlight-text-color")}),t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.onclick=function(){var t={caption:this.model.caption,letters:this.model.letters,dial:this.model.dial};void 0!=this.model.parent&&this.model.parent.onkeypadpress&&this.model.parent.onkeypadpress(t)},t.dom}function $ui_DialPadNumber(t,e){function i(t){return t.length>13?"... "+t.substring(t.length-13):11==t.length?t.substring(0,1)+" "+i(t.substring(1)):10==t.length?"("+t.substring(0,3)+") "+i(t.substring(3)):7==t.length?t.substring(0,3)+"-"+t.substring(3):t}function o(t){t.ontouchstart=n,t.ontouchend=s,t.ontouchcancel=s,$ui.isMobileDevice()||(t.onmousedown=n,t.onmouseup=s,t.onmouseleave=s)}$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-dial-pad-number theme-dark-background-color");var n=function(){this.dom.del.style.opacity="0.7"}.$bind(t),s=function(){this.dom.del.style.opacity=this.number.length>0?"1":"0.7"}.$bind(t);return t._private={},t._private.number="",t._private.prettyNumber="",t.dom.del=document.createElement("div"),$ui.addClass(t.dom.del,"delete"),t.dom.appendChild(t.dom.del),t.dom.number=document.createElement("div"),$ui.addClass(t.dom.number,"number theme-highlight-text-color"),t.dom.appendChild(t.dom.number),o(t.dom.del),t.dom.del.onclick=function(t){0!=this.number.length&&this.ondeleteclick&&this.ondeleteclick(t)}.$bind(t),Object.defineProperty(t,"number",{get:function(){return this._private.number}.$bind(t),set:function(t){var e=t.length;this.dom.del.style.opacity=0==e?.7:1,this._private.prettyNumber=i(t),this.dom.number.textContent=this._private.prettyNumber,this._private.number=t,this._private.lastNumber!=t&&(this._private.lastNumber=t,this.onnumberchanged&&this.onnumberchanged({number:t,prettyNumber:this._private.prettyNumber}))}.$bind(t)}),Object.defineProperty(t,"prettyNumber",{get:function(){return this._private.prettyNumber}}),t.appendToNumber=function(t){this.number=this._private.number+t}.$bind(t),t.deleteFromNumber=function(){var t=(new Date).getTime();if(this._private.lastDelete&&200>t-this._private.lastDelete)this.number="";else{var e=this.number;e&&e.length>0&&(this.number=e.substring(0,e.length-1))}this._private.lastDelete=t}.$bind(t),t.dom}function $ui_Map(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-map"),t._protected.isIFrame=$system&&1==$system.config.isEmulator?!1:!0,t.dom.mapDiv=document.createElement("div"),$ui.addClass(t.dom.mapDiv,"mapDiv theme-screen-background-color"),t.dom.appendChild(t.dom.mapDiv),1==t._protected.isIFrame?(t.dom.contentWindow=document.createElement("iframe"),$ui.addClass(t.dom.contentWindow,"window")):(t.dom.contentWindow=document.createElement("webview"),$ui.addClass(t.dom.contentWindow,"webview")),t.dom.mapDiv.appendChild(t.dom.contentWindow),t._onshow=function(){this.src&&(this.dom.contentWindow.src=this.src),this.dom.contentWindow.style.display="block",0==this._protected.isIFrame&&(this.dom.contentWindow.style.width=this.dom.mapDiv.offsetWidth+"px",this.dom.contentWindow.style.height=this.dom.mapDiv.offsetHeight+7+"px")}.$bind(t),t._onresize=function(){if(0==this._protected.isIFrame){var t=this.dom.contentWindow;t.style.display="none",setTimeout(function(){t.style.display="block"},500)}}.$bind(t),t.dom}function $ui_MediaPlayer(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-media-player"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),void 0==t.paused&&(t.paused=!1),t.dom.coverArt=document.createElement("div"),$ui.addClass(t.dom.coverArt,"cover-art"),t.dom.appendChild(t.dom.coverArt),t.dom.coverArt.loader=new Image,t.dom.coverArt.loader.model=t,t.dom.coverArt.loader.onload=function(){this.model.dom.coverArt.style.backgroundImage='url("'+this.model.coverArt+'")',this.model.dom.coverArt.style.opacity="0.3"},t.dom.controls=document.createElement("div"),$ui.addClass(t.dom.controls,"controls theme-text-color"),t.dom.appendChild(t.dom.controls),t.dom.artist=document.createElement("div"),$ui.addClass(t.dom.artist,"artist"),t.dom.controls.appendChild(t.dom.artist),t.dom.song=document.createElement("div"),$ui.addClass(t.dom.song,"song"),t.dom.controls.appendChild(t.dom.song),t.dom.album=document.createElement("div"),$ui.addClass(t.dom.album,"album"),t.dom.controls.appendChild(t.dom.album),t.dom.playbox=document.createElement("div"),$ui.addClass(t.dom.playbox,"playbox"),t.dom.controls.appendChild(t.dom.playbox),t.dom.skipBack=document.createElement("div"),t.dom.skipBack.model=t,$ui.addClass(t.dom.skipBack,"button"),$ui.addClass(t.dom.skipBack,"skip-back"),t.dom.playbox.appendChild(t.dom.skipBack),t.dom.skipForward=document.createElement("div"),t.dom.skipForward.model=t,$ui.addClass(t.dom.skipForward,"button"),$ui.addClass(t.dom.skipForward,"skip-forward"),t.dom.playbox.appendChild(t.dom.skipForward),t.dom.play=document.createElement("div"),t.dom.play.model=t,$ui.addClass(t.dom.play,"button"),$ui.addClass(t.dom.play,"play"),t.dom.playbox.appendChild(t.dom.play),t.dom.play.onclick=function(){$ui.playTouchSound(),1==this.model.paused?this.model.play():this.model.pause()},t.dom.play.ontouchstart=function(){this.style.opacity="0.7"},t.dom.play.ontouchend=function(){this.style.opacity="1.0"},t.dom.play.ontouchcancel=t.dom.ontouchend,t.dom.skipBack.ontouchstart=t.dom.play.ontouchstart,t.dom.skipBack.ontouchend=t.dom.play.ontouchend,t.dom.skipBack.ontouchcancel=t.dom.play.ontouchend,t.dom.skipBack.onclick=function(){$ui.playTouchSound(),this.model.skipBack()},t.dom.skipForward.ontouchstart=t.dom.play.ontouchstart,t.dom.skipForward.ontouchend=t.dom.play.ontouchend,t.dom.skipForward.ontouchcancel=t.dom.play.ontouchend,t.dom.skipForward.onclick=function(){$ui.playTouchSound(),this.model.skipForward()},$ui.isMobileDevice()||(t.dom.play.onmousedown=t.dom.play.ontouchstart,t.dom.play.onmouseup=t.dom.play.ontouchend,t.dom.play.onmouseleave=t.dom.play.ontouchend),t.dom.menu=document.createElement("div"),t.dom.menu.model=t,$ui.addClass(t.dom.menu,"menu theme-border-color"),t.dom.appendChild(t.dom.menu),t.dom.menu.onclick=function(){$ui.playTouchSound(),this.model.onmenuclick&&this.model.onmenuclick()},t.dom.menu.ontouchstart=function(){$ui.addClass(this,"theme-brand-background-color")},t.dom.menu.ontouchend=function(){$ui.removeClass(this,"theme-brand-background-color")},t.dom.menu.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.menu.onmousedown=t.dom.menu.ontouchstart,t.dom.menu.onmouseup=t.dom.menu.ontouchend,t.dom.menu.onmouseleave=t.dom.menu.ontouchend),t.dom.textButtonBox=document.createElement("div"),$ui.addClass(t.dom.textButtonBox,"textButtonBox"),t.dom.appendChild(t.dom.textButtonBox),t.dom.buttonRepeat=document.createElement("div"),t.dom.buttonRepeat.model=t,$ui.addClass(t.dom.buttonRepeat,"text-button theme-text-color"),$ui.addClass(t.dom.buttonRepeat,"left"),t.dom.buttonRepeat.textContent="Repeat Off",t.dom.textButtonBox.appendChild(t.dom.buttonRepeat),t.dom.buttonSource=document.createElement("div"),$ui.addClass(t.dom.buttonSource,"text-button theme-text-color"),$ui.addClass(t.dom.buttonSource,"center"),t.dom.buttonSource.textContent="Source",t.dom.textButtonBox.appendChild(t.dom.buttonSource),t.dom.buttonShuffle=document.createElement("div"),t.dom.buttonShuffle.model=t,$ui.addClass(t.dom.buttonShuffle,"text-button theme-text-color"),$ui.addClass(t.dom.buttonShuffle,"right"),t.dom.buttonShuffle.textContent="Shuffle Off",t.dom.textButtonBox.appendChild(t.dom.buttonShuffle),t.dom.buttonShuffle.ontouchstart=t.dom.play.ontouchstart,t.dom.buttonShuffle.ontouchend=t.dom.play.ontouchend,t.dom.buttonShuffle.ontouchcancel=t.dom.play.ontouchcancel,t.dom.buttonShuffle.onclick=function(){$ui.playTouchSound(),this.model.toggleShuffle()},t.dom.buttonRepeat.ontouchstart=t.dom.play.ontouchstart,t.dom.buttonRepeat.ontouchend=t.dom.play.ontouchend,t.dom.buttonRepeat.ontouchcancel=t.dom.play.ontouchcancel,t.dom.buttonRepeat.onclick=function(){$ui.playTouchSound(),this.model.toggleRepeat()},t.setRepeat=function(t){0==t?this.dom.buttonRepeat.textContent="Repeat Off":1==t?this.dom.buttonRepeat.textContent="Repeat One":2==t&&(this.dom.buttonRepeat.textContent="Repeat All")}.$bind(t),t.setShuffle=function(t){this.dom.buttonShuffle.textContent=t?"Shuffle On":"Shuffle Off"}.$bind(t),t.setAlbum=function(t){this.album=t,this.dom.album.textContent=void 0!=t?t:""}.$bind(t),t.setSong=function(t){this.song=t,this.dom.song.textContent=void 0!=t?t:""}.$bind(t),t.setArtist=function(t){this.artist=t,this.dom.artist.textContent=void 0!=t?t:""
}.$bind(t),t.setCoverArt=function(t){this.coverArt=t,this.dom.coverArt.style.opacity="0",void 0!=t&&(this.dom.coverArt.loader.src=t)}.$bind(t),t.setDuration=function(t){this.duration=t}.$bind(t),t._renderPlayState=function(){1==this.paused?$ui.removeClass(this.dom.play,"pause"):$ui.addClass(this.dom.play,"pause")}.$bind(t),t.play=function(){0!=this.paused&&(this.paused=!1,this._renderPlayState(),this.onplay&&this.onplay())}.$bind(t),t.skipBack=function(){this.onskipback&&this.onskipback()}.$bind(t),t.setPaused=function(t){this.paused!=t&&(this.paused=t,this._renderPlayState())}.$bind(t),t.skipForward=function(){this.onskipforward&&this.onskipforward()}.$bind(t),t.toggleRepeat=function(){this.ontogglerepeat&&this.ontogglerepeat()}.$bind(t),t.toggleShuffle=function(){this.ontoggleshuffle&&this.ontoggleshuffle()}.$bind(t),t.pause=function(){1!=this.paused&&(this.paused=!0,this._renderPlayState(),this.onpause&&this.onpause())}.$bind(t),t._providerUpdate=function(t){void 0==t&&(t={}),this.setCoverArt(t.coverArt),this.setArtist(t.artist),this.setSong(t.song),this.setAlbum(t.album),this.paused=t.paused,this._renderPlayState()}.$bind(t),void 0==t.provider&&t._providerUpdate(t),t.dom}function $ui_MenuItem(t,e){return $ui_CoreComponent.call(this,t,e),1!=t.inMenu?(console.log('ERROR: A "MenuItem" can only be created as part of a menu in an "OnlineScreen"'),void 0):($ui.addClass(t.dom,"ui-menu-item"),1==t.selected?$ui.addClass(t.dom,"selected"):t.selected=!1,t._protected.selected=t.selected,Object.defineProperty(t,"selected",{get:function(){return this._protected.selected},set:function(e){e!=this._protected.selected&&(this._protected.selected=e,1==e?$ui.addClass(t.dom,"selected"):$ui.removeClass(t.dom,"selected"))},configurable:!1}),t.caption&&(t.dom.textContent=t.caption),t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){t!=this._protected.caption&&(this._protected.caption=t,this.dom.textContent=t)},configurable:!1}),t._doClick=function(){if(1!=this.selected){this.selected=!0;var t,e,i=this.parent.menu;for(t=0;i.length>t;t++)e=i[t],e!=this&&(e.selected=!1);this.onclick&&this.onclick()}}.$bind(t),$ui.isMobileDevice()?t.dom.ontouchend=t._doClick:t.dom.onclick=t._doClick,t.dom.onmouseenter=function(){this.style.color="#D94646"},t.dom.onmouseleave=function(){this.style.color=""},t.dom)}function $ui_OnlineScreen(t,e){if($ui_CoreScreen.call(this,t,e),t){if($ui.addClass(t.dom,"ui-online-screen"),t._protected.expanded=!1,t.dom.titleBar=document.createElement("div"),$ui.addClass(t.dom.titleBar,"title-bar"),t.dom.appendChild(t.dom.titleBar),t.dom.menu=document.createElement("div"),$ui.addClass(t.dom.menu,"menu"),t.dom.titleBar.appendChild(t.dom.menu),t.dom.logoTarget=document.createElement("div"),t.dom.logoTarget.model=t,$ui.addClass(t.dom.logoTarget,"logo-target"),t.dom.menu.appendChild(t.dom.logoTarget),t.dom.logoTarget.onclick=function(){this.model.onlogoclick&&this.model.onlogoclick()},t.dom.innerMenu=document.createElement("div"),$ui.addClass(t.dom.innerMenu,"inner"),t.dom.menu.appendChild(t.dom.innerMenu),t.dom.hamburger=document.createElement("div"),t.dom.hamburger.model=t,$ui.addClass(t.dom.hamburger,"hamburger"),t.dom.menu.appendChild(t.dom.hamburger),t._openHamburger=function(t){1!=this._protected.expanded&&(this._protected.expanded=!0,this.dom.innerMenu.style.display="block",t.stopPropagation(),$ui.isMobileDevice()?document.addEventListener("touchend",this._cancelOpen):document.addEventListener("click",this._cancelOpen))}.$bind(t),$ui.isMobileDevice()?t.dom.hamburger.ontouchend=t._openHamburger:t.dom.hamburger.onclick=t._openHamburger,t.dom.login=document.createElement("div"),$ui.addClass(t.dom.login,"login"),t.dom.menu.appendChild(t.dom.login),t.dom.login.textContent="Log in / Setup",t.dom.login.style.backgroundColor=$ui.theme.color,t.dom.contentDiv=document.createElement("div"),$ui.addClass(t.dom.contentDiv,"inner"),t.dom.appendChild(t.dom.contentDiv),t._protected.titleBar=t.titleBar,Object.defineProperty(t,"titleBar",{get:function(){return this._protected.titleBar},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","titleBar"))},configurable:!1}),void 0==t.menu&&(t.menu=[]),t._protected.menu=t.menu,Object.defineProperty(t,"menu",{get:function(){return this._protected.menu},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","menu"))},configurable:!1}),void 0==t.content&&(t.content=[]),t._protected.content=t.content,Object.defineProperty(t,"content",{get:function(){return this._protected.content},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","content"))},configurable:!1}),t.menu){var i,o,n,s=!1;for(i=0;t.menu.length>i;i++)o=t.menu[i],o.component==$ui.MenuItem&&(o.inMenu=!0,o.parent=t,1==o.selected&&(1==s?o.selected=!1:s=!0),n=$ui.createControl(o,t),n&&t.dom.innerMenu.appendChild(n))}if(t.content){var i,o,n;for(i=0;t.content.length>i;i++)o=t.content[i],n=$ui.createControl(o,t),n&&t.dom.contentDiv.appendChild(n)}return t._cancelOpen=function(){this.dom.innerMenu.style.display="none",this._protected.expanded=!1,$ui.isMobileDevice()?document.removeEventListener("touchend",this._cancelOpen):document.removeEventListener("click",this._cancelOpen)}.$bind(t),t.dom}}function $ui_PhoneLogListItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-phone-log-list-item theme-screen-background-color theme-text-color theme-dark-border-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),void 0==t.style&&(t.style=$ui.PhoneLogListItem.INCOMING),$ui.addClass(t.dom,t.style),t.dom.details=document.createElement("div"),$ui.addClass(t.dom.details,"details"),t.dom.appendChild(t.dom.details),t.dom.titleArea=document.createElement("div"),$ui.addClass(t.dom.titleArea,"title"),t.dom.titleArea.textContent=t.title,t.dom.details.appendChild(t.dom.titleArea),t.style===$ui.PhoneLogListItem.MISSED&&$ui.addClass(t.dom.titleArea,"theme-brand-text-color"),t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption theme-brand-text-color"),t.dom.details.appendChild(t.dom.captionDiv),t.caption?t.dom.captionDiv.textContent=t.caption:$ui.addClass(t.dom,"no-caption"),t.dom.ontouchstart=function(){$ui.removeClass(this,"theme-screen-background-color"),$ui.addClass(this,"theme-brand-background-color")},t.dom.ontouchend=function(){$ui.removeClass(this,"theme-brand-background-color"),$ui.addClass(this,"theme-screen-background-color")},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.addEventListener("click",function(){if(void 0!=this.model.parent.onaction){var t=new $ui_ListEvent(this.model,$ui.PhoneLogListItem.PhoneLogListEvent.ONCLICK);this.model.parent._onaction(this.model,t)}},!1),t.dom}function $ui_PostListItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-post-list-item theme-post-control"),t.dom.user=document.createElement("div"),$ui.addClass(t.dom.user,"user-details"),t.dom.appendChild(t.dom.user),t.dom.userName=document.createElement("div"),$ui.addClass(t.dom.userName,"caption"),t.dom.user.appendChild(t.dom.userName),t.dom.avatar=document.createElement("div"),$ui.addClass(t.dom.avatar,"avatar"),t.dom.user.appendChild(t.dom.avatar),t.dom.postTime=document.createElement("div"),$ui.addClass(t.dom.postTime,"time"),t.dom.user.appendChild(t.dom.postTime),t.dom.picture=document.createElement("img"),$ui.addClass(t.dom.picture,"picture"),t.dom.appendChild(t.dom.picture),t.dom.picture.onload=function(){this.style.opacity=1},t.dom.titleDiv=document.createElement("div"),$ui.addClass(t.dom.titleDiv,"title"),t.dom.appendChild(t.dom.titleDiv),t.dom.contentDiv=document.createElement("div"),$ui.addClass(t.dom.titleDiv,"content"),t.dom.appendChild(t.dom.contentDiv),t.dom.line=document.createElement("div"),$ui.addClass(t.dom.line,"line theme-brand-background-color"),t.dom.appendChild(t.dom.line),t.dom.buttons=document.createElement("div"),$ui.addClass(t.dom.buttons,"buttons"),t.dom.appendChild(t.dom.buttons),t.dom.like=document.createElement("div"),$ui.addClass(t.dom.like,"button like"),t.dom.buttons.appendChild(t.dom.like),t.dom.comment=document.createElement("div"),$ui.addClass(t.dom.comment,"button comment"),t.dom.buttons.appendChild(t.dom.comment),void 0!=t.img&&(t.dom.picture.src=t.img),t._protected.img=t.img,Object.defineProperty(t,"img",{get:function(){return this._protected.img},set:function(t){t!=this._protected.img&&(this.dom.picture.style.opacity=0,void 0!=t&&(this.dom.picture.src=t),this._protected.img=t)},configurable:!1}),void 0!=t.avatar&&(t.dom.avatar.style.backgroundImage='url("'+t.avatar+'")'),t._protected.avatar=t.avatar,Object.defineProperty(t,"avatar",{get:function(){return this._protected.avatar},set:function(t){t!=this._protected.avatar&&(this.dom.avatar.style.backgroundImage=void 0==t?"":'url("'+t+'")',this._protected.avatar=t)},configurable:!1}),void 0!=t.time&&(t.dom.postTime.textContent=$ui.calculateTimeInPast(new Date,t.time)),t._protected.time=t.time,Object.defineProperty(t,"time",{get:function(){return this._protected.time},set:function(t){t!=this._protected.time&&(this.dom.postTime.textContent=void 0==t?"?":$ui.calculateTimeInPast(new Date,t),this._protected.user=t)},configurable:!1}),void 0!=t.user&&(t.dom.userName.textContent=t.user),t._protected.user=t.user,Object.defineProperty(t,"user",{get:function(){return this._protected.user},set:function(t){t!=this._protected.user&&(this.dom.userName.textContent=void 0==t?"":t,this._protected.user=t)},configurable:!1}),void 0!=t.numLikes&&(t.dom.like.textContent=t.numLikes),t._protected.numLikes=t.numLikes,Object.defineProperty(t,"numLikes",{get:function(){return this._protected.numLikes},set:function(t){t!=this._protected.numLikes&&(this.dom.like.textContent=void 0==t?"":t,this._protected.numLikes=t)},configurable:!1}),void 0!=t.numLikes&&(t.dom.comment.textContent=t.numComments),t._protected.numComments=t.numComments,Object.defineProperty(t,"numComments",{get:function(){return this._protected.numComments},set:function(t){t!=this._protected.numComments&&(this.dom.comment.textContent=void 0==t?"":t,this._protected.numComments=t)},configurable:!1}),void 0!=t.title&&(t.dom.titleDiv.style.display="block",t.dom.titleDiv.textContent=t.title),t._protected.title=t.title,Object.defineProperty(t,"title",{get:function(){return this._protected.title},set:function(t){t!=this._protected.title&&(this._protected.title=t,void 0==t||""==t?this.dom.titleDiv.style.display="none":(this.dom.titleDiv.style.display="block",this.dom.titleDiv.textContent=t))},configurable:!1}),void 0!=t.caption&&(t.dom.contentDiv.textContent=t.caption),t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){t!=this._protected.caption&&(this._protected.caption=t,this.dom.contentDiv.textContent=void 0==t||""==t?"":t)},configurable:!1}),t.dom}function $ui_RawContent(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-raw-content"),t._protected.xhr=new XMLHttpRequest,t._protected.xhr.model=t,t._protected.xhr.onreadystatechange=function(){4==this.readyState&&(200==this.status?this.model.dom.innerHTML=this.responseText:0!=this.status&&console.log("ERROR: XHR returned status code: "+this.status))},t.src&&(t._protected.xhr.open("GET",t.src,!0),t._protected.xhr.send()),t._protected.src=t.src,Object.defineProperty(t,"src",{get:function(){return this._protected.src},set:function(t){t!=this._protected.src&&(this._protected.src=t,this._protected.xhr.open("GET",t,!0),this._protected.xhr.send())},configurable:!1}),t.dom}function $ui_ResponsiveLayout(t,e){if($ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-responsive-layout"),t.dom.inner=document.createElement("div"),$ui.addClass(t.dom.inner,"inner"),t.dom.appendChild(t.dom.inner),void 0==t.content&&(t.content=[]),t._protected.content=t.content,Object.defineProperty(t,"content",{get:function(){return this._protected.content},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","content"))},configurable:!1}),t.content){var i,o,n;for(i=0;t.content.length>i;i++)o=t.content[i],n=$ui.createControl(o,t.screen),n&&t.dom.inner.appendChild(n)}return t.dom}function $ui_Suspension(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-suspension theme-border-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.dom.tank=document.createElement("div"),$ui.addClass(t.dom.tank,"tank theme-text-color"),t.dom.appendChild(t.dom.tank),t.dom.tank.label=document.createElement("div"),$ui.addClass(t.dom.tank.label,"label"),t.dom.tank.label.textContent="TANK",t.dom.tank.appendChild(t.dom.tank.label),t.dom.tank.pressure=document.createElement("div"),$ui.addClass(t.dom.tank.pressure,"pressure"),t.dom.tank.appendChild(t.dom.tank.pressure),t.dom.tank.psiLabel=document.createElement("div"),$ui.addClass(t.dom.tank.psiLabel,"psi"),t.dom.tank.psiLabel.textContent="PSI",t.dom.tank.appendChild(t.dom.tank.psiLabel),t.dom.topLeftGrid=document.createElement("div"),$ui.addClass(t.dom.topLeftGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.topLeftGrid),t.dom.topLeftGrid.style.left="0px",t.dom.topLeftGrid.style.top="0px",t.dom.topLeftGrid.style.borderRightStyle="dashed",t.dom.topLeftGrid.style.borderBottomStyle="dashed",t._protected.leftFrontButton={parent:t,pressure:t.leftFront,onclick:function(){this.parent.onleftfrontclick&&this.parent.onleftfrontclick()}},new $ui_PressureButton(t._protected.leftFrontButton,e),t.dom.leftFront=t._protected.leftFrontButton.dom,$ui.addClass(t.dom.leftFront,"top-left"),t.dom.topLeftGrid.appendChild(t.dom.leftFront),t.dom.topMiddleGrid=document.createElement("div"),$ui.addClass(t.dom.topMiddleGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.topMiddleGrid),t.dom.topMiddleGrid.style.left="33.3%",t.dom.topMiddleGrid.style.top="0px",t.dom.topMiddleGrid.style.borderBottomStyle="dashed",t.dom.topRightGrid=document.createElement("div"),$ui.addClass(t.dom.topRightGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.topRightGrid),t.dom.topRightGrid.style.right="0px",t.dom.topRightGrid.style.top="0px",t.dom.topRightGrid.style.borderBottomStyle="dashed",t.dom.topRightGrid.style.borderLeftStyle="dashed",t._protected.rightFrontButton={pressure:t.rightFront,parent:t,onclick:function(){this.parent.onrightfrontclick&&this.parent.onrightfrontclick()}},new $ui_PressureButton(t._protected.rightFrontButton,e),t.dom.rightFront=t._protected.rightFrontButton.dom,$ui.addClass(t.dom.rightFront,"top-right"),t.dom.topRightGrid.appendChild(t.dom.rightFront),t.dom.middleLeftGrid=document.createElement("div"),$ui.addClass(t.dom.middleLeftGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.middleLeftGrid),t.dom.middleLeftGrid.style.left="0px",t.dom.middleLeftGrid.style.top="33.3%",t.dom.middleLeftGrid.style.borderRightStyle="dashed",t.dom.middleLeftGrid.style.borderBottomStyle="dashed",t.dom.middleMiddleGrid=document.createElement("div"),$ui.addClass(t.dom.middleMiddleGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.middleMiddleGrid),t.dom.middleMiddleGrid.style.left="33.3%",t.dom.middleMiddleGrid.style.top="33.3%",t.dom.middleMiddleGrid.style.borderBottomStyle="dashed",t.dom.middleRightGrid=document.createElement("div"),$ui.addClass(t.dom.middleRightGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.middleRightGrid),t.dom.middleRightGrid.style.right="0px",t.dom.middleRightGrid.style.top="33.3%",t.dom.middleRightGrid.style.borderBottomStyle="dashed",t.dom.middleRightGrid.style.borderLeftStyle="dashed",t.dom.bottomLeftGrid=document.createElement("div"),$ui.addClass(t.dom.bottomLeftGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.bottomLeftGrid),t.dom.bottomLeftGrid.style.left="0px",t.dom.bottomLeftGrid.style.bottom="0px",t.dom.bottomLeftGrid.style.borderRightStyle="dashed",t._protected.leftRearButton={pressure:t.leftRear,parent:t,onclick:function(){this.parent.onleftrearclick&&this.parent.onleftrearclick()}},new $ui_PressureButton(t._protected.leftRearButton,e),t.dom.leftRear=t._protected.leftRearButton.dom,$ui.addClass(t.dom.leftRear,"bottom-left"),t.dom.bottomLeftGrid.appendChild(t.dom.leftRear),t.dom.bottomMiddleGrid=document.createElement("div"),$ui.addClass(t.dom.bottomMiddleGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.bottomMiddleGrid),t.dom.bottomMiddleGrid.style.left="33.3%",t.dom.bottomMiddleGrid.style.bottom="0px",t.dom.bottomRightGrid=document.createElement("div"),$ui.addClass(t.dom.bottomRightGrid,"grid-cell theme-brand-border-color"),t.dom.appendChild(t.dom.bottomRightGrid),t.dom.bottomRightGrid.style.right="0px",t.dom.bottomRightGrid.style.bottom="0px",t.dom.bottomRightGrid.style.borderLeftStyle="dashed",t._protected.rightRearButton={pressure:t.rightRear,parent:t,onclick:function(){this.parent.onrightrearclick&&this.parent.onrightrearclick()}},new $ui_PressureButton(t._protected.rightRearButton,e),t.dom.rightRear=t._protected.rightRearButton.dom,$ui.addClass(t.dom.rightRear,"bottom-right"),t.dom.bottomRightGrid.appendChild(t.dom.rightRear),void 0==t.leftFront&&(t.leftFront=0),t._protected.leftFront=t.leftFront,Object.defineProperty(t,"leftFront",{get:function(){return this._protected.leftFront},set:function(t){void 0==t&&(t=0),t!=this._protected.leftFront&&(this._protected.leftFront=t,this._protected.leftFrontButton.pressure=t)},configurable:!1}),void 0==t.rightFront&&(t.rightFront=0),t._protected.rightFront=t.rightFront,Object.defineProperty(t,"rightFront",{get:function(){return this._protected.rightFront},set:function(t){void 0==t&&(t=0),t!=this._protected.rightFront&&(this._protected.rightFront=t,this._protected.rightFrontButton.pressure=t)},configurable:!1}),void 0==t.rightRear&&(t.rightRear=0),t._protected.rightRear=t.rightRear,Object.defineProperty(t,"rightRear",{get:function(){return this._protected.rightRear},set:function(t){void 0==t&&(t=0),t!=this._protected.rightRear&&(this._protected.rightRear=t,this._protected.rightRearButton.pressure=t)},configurable:!1}),void 0==t.leftRear&&(t.leftRear=0),t._protected.leftRear=t.leftRear,Object.defineProperty(t,"leftRear",{get:function(){return this._protected.leftRear},set:function(t){void 0==t&&(t=0),t!=this._protected.leftRear&&(this._protected.leftRear=t,this._protected.leftRearButton.pressure=t)},configurable:!1}),void 0!=t.img&&(t.dom.style.backgroundImage='url("'+t.img+'")'),t._protected.img=t.img,Object.defineProperty(t,"img",{get:function(){return this._protected.img},set:function(t){t!=this._protected.img&&(this._protected.leftFront=t,this.dom.style.backgroundImage=void 0==t?"":'url("'+t+'")')},configurable:!1}),void 0==t.tank&&(t.tank=0),t.dom.tank.pressure.textContent=t.tank,t._protected.tank=t.tank,Object.defineProperty(t,"tank",{get:function(){return this._protected.tank},set:function(t){void 0==t&&(t=0),t!=this._protected.tank&&(this._protected.tank=t,this.dom.tank.pressure.textContent=t)},configurable:!1}),t.dom}function $ui_PressureButton(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-pressure-button theme-brand-text-color"),t.dom.onclick=function(){$ui.playTouchSound(),this.model.onclick&&this.model.onclick()},t.dom.ontouchstart=function(){$ui.removeClass(this,"theme-brand-text-color"),$ui.addClass(this,"theme-text-color")},t.dom.ontouchend=function(){$ui.removeClass(this,"theme-text-color"),$ui.addClass(this,"theme-brand-text-color")},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.displayDiv=document.createElement("div"),$ui.addClass(t.dom.displayDiv,"pressure"),t.dom.appendChild(t.dom.displayDiv),t.dom.psiLabel=document.createElement("div"),$ui.addClass(t.dom.psiLabel,"psi"),t.dom.appendChild(t.dom.psiLabel),t.dom.psiLabel.textContent="PSI",void 0==t.pressure&&(t.pressure=0),t.dom.displayDiv.textContent=t.pressure,t._protected.pressure=t.pressure,Object.defineProperty(t,"pressure",{get:function(){return this._protected.pressure},set:function(t){void 0==t&&(t=0),t!=this._protected.pressure&&(this._protected.pressure=t,this.dom.displayDiv.textContent=t)},configurable:!1}),t.dom}function $ui_SuspensionListItem(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-suspension-list-item theme-screen-background-color theme-text-color theme-dark-border-color"),1==$ui.theme.inHeadUnit&&$ui.addClass(t.dom,"in-head-unit"),t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption theme-text-color"),t.dom.appendChild(t.dom.captionDiv),void 0==t.style&&(t.style="fixed"),$ui.addClass(t.dom,t.style),t._protected.style=t.style,Object.defineProperty(t,"style",{get:function(){return this._protected.style},set:function(t){void 0==t&&(t="fixed"),t!=this._protected.style&&($ui.removeClass(this.dom,this._protected.style),$ui.addClass(this.dom,t),this._protected.style=t)},configurable:!1}),void 0==t.caption&&(t.caption=""),t.dom.captionDiv.textContent=t.caption,t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){void 0==t&&(t=""),t!=this._protected.caption&&(this._protected.caption=t,this.dom.captionDiv.textContent=t)},configurable:!1}),t.dom.ontouchstart=function(){$ui.removeClass(this,"theme-screen-background-color"),$ui.addClass(this,"theme-brand-background-color")},t.dom.ontouchend=function(){$ui.removeClass(this,"theme-brand-background-color"),$ui.addClass(this,"theme-screen-background-color")},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.onclick=function(){if(void 0!=this.model.parent.onaction){var t=new ListEvent(this.model,$ui.GenericListItem.GenericListEvent.ONCLICK);this.model.parent._onaction(this.model,t),$ui.playTouchSound()}},t.dom}function $ui_TileAcceleration(t,e){return $ui_CoreTileGauge.call(this,t,e),$ui.addClass(t.dom,"ui-tile-acceleration"),t._setTitle("Acceleration"),t._setAccent("Average G-Forces"),t._providerUpdate=function(t){void 0!=t?(this.min=t.min,this.max=t.max,this.value=t.value,this._populateData()):(this.min=0,this.max=1,this.value=0),this.showContent(!0)}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),void 0==t.provider&&t._providerUpdate({min:t.min,max:t.max,value:t.value}),t.dom}function $ui_TileBadge(t,e){return t._size=void 0,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-badge"),t.dom.caption=document.createElement("div"),$ui.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t.dom.next=document.createElement("div"),$ui.addClass(t.dom.next,"button"),$ui.addClass(t.dom.next,"next"),t.dom.contentDiv.appendChild(t.dom.next),t.dom.prev=document.createElement("div"),$ui.addClass(t.dom.prev,"button"),$ui.addClass(t.dom.prev,"prev"),t.dom.contentDiv.appendChild(t.dom.prev),t.dom.accent=document.createElement("div"),$ui.addClass(t.dom.accent,"accent"),t.dom.contentDiv.appendChild(t.dom.accent),t._providerUpdate=function(t){if(void 0!=t?(this.img=t.img,this.caption=t.caption,this.accent=t.accent):(this.img=void 0,this.caption=void 0,this.accent=void 0),this.dom.contentDiv.style.backgroundImage='url("'+this.img+'")',this.caption){var e=this.caption.replace(RegExp("<large>","g"),'<span class="tall">');e=e.replace(RegExp("</large>","g"),"</span>"),this.dom.caption.innerHTML=e}this.accent&&(this.dom.accent.textContent=this.accent),this.showContent(!0)}.$bind(t),void 0==t.provider&&t._providerUpdate({img:t.img,caption:t.caption,accent:t.accent}),t.dom}function $ui_TileBraking(t,e){return $ui_CoreTileGauge.call(this,t,e),$ui.addClass(t.dom,"ui-tile-braking"),t._setTitle("Braking"),t._setAccent("Average G-Forces"),t._providerUpdate=function(t){void 0!=t?(this.min=t.min,this.max=t.max,this.value=t.value,this._populateData()):(this.min=0,this.max=1,this.value=0),this.showContent(!0)}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),void 0==t.provider&&t._providerUpdate({min:t.min,max:t.max,value:t.value}),t.dom}function $ui_TileDistance(t,e){return t._size=void 0,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-distance"),t.dom.canvas=document.createElement("canvas"),$ui.addClass(t.dom.canvas,"chart"),t.dom.canvas.height=180,t.dom.contentDiv.appendChild(t.dom.canvas),t.dom.caption=document.createElement("div"),$ui.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t._providerUpdate=function(t){if(this.dom.offsetWidth&&(this.dom.canvas.width=this.dom.offsetWidth-24,this.dom.ctx=this.dom.canvas.getContext("2d"),this.dom.chart=new Chart(this.dom.ctx)),void 0!=this.dom.chart){var e,i=[],o=[],n=!1;for(void 0!=t?(this.data=t.data,this.units=t.units):(this.data=void 0,this.units="miles"),void 0==this.data||this.data&&0==this.data.length?(this.data=[0],n=!0):1==this.data.length&&(this.data=[0,this.data[0]]),this._value=this.data[this.data.length-1],e=0;this.data.length>e;e++)e==this.data.length-1?i.push("Today"):i.push(""),o.push(0);this.dom.caption.innerHTML='<span class="tall distance">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tall">'+this._value+"</span> "+this.units;var s=$ui.hexToRgb($ui.theme.chart.color_GREAT),a={labels:i,datasets:[{fillColor:"rgba("+s.R+","+s.G+","+s.B+",0.2)",strokeColor:"rgba("+s.R+","+s.G+","+s.B+",1)",pointColor:"rgba("+s.R+","+s.G+","+s.B+",1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba("+s.R+","+s.G+","+s.B+",1)",data:this.data},{fillColor:"transparent",strokeColor:"transparent",pointColor:"transparent",pointStrokeColor:"transparent",pointHighlightFill:"transparent",pointHighlightStroke:"transparent",data:o}]};this.dom.chart.Line(a,{scaleShowGridLines:!1,showTooltips:!1,scaleFontColor:window.getComputedStyle(this.dom).color}),this.showContent(!0)}}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),t._onshow=function(){void 0==this.provider&&this._providerUpdate({data:this.data,units:this.units})}.$bind(t),t.dom}function $ui_TileDriftAngle(t,e){return t._size=$ui.TileSize.SQUARE,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-drift-angle"),t.dom.dial=document.createElement("div"),$ui.addClass(t.dom.dial,"dial"),t.dom.contentDiv.appendChild(t.dom.dial),t.dom.dial.img=new Image,t.dom.dial.img.parent=t.dom.dial,t.dom.dial.img.onload=function(){this.parent.style.opacity=1,this.parent.style.backgroundImage='url("'+this.src+'")'},void 0!=t.img&&(t.dom.dial.img.src=t.img),t._protected.img=t.img,Object.defineProperty(t,"img",{get:function(){return this._protected.img},set:function(t){t!=this._protected.img&&(void 0==t&&(t=""),this._protected.img=t,this.dom.dial.style.opacity=0,this.dom.dial.img.src=t)},configurable:!1}),void 0!=t.angle&&(t.dom.dial.style["-webkit-transform"]="rotate("+t.angle+"deg)"),t._protected.angle=t.angle,Object.defineProperty(t,"angle",{get:function(){return this._protected.angle},set:function(t){t!=this._protected.angle&&(void 0==t&&(t=0),this._protected.angle=t,this.dom.dial.style["-webkit-transform"]="rotate("+t+"deg)")},configurable:!1}),t.showContent(!0),t.dom}function $ui_TileDynoChart(t,e){return t._size=$ui.TileSize.WIDE,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-dyno-chart"),t.dom.caption=document.createElement("div"),$ui.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t.dom.rpm=document.createElement("div"),$ui.addClass(t.dom.rpm,"rpm"),t.dom.contentDiv.appendChild(t.dom.rpm),t.dom.howTo=document.createElement("div"),$ui.addClass(t.dom.howTo,"how-to"),t.dom.contentDiv.appendChild(t.dom.howTo),t.dom.howTo.textContent="Start driving below 3000 RPM in 3rd gear, then press START and accelerate to 7000 RPM",t.dom.canvas=document.createElement("canvas"),$ui.addClass(t.dom.canvas,"chart"),t.dom.canvas.height=190,t.dom.canvas.width=490,t.dom.contentDiv.appendChild(t.dom.canvas),t.dom.ctx=t.dom.canvas.getContext("2d"),t.dom.chart=new Chart(t.dom.ctx),void 0==t.horsepower&&(t.horsepower=[]),t._protected.horsepower=t.horsepower,Object.defineProperty(t,"horsepower",{get:function(){return this._protected.horsepower},set:function(t){t!=this._protected.horsepower&&(void 0==t&&(t=[]),this._protected.horsepower=t,this._providerUpdate(this))},configurable:!1}),void 0==t.caption?t.caption="":t.dom.caption.textContent=t.caption,t._protected.caption=t.caption,Object.defineProperty(t,"caption",{get:function(){return this._protected.caption},set:function(t){t!=this._protected.caption&&(void 0==t&&(t=""),this._protected.caption=t,this.dom.caption.textContent=t)},configurable:!1}),void 0==t.torque&&(t.torque=[]),t._protected.torque=t.torque,Object.defineProperty(t,"torque",{get:function(){return this._protected.torque},set:function(t){t!=this._protected.torque&&(void 0==t&&(t=[]),this._protected.torque=t,this._providerUpdate(this))},configurable:!1}),t.setRPM=function(t){this.dom.rpm.style.display="block",this.dom.canvas.style.display="none",this.dom.caption.style.display="none",this.dom.howTo.style.display="none",this.dom.rpm.innerHTML="<span>"+t+'</span><span style="font-size: 50px;"> RPM</span>'}.$bind(t),t.reset=function(){this.dom.rpm.style.display="none",this.dom.howTo.style.display="block",this.dom.canvas.style.display="none",this.dom.caption.style.display="none"}.$bind(t),t._providerUpdate=function(t){var e=["3","","","","","3.5","","","","","4","","","","","4.5","","","","","5","","","","","5.5","","","","","6","","","","","6.5","","","","","7"];void 0!=t?(this._protected.horsepower=void 0==t.horsepower?[]:t.horsepower,this._protected.torque=void 0==t.torque?[]:t.torque,this.caption=t.caption):(this.data=void 0,this.labels=void 0),this.dom.rpm.style.display="none",this.dom.canvas.style.display="block",this.dom.caption.style.display="block",this.dom.howTo.style.display="none";var i=$ui.hexToRgb($ui.theme.chart.color_GREAT),o=$ui.hexToRgb($ui.theme.chart.color),n={labels:e,datasets:[{fillColor:"rgba("+o.R+","+o.G+","+o.B+",0.5)",strokeColor:"rgba("+o.R+","+o.G+","+o.B+",1)",data:this.torque},{fillColor:"rgba("+i.R+","+i.G+","+i.B+",0.5)",strokeColor:"rgba("+i.R+","+i.G+","+i.B+",1)",data:this.horsepower}]};this.dom.chart.Line(n,{scaleShowGridLines:!0,showTooltips:!1,scaleFontColor:"#FFFFFF",pointDot:!1})}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),void 0==t.provider&&t._providerUpdate(t),t.showContent(!0),t.dom}function $ui_TileFuel(t,e){return t._size=void 0,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-fuel"),t.dom.canvas=document.createElement("canvas"),$ui.addClass(t.dom.canvas,"chart"),t.dom.canvas.height=180,t.dom.contentDiv.appendChild(t.dom.canvas),t.dom.leftLabels=document.createElement("div"),$ui.addClass(t.dom.leftLabels,"left-labels theme-screen-background-color"),t.dom.contentDiv.appendChild(t.dom.leftLabels),t.dom.topLabel=document.createElement("div"),$ui.addClass(t.dom.topLabel,"label"),$ui.addClass(t.dom.topLabel,"top"),t.dom.topLabel.textContent="F",t.dom.leftLabels.appendChild(t.dom.topLabel),t.dom.middleLabel=document.createElement("div"),$ui.addClass(t.dom.middleLabel,"label"),$ui.addClass(t.dom.middleLabel,"middle"),t.dom.middleLabel.innerHTML="&#189;",t.dom.leftLabels.appendChild(t.dom.middleLabel),t.dom.bottomLabel=document.createElement("div"),$ui.addClass(t.dom.bottomLabel,"label"),$ui.addClass(t.dom.bottomLabel,"bottom"),t.dom.bottomLabel.textContent="E",t.dom.leftLabels.appendChild(t.dom.bottomLabel),t.dom.caption=document.createElement("div"),$ui.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t._providerUpdate=function(t){if(this.dom.offsetWidth&&(this.dom.canvas.width=this.dom.offsetWidth-20,this.dom.ctx=this.dom.canvas.getContext("2d"),this.dom.chart=new Chart(this.dom.ctx)),void 0!=this.dom.chart){var e,i=[],o=[],n=!1;
for(void 0!=t?(this.data=t.data,this.value=t.value):(this.data=void 0,this.value=0),void 0==this.value&&(this.value=0),void 0==this.data||this.data&&0==this.data.length?(this.data=[0],n=!0):1==this.data.length&&(this.data=[0,this.data[0]]),e=0;this.data.length>e;e++)e==this.data.length-1?(i.push("Now"),o.push(0)):(i.push(""),o.push(100));this.dom.caption.innerHTML='<span class="tall">$'+this.value+'</span> of <span class="tall fuel">&nbsp;&nbsp;&nbsp;&nbsp;</span>Today';var s=$ui.hexToRgb($ui.theme.chart.color_RANDOM1),a={labels:i,datasets:[{fillColor:"rgba("+s.R+","+s.G+","+s.B+",0.2)",strokeColor:"rgba("+s.R+","+s.G+","+s.B+",1)",pointColor:"rgba("+s.R+","+s.G+","+s.B+",1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba("+s.R+","+s.G+","+s.B+",1)",data:this.data},{fillColor:"transparent",strokeColor:"transparent",pointColor:"transparent",pointStrokeColor:"transparent",pointHighlightFill:"transparent",pointHighlightStroke:"transparent",data:o}]};this.dom.chart.Line(a,{scaleShowGridLines:!1,showTooltips:!1,scaleFontColor:window.getComputedStyle(this.dom).color}),this.showContent(!0)}}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),t._onshow=function(){void 0==this.provider&&this._providerUpdate({data:this.data,value:this.value})}.$bind(t),t.dom}function $ui_TileIdle(t,e){return t._size=void 0,$ui_CoreTileDonutChart.call(this,t,e),$ui.addClass(t.dom,"ui-tile-idle-chart"),t._calculateData=function(){var t;if(void 0!=this.value){var e;switch(0>this.value&&(this.value=0),this.value>100&&(this.value=100),!0){case this.value>=70:e=$ui.theme.chart.color_GREAT;break;case this.value>=50:e=$ui.theme.chart.color_GOOD;break;default:e=$ui.theme.chart.color_OK}t=[{value:this.value,color:e},{value:100-this.value,color:$ui.theme.chart.color}]}return t}.$bind(t),t._providerUpdate=function(t){this.value=void 0!=t?t.value:0;var e=this._calculateData();void 0!=e&&(this._setData(e),this._setCaption('<span class="tall">'+this.value+"%</span> spent moving")),this.showContent(!0)}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),void 0==t.provider&&t._providerUpdate({value:t.value}),t.dom}function $ui_TileIdleDetails(t,e){return t._size=$ui.TileSize.WIDE,void 0==t.animated&&(t.animated=!0),$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-idle-details"),t.dom.caption=document.createElement("div"),$ui.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t.dom.caption.textContent="Time Stuck In Traffic (mins)",t.dom.canvas=document.createElement("canvas"),$ui.addClass(t.dom.canvas,"chart"),t.dom.canvas.height=190,t.dom.contentDiv.appendChild(t.dom.canvas),t._providerUpdate=function(t){if(this.dom.offsetWidth&&(this.dom.canvas.width=this.dom.offsetWidth-10,this.dom.ctx=this.dom.canvas.getContext("2d"),this.dom.chart=new Chart(this.dom.ctx)),void 0!=this.dom.chart){void 0!=t?(this.data=t.data,this.labels=t.labels):(this.data=void 0,this.labels=void 0);var e=$ui.hexToRgb($ui.theme.chart.color_OK),i={labels:this.labels,datasets:[{fillColor:"rgba("+e.R+","+e.G+","+e.B+",0.5)",strokeColor:"rgba("+e.R+","+e.G+","+e.B+",1)",data:this.data}]};this.dom.chart.Bar(i,{scaleShowGridLines:!0,showTooltips:!1,animation:this.animated,scaleFontColor:window.getComputedStyle(this.dom).color}),this.showContent(!0)}}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),t._onshow=function(){void 0==this.provider&&this._providerUpdate({data:this.data,labels:this.labels})}.$bind(t),t.dom}function $ui_TileLateralGs(t,e){return t._size=$ui.TileSize.SQUARE,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-lateral-g"),t.dom.dial=document.createElement("div"),$ui.addClass(t.dom.dial,"dial"),t.dom.contentDiv.appendChild(t.dom.dial),t.dom.vehicle=document.createElement("img"),$ui.addClass(t.dom.vehicle,"vehicle"),t.dom.dial.appendChild(t.dom.vehicle),t.dom.vehicle.onload=function(){this.style.opacity=1},t.dom.circle=document.createElement("div"),$ui.addClass(t.dom.circle,"circle theme-border-color"),t.dom.dial.appendChild(t.dom.circle),t.dom.line=document.createElement("div"),$ui.addClass(t.dom.line,"line theme-brand-text-color theme-brand-border-color"),t.dom.contentDiv.appendChild(t.dom.line),t.dom.line.textContent="150 ft radius",void 0!=t.img&&(t.dom.vehicle.src=t.img),t._protected.img=t.img,Object.defineProperty(t,"img",{get:function(){return this._protected.img},set:function(t){t!=this._protected.img&&(void 0==t&&(t=""),this._protected.img=t,this.dom.vehicle.style.opacity=0,this.dom.vehicle.src=t)},configurable:!1}),void 0!=t.rotation&&(t.dom.dial.style["-webkit-transform"]="rotate("+t.rotation+"deg)"),t._protected.rotation=t.rotation,Object.defineProperty(t,"rotation",{get:function(){return this._protected.rotation},set:function(t){t!=this._protected.rotation&&(void 0==t&&(t=0),this._protected.rotation=t,this.dom.dial.style["-webkit-transform"]="rotate("+t+"deg)")},configurable:!1}),t.showContent(!0),t.dom}function $ui_TileMPG(t,e){return t._size=void 0,$ui_CoreTileDonutChart.call(this,t,e),$ui.addClass(t.dom,"ui-tile-mpg-chart"),t._calculateData=function(){var t;if(void 0!=this.max&&void 0!=this.value){var e,i;switch(0>this.value&&(this.value=0),i=this.value>this.max?100:Math.ceil(100*(this.value/this.max)),!0){case i>90:e=$ui.theme.chart.color_GREAT;break;case i>50:e=$ui.theme.chart.color_GOOD;break;default:e=$ui.theme.chart.color_OK}t=[{value:i,color:e},{value:100-i,color:$ui.theme.chart.color}]}return t}.$bind(t),t._providerUpdate=function(t){void 0!=t?(this.value=t.value,this.max=t.max,this.abbreviation=t.abbreviation):(this.value=0,this.max=0,this.abbreviation="MPG");var e=this._calculateData();void 0!=e&&(this._setData(e),this._setCaption('<span class="tall">'+this.value+"</span> "+this.abbreviation)),this.showContent(!0)}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),void 0==t.provider&&t._providerUpdate({value:t.value,max:t.max,abbreviation:t.abbreviation}),t.dom}function $ui_TileProfile(t,e){return t._size=$ui.TileSize.TALL,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-profile"),t.dom.wedge=document.createElement("div"),$ui.addClass(t.dom.wedge,"wedge theme-profile-wedge-background-color"),t.dom.contentDiv.appendChild(t.dom.wedge),t.dom.vehicle=document.createElement("div"),$ui.addClass(t.dom.vehicle,"vehicle theme-profile-vehicle-background-color"),t.dom.contentDiv.appendChild(t.dom.vehicle),t.dom.vehicle.image=document.createElement("div"),$ui.addClass(t.dom.vehicle.image,"vehicle-image"),t.dom.vehicle.appendChild(t.dom.vehicle.image),t.dom.vehicle.overlay=document.createElement("div"),$ui.addClass(t.dom.vehicle.overlay,"vehicle-overlay"),t.dom.vehicle.image.appendChild(t.dom.vehicle.overlay),t.dom.userName=document.createElement("div"),$ui.addClass(t.dom.userName,"name"),t.dom.vehicle.appendChild(t.dom.userName),t._formatNumber=function(t){if(void 0==t)return 0;var e,i;switch(!0){case t>=1e6:i=(t/1e6).toFixed(1),0==i%1&&(i=Math.floor(i)),e=i+"M";break;case t>=1e4:i=(t/1e3).toFixed(1),0==i%1&&(i=Math.floor(i)),e=i+"K";break;case t>=1e3:e=""+t,e=e.slice(0,1)+","+e.slice(1,e.length);break;case 1e3>t:e=t;break;default:e=t}return e}.$bind(t),t.dom.stats=document.createElement("div"),$ui.addClass(t.dom.stats,"stats theme-profile-stats"),t.dom.contentDiv.appendChild(t.dom.stats),t.dom.score=document.createElement("div"),$ui.addClass(t.dom.score,"box"),t.dom.stats.appendChild(t.dom.score),t.dom.score.label=document.createElement("div"),$ui.addClass(t.dom.score.label,"label theme-profile-label-text-color"),t.dom.score.appendChild(t.dom.score.label),t.dom.score.label.textContent="SCORE",t.dom.score.number=document.createElement("div"),$ui.addClass(t.dom.score.number,"number theme-profile-number-color"),t.dom.score.appendChild(t.dom.score.number),t.dom.friends=document.createElement("div"),$ui.addClass(t.dom.friends,"box"),$ui.addClass(t.dom.friends,"right"),t.dom.stats.appendChild(t.dom.friends),t.dom.friends.label=document.createElement("div"),$ui.addClass(t.dom.friends.label,"label theme-profile-label-text-color"),t.dom.friends.appendChild(t.dom.friends.label),t.dom.friends.label.textContent="FRIENDS",t.dom.friends.number=document.createElement("div"),$ui.addClass(t.dom.friends.number,"number theme-profile-number-color"),t.dom.friends.appendChild(t.dom.friends.number),t.dom.clubs=document.createElement("div"),$ui.addClass(t.dom.clubs,"box"),$ui.addClass(t.dom.clubs,"right"),t.dom.stats.appendChild(t.dom.clubs),t.dom.clubs.label=document.createElement("div"),$ui.addClass(t.dom.clubs.label,"label theme-profile-label-text-color"),t.dom.clubs.appendChild(t.dom.clubs.label),t.dom.clubs.label.textContent="CLUBS",t.dom.clubs.number=document.createElement("div"),$ui.addClass(t.dom.clubs.number,"number theme-profile-number-color"),t.dom.clubs.appendChild(t.dom.clubs.number),t.dom.avatar=document.createElement("div"),$ui.addClass(t.dom.avatar,"avatar theme-profile-avatar"),t.dom.contentDiv.appendChild(t.dom.avatar),t.dom.rankText=document.createElement("div"),$ui.addClass(t.dom.rankText,"rank-text theme-profile-rank-text-color"),t.dom.contentDiv.appendChild(t.dom.rankText),t.dom.rankText.textContent="Ranked",t.dom.rank=document.createElement("div"),$ui.addClass(t.dom.rank,"rank theme-profile-rank"),t.dom.contentDiv.appendChild(t.dom.rank),t.dom.findFriend=document.createElement("div"),$ui.addClass(t.dom.findFriend,"button"),$ui.addClass(t.dom.findFriend,"search"),t.dom.findFriend.textContent="Find a Friend",t.dom.contentDiv.appendChild(t.dom.findFriend),t.dom.findClub=document.createElement("div"),$ui.addClass(t.dom.findClub,"button"),$ui.addClass(t.dom.findClub,"plus"),t.dom.findClub.textContent="Join a Club",t.dom.contentDiv.appendChild(t.dom.findClub),t._providerUpdate=function(t){void 0!=t?(this.backgroundImg=t.backgroundImg,this.avatar=t.avatar,this.userName=t.userName,this.stats=t.stats):(this.backgroundImg=void 0,this.avatar=void 0,this.userName=void 0,this.stats=void 0),this.backgroundImg?(this.loader=new Image,this.loader.model=this,this.loader.onload=function(){this.model.dom.vehicle.image.style.opacity="1.0",this.model.dom.vehicle.image.style.backgroundImage='url("'+this.model.backgroundImg+'")',this.model.loader=null},this.loader.src=this.backgroundImg):this.dom.vehicle.image.style.backgroundImage="",this.dom.userName.textContent=this.userName?this.userName:"",this.stats?(this.dom.score.number.textContent=this._formatNumber(this.stats.score),this.dom.friends.number.textContent=this._formatNumber(this.stats.friends),this.dom.clubs.number.textContent=this._formatNumber(this.stats.clubs),this.dom.rank.textContent=this.stats.rank,this.dom.rank.style.opacity="1.0"):(this.dom.score.number.textContent="0",this.dom.friends.number.textContent="0",this.dom.clubs.number.textContent="0",this.dom.rank.textContent="1",this.dom.rank.style.opacity="1.0"),this.avatar&&(this.dom.avatar.style.backgroundImage='url("'+this.avatar+'")'),this.showContent(!0)}.$bind(t),void 0==t.provider&&t._providerUpdate({backgroundImg:t.backgroundImg,avatar:t.avatar,userName:t.userName,stats:t.stats}),t.dom}function $ui_TileRecord(t,e){return t._size=void 0,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-record"),t.dom.stage1=document.createElement("div"),$ui.addClass(t.dom.stage1,"stage-1"),t.dom.contentDiv.appendChild(t.dom.stage1),t.dom.recordButton=document.createElement("div"),t.dom.recordButton.model=t,$ui.addClass(t.dom.recordButton,"record-button theme-brand-background-color theme-brand-border-color"),t.dom.stage1.appendChild(t.dom.recordButton),t.dom.recordButton.textContent="Start",t.dom.recordButton.onclick=function(){var t=this.model;return 1==t._protected.recording?(t.reset(),t.onstopclick&&t.onstopclick(),void 0):($ui.playTouchSound(),t.onstartclick&&t.onstartclick(),t.countdown===!0?(t.dom.stage1.style.display="none",t.dom.stage2.style.display="inline",t._countDownNum=3,t._interval=window.setInterval(t._countDownInterval,1e3),t.oncountdown&&t.oncountdown(),void 0):(this.textContent="Stop",this.style.backgroundColor="",$ui.removeClass(this,"theme-brand-background-color"),$ui.addClass(this,"theme-screen-background-color"),t._protected.borderVisible=!0,t._interval=window.setInterval(t._pulseInterval,200),t._protected.recording=!0,t.onrecord&&t.onrecord(),void 0))},t.dom.recordButton.ontouchstart=function(){this.style.opacity="0.7"},t.dom.recordButton.ontouchend=function(){this.style.opacity="1.0"},t.dom.recordButton.ontouchcancel=t.dom.recordButton.ontouchend,$ui.isMobileDevice()||(t.dom.recordButton.onmousedown=t.dom.recordButton.ontouchstart,t.dom.recordButton.onmouseup=t.dom.recordButton.ontouchend,t.dom.recordButton.onmouseleave=t.dom.recordButton.ontouchend),t.dom.captionDiv=document.createElement("div"),$ui.addClass(t.dom.captionDiv,"caption"),t.dom.stage1.appendChild(t.dom.captionDiv),t.caption&&(t.dom.captionDiv.textContent=t.caption),t.dom.stage2=document.createElement("div"),$ui.addClass(t.dom.stage2,"stage-2"),t.dom.contentDiv.appendChild(t.dom.stage2),t.dom.number=document.createElement("div"),$ui.addClass(t.dom.number,"number"),t.dom.stage2.appendChild(t.dom.number),t.dom.number.textContent="3",t._countDownInterval=function(){return this._countDownNum--,0===this._countDownNum?(window.clearInterval(this._interval),this._interval=void 0,this.dom.number.textContent="GO!",$ui.addClass(this.dom.number,"theme-brand-background-color"),$ui.addClass(this.dom.number,"animation"),this._protected.recording=!0,this.onrecord&&this.onrecord(),void 0):(this.dom.number.textContent=this._countDownNum,this.oncountdown&&this.oncountdown(),void 0)}.$bind(t),t._pulseInterval=function(){1==this._protected.borderVisible?$ui.removeClass(this.dom.recordButton,"theme-brand-border-color"):$ui.addClass(this.dom.recordButton,"theme-brand-border-color"),this._protected.borderVisible=!this._protected.borderVisible}.$bind(t),t._providerUpdate=function(){void 0!=this._interval&&(window.clearInterval(this._interval),this._interval=void 0)}.$bind(t),t.reset=function(){this._protected.recording=!1,void 0!=this._interval&&(window.clearInterval(this._interval),this._interval=void 0),this.dom.number.style.backgroundColor="",this.dom.number.textContent="3",$ui.removeClass(this.dom.number,"animation"),this.dom.stage2.style.display="none",this.dom.stage1.style.display="",this.dom.recordButton.textContent="Start",$ui.removeClass(this.dom.recordButton,"theme-screen-background-color"),$ui.addClass(this.dom.recordButton,"theme-brand-background-color"),$ui.addClass(this.dom.recordButton,"theme-brand-border-color")}.$bind(t),t.dom}function $ui_TileTimeDonut(t,e){return t._size=void 0,$ui_CoreTileDonutChart.call(this,t,e),$ui.addClass(t.dom,"ui-tile-time-donut"),1!=t.targetHigh&&(t.targetHigh=!1),t._protected.targetHigh=t.targetHigh,Object.defineProperty(t,"targetHigh",{get:function(){return this._protected.targetHigh},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","targetHigh"))},configurable:!1}),t._calculateData=function(){var t;if(void 0!=this.target&&void 0!=this.value){var e,i;switch(0>this.value&&(this.value=0),i=1==this.targetHigh?this.value>this.target?100:Math.ceil(100*(this.value/this.target)):this.value<this.target?100:Math.ceil(100*(this.target/this.value)),!0){case i>90:e=$ui.theme.chart.color_GREAT;break;case i>50:e=$ui.theme.chart.color_GOOD;break;default:e=$ui.theme.chart.color_OK}t=[{value:i,color:e},{value:100-i,color:$ui.theme.chart.color}]}return t},t._calculateData=t._calculateData.$bind(t),t._providerUpdate=function(t){void 0!=t?(this.value=t.value,this.target=t.target,this.accent=t.accent,this.caption=void 0==t.caption?"":t.caption):(this.value=0,this.target=0,this.accent=void 0,this.caption="");var e=this._calculateData();void 0!=e&&(this._setData(e),this._setCaption('<span class="tall">'+this.value+"</span>&nbsp;"+this.caption),this._setAccent(this.accent)),this.showContent(!0)}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),void 0==t.provider&&t._providerUpdate(t),t.dom}function $ui_TileTimeHistory(t,e){return void 0==t.animated&&(t.animated=!0),t._size=$ui.TileSize.WIDE,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-time-history"),t.dom.caption=document.createElement("div"),$ui.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t.dom.canvas=document.createElement("canvas"),$ui.addClass(t.dom.canvas,"chart"),t.dom.canvas.height=190,t.dom.contentDiv.appendChild(t.dom.canvas),t._providerUpdate=function(t){if(this.dom.offsetWidth&&(this.dom.canvas.width=this.dom.offsetWidth-10,this.dom.ctx=this.dom.canvas.getContext("2d"),this.dom.chart=new Chart(this.dom.ctx)),void 0!=this.dom.chart){void 0!=t?(this.data=t.data,this.labels=t.labels,this.caption=void 0==t.caption?"":t.caption):(this.data=void 0,this.labels=void 0),this.dom.caption.textContent=this.caption;var e=$ui.hexToRgb($ui.theme.chart.color_OK),i={labels:this.labels,datasets:[{fillColor:"rgba("+e.R+","+e.G+","+e.B+",0.5)",strokeColor:"rgba("+e.R+","+e.G+","+e.B+",1)",data:this.data}]};this.dom.chart.Line(i,{scaleShowGridLines:!0,showTooltips:!1,animation:this.animated,scaleFontColor:window.getComputedStyle(this.dom).color}),this.showContent(!0)}}.$bind(t),t._onthemechange=function(){this._providerUpdate(this)}.$bind(t),t._onshow=function(){void 0==this.provider&&this._providerUpdate(this)},t.dom}function $ui_TileTimer(t,e){return t._size=$ui.TileSize.WIDE,$ui_CoreTile.call(this,t,e),$ui.addClass(t.dom,"ui-tile-timer"),t.dom.numbers=document.createElement("div"),$ui.addClass(t.dom.numbers,"numbers"),t.dom.contentDiv.appendChild(t.dom.numbers),t.dom.numbers.textContent="00:00:00",t._doInterval=function(){var e=new Date;this._milliseconds=e-this._startTime;var i,o=Math.floor(this._milliseconds/6e4),n=Math.floor(this._milliseconds/1e3)%60;i=(this._milliseconds/1e3).toFixed(2)-Math.floor(this._milliseconds/1e3),i=Math.floor(100*i),i=i>=100?0:i,o=o>=10?o:"0"+o,n=n>=10?n:"0"+n,i=i>=10?i:"0"+i,t.dom.numbers.textContent=o+":"+n+":"+i}.$bind(t),t.reset=function(){void 0!=this._interval&&(window.clearInterval(this._interval),this._milliseconds=0,this._interval=void 0),this.dom.numbers.textContent="00:00:00",this.onreset&&this.onreset()}.$bind(t),t.start=function(){void 0==this._interval&&(this._startTime=new Date,this._milliseconds=0,this._interval=window.setInterval(this._doInterval,10),this.onstart&&this.onstart())}.$bind(t),t.stop=function(){void 0!=this._interval&&(window.clearInterval(this._interval),this._doInterval(),this._interval=void 0,this.onstop&&this.onstop())}.$bind(t),t.getMilliseconds=function(){return this._milliseconds}.$bind(t),t.getSeconds=function(){return(this._milliseconds/1e3).toFixed(2)}.$bind(t),t.getMinutes=function(){return(this._milliseconds/6e4).toFixed(2)}.$bind(t),t._destroy=function(){void 0!=this._interval&&(window.clearInterval(this._interval),this._interval=void 0)}.$bind(t),t._onbeforepop=function(){this.stop()}.$bind(t),t.dom}function emulator_ActiveCallScreen(t,e){return t&&(t.animated=!1,t.background=void 0),$ui_CoreScreen.call(this,t,e),t?($ui.addClass(t.dom,"emulator-active-call-screen theme-screen-background-color"),t.dom.photo=document.createElement("div"),$ui.addClass(t.dom.photo,"photo"),t.dom.appendChild(t.dom.photo),t.dom.photo.loader=new Image,t.dom.photo.loader.model=t,t.dom.photo.loader.onload=function(){this.model.dom.photo.style.opacity=1,this.model.dom.photo.style.backgroundImage='url("'+this.src+'")';var t=this.model.dom.photo;window.setTimeout(function(){t.style["-webkit-transform"]="translate3d(-100px,100px,0)"},700)},t.dom.info=document.createElement("div"),$ui.addClass(t.dom.info,"info"),t.dom.appendChild(t.dom.info),t.dom.nameDiv=document.createElement("div"),$ui.addClass(t.dom.nameDiv,"name theme-highlight-text-color"),t.dom.info.appendChild(t.dom.nameDiv),t.dom.numberDiv=document.createElement("div"),$ui.addClass(t.dom.numberDiv,"number theme-highlight-text-color"),t.dom.info.appendChild(t.dom.numberDiv),t.dom.topWedge=document.createElement("div"),$ui.addClass(t.dom.topWedge,"top-wedge theme-brand-background-color"),t.dom.appendChild(t.dom.topWedge),t._topWedgeAnimationEnd=function(){this.dom.topWedge.removeEventListener("webkitAnimationEnd",this._topWedgeAnimationEnd),this.dom.hangUp.style.opacity=1}.$bind(t),t.dom.topWedge.addEventListener("webkitAnimationEnd",t._topWedgeAnimationEnd,!1),t.dom.hangUp=document.createElement("div"),$ui.addClass(t.dom.hangUp,"hang-up theme-brand-background-color"),t.dom.appendChild(t.dom.hangUp),t.dom.hangUp.circle=document.createElement("div"),$ui.addClass(t.dom.hangUp.circle,"circle theme-border-color"),t.dom.hangUp.circle.model=t,t.dom.hangUp.circle.onclick=function(){$ui.playTouchSound(),this.model.onhangup&&this.model.onhangup()},t.dom.hangUp.circle.onmousedown=function(){this.style.backgroundColor="rgba(0,0,0,0.3)"},t.dom.hangUp.circle.onmouseup=function(){this.style.backgroundColor=""},t.dom.hangUp.appendChild(t.dom.hangUp.circle),t.dom.hangUp.label=document.createElement("div"),$ui.addClass(t.dom.hangUp.label,"label theme-text-color"),t.dom.hangUp.appendChild(t.dom.hangUp.label),t.dom.hangUp.label.textContent="Hang Up",t.dom.phone=document.createElement("div"),$ui.addClass(t.dom.phone,"phone-animation"),t.dom.appendChild(t.dom.phone),void 0!=t.iconIncomingCall&&(t.dom.phone.style.backgroundImage='url("'+t.iconIncomingCall+'")'),t._protected.iconIncomingCall=t.iconIncomingCall,Object.defineProperty(t,"iconIncomingCall",{get:function(){return this._protected.iconIncomingCall},set:function(t){t!=this._protected.iconIncomingCall&&(void 0==t&&(t=""),this.dom.phone.style.backgroundImage='url("'+t+'")',this._protected.iconIncomingCall=t)},configurable:!1}),void 0!=t.iconHangUp&&(t.dom.hangUp.circle.style.backgroundImage='url("'+t.iconHangUp+'")'),t._protected.iconHangUp=t.iconHangUp,Object.defineProperty(t,"iconHangUp",{get:function(){return this._protected.iconHangUp},set:function(t){t!=this._protected.iconHangUp&&(void 0==t&&(t=""),this.dom.hangUp.circle.style.backgroundImage='url("'+t+'")',this._protected.iconHangUp=t)},configurable:!1}),void 0!=t.name&&(t.dom.nameDiv.textContent=t.name),t._protected.name=t.name,Object.defineProperty(t,"name",{get:function(){return this._protected.name},set:function(t){t!=this._protected.name&&(void 0==t&&(t=""),this.dom.nameDiv.textContent=t,this._protected.name=t)},configurable:!1}),void 0!=t.number&&(t.dom.numberDiv.textContent=t.number),t._protected.number=t.number,Object.defineProperty(t,"number",{get:function(){return this._protected.number},set:function(t){t!=this._protected.number&&(void 0==t&&(t=""),this.dom.numberDiv.textContent=t,this._protected.number=t)},configurable:!1}),void 0!=t.img&&(t.dom.photo.loader.src=t.img),t._protected.img=t.img,Object.defineProperty(t,"img",{get:function(){return this._protected.img},set:function(t){t!=this._protected.img&&(void 0==t&&(t=""),this._protected.img=t,this.dom.photo.style.opacity=0,this.dom.photo.loader.src=t)},configurable:!1}),t.dom):void 0}function emulator_AppContainer(t,e){return $ui_CoreScreen.call(this,t,e),t?($ui.addClass(t.dom,"emulator-app-container theme-screen-background-color"),t._protected.firstLoad=!0,t.dom.style.width=void 0==t.width?window.innerWidth+"px":t.width+"px",t.dom.contentDiv=document.createElement("div"),$ui.addClass(t.dom.contentDiv,"inner"),t.dom.appendChild(t.dom.contentDiv),t.iconSplash&&(t.dom.contentDiv.style.backgroundImage='url("'+t.iconSplash+'")'),t._delayedVisibility=function(){this.dom.contentWindow.style.visibility="visible",this.dom.contentWindow.style.height="100%"},t._delayedVisibility=t._delayedVisibility.$bind(t),t._contentWindowLoad=function(){return this._protected.firstLoad?(this._protected.firstLoad=!1,void 0):(setTimeout(this._delayedVisibility,500),void 0)},t._contentWindowLoad=t._contentWindowLoad.$bind(t),t.dom.contentWindow=document.createElement("iframe"),$ui.addClass(t.dom.contentWindow,"window theme-screen-background-color"),t.dom.contentDiv.appendChild(t.dom.contentWindow),t.dom.contentWindow.onload=t._contentWindowLoad,t._initialize=function(){this.dom.contentWindow.src=this.src},t._initialize=t._initialize.$bind(t),t._onresize=function(){this.dom.style.width=window.innerWidth+"px"},t._onresize=t._onresize.$bind(t),t.dom):void 0}function emulator_ChromeApp(t){var e="brainiac_emulator_chromeapp_lastsize";return $ui_CoreScreen.call(this,t),t?($ui.addClass(t.dom,"emulator-chrome-app theme-screen-background-color"),t._protected.size="800x1280",t._protected.lastSize=null,t.titleBar={parent:t},new emulator_TitleBar(t.titleBar,t),t.dom.appendChild(t.titleBar.dom),t.dom.contentDiv=document.createElement("div"),$ui.addClass(t.dom.contentDiv,"content"),t.dom.appendChild(t.dom.contentDiv),t.dom.viewer=document.createElement("div"),$ui.addClass(t.dom.viewer,"viewer theme-dark-border-color size800x1280"),t.dom.viewer.setAttribute("src","index.html"),t.dom.contentDiv.appendChild(t.dom.viewer),t.dom.iframe=document.createElement("iframe"),t.dom.iframe.model=t,t.dom.iframe.setAttribute("src","index.html"),t.dom.viewer.appendChild(t.dom.iframe),t.dom.iframe.onload=function(){this.style.visibility="visible"},t._getResolution=function(){return this._protected.size}.$bind(t),t._setResolution=function(t){if(t!=this._protected.size){$ui.removeClass(this.dom.viewer,"size"+this._protected.size),this.dom.iframe.style.visibility="hidden",this._protected.size=t;var i="index.html";"1024x600"==t?$ui.addClass(this.dom.viewer,"size1024x600"):"1280x800"==t?$ui.addClass(this.dom.viewer,"size1280x800"):"375x667"==t?($ui.addClass(this.dom.viewer,"size375x667"),i="mobile.html"):$ui.addClass(this.dom.viewer,"size800x1280");var o={};o[e]=t,chrome.storage.local.set(o),this._scaleViewer(),this.dom.iframe.src=i,this.titleBar.highlightButtons()}}.$bind(t),t._scaleViewer=function(){var t,e,i=this.titleBar.dom.offsetHeight,o=window.innerWidth,n=window.innerHeight-i,s=6;"1024x600"==this._protected.size?(t=1024+s,e=600+s+i):"1280x800"==this._protected.size?(t=1280+s,e=800+s+i):"375x667"==this._protected.size?(t=375+s,e=667+s+i):(e=1280+s+i,t=800+s);var a=o/t,r=n/e,d=Math.min(a,r);this.dom.viewer.style["-webkit-transform"]=1>d?"scale("+d+","+d+")":""}.$bind(t),window.addEventListener("resize",t._scaleViewer),t._initialize=function(){null==this._protected.lastSize?chrome.storage.local.get(e,function(i){var o=i[e];o&&o!==t._protected.size?t._setResolution(o):(t._protected.lastSize="not found",t._scaleViewer())}):this._scaleViewer()}.$bind(t),t.dom):void 0}function emulator_CoreWedgeScreen(t,e){if(t&&(t.disableAnimation=!0,t.background=void 0,t.floatOnTop=!0),$ui_CoreScreen.call(this,t,e),t){$ui.addClass(t.dom,"emulator-core-wedge-screen"),t.dom.style.backgroundColor="transparent",window.innerHeight>window.innerWidth&&$ui.addClass(t.dom,"portrait"),void 0==t.direction&&(t.direction="left"),t._isRightToLeft="right"==t.direction?!0:!1,t.dom.wedge=document.createElement("div"),$ui.addClass(t.dom.wedge,"wedge theme-brand-background-color"),t.dom.appendChild(t.dom.wedge);var i=window.innerWidth>window.innerHeight?Math.floor(window.innerWidth/3):Math.floor(window.innerHeight/3),o=Math.floor(i/2),n=20,s=window.innerHeight,a=window.innerWidth,r=Math.sqrt(Math.pow(s,2)+Math.pow(a,2)),d=90-Math.asin(s/r)*(180/Math.PI);return t._degrees=d,t.dom.wedge.style.width=i+"px",1==t._isRightToLeft?(d="-"+d,t.dom.wedge.style.right=window.innerWidth>window.innerHeight?Math.floor(i/2)+"px":"-"+Math.floor(i/1.5)+"px"):t.dom.wedge.style.left=window.innerWidth>window.innerHeight?Math.floor(i/2)+"px":"-"+Math.floor(i/1.5)+"px",t.dom.wedge.style["-webkit-transform"]="rotate("+d+"deg)",t.dom.back=document.createElement("div"),$ui.addClass(t.dom.back,"back theme-border-color"),t.dom.appendChild(t.dom.back),t.dom.back.style.bottom="-"+o+"px",t.dom.back.style.width=o+"px",t.dom.back.style.height=o+"px",t.dom.back.style.borderRadius=Math.floor(o/2)+1+"px",t.dom.back.textDiv=document.createElement("div"),$ui.addClass(t.dom.back.textDiv,"back-text theme-highlight-text-color"),t.dom.back.appendChild(t.dom.back.textDiv),1==t._isRightToLeft?(t.dom.back.style.right=$system&&1==$system.isClientDevice?"10px":window.innerWidth>window.innerHeight?Math.floor(o/3)+"px":"20px",$ui.addClass(t.dom.back.textDiv,"right-to-left")):t.dom.back.style.left=$system&&1==$system.isClientDevice?"10px":window.innerWidth>window.innerHeight?Math.floor(o/3)+"px":"20px",t.dom.back.textDiv.textContent=t.backButton&&t.backButton.caption?t.backButton.caption:"Back",t.backButton&&t.backButton.icon?t.dom.back.style.backgroundImage='url("'+t.backButton.icon+'")':$ui.addClass(t.dom.back,"emulator-icon-back-white"),t.dom.back.onclick=function(){$ui.playTouchSound(),$ui.pop()},t.dom.back.ontouchstart=function(){this.style.backgroundColor="rgba(0,0,0,0.3)"},t.dom.back.ontouchend=function(){this.style.backgroundColor=""},t.dom.back.ontouchcancel=t.dom.back.ontouchend,$ui.isMobileDevice()||(t.dom.back.onmousedown=t.dom.back.ontouchstart,t.dom.back.onmouseup=t.dom.back.ontouchend,t.dom.back.onmouseleave=t.dom.back.ontouchend),window.setTimeout(function(){t.dom.wedge.style.opacity="1.0"},0),window.setTimeout(function(){t.dom.back.style["-webkit-transform"]="translateY(-"+(o+n)+"px)",t.dom.back.addEventListener("webkitTransitionEnd",function(){this.textDiv.style.opacity="1.0"},!1)},200),t.dom}}function emulator_HeadUnitChrome(t){if($ui_CoreScreen.call(this,t),t){$ui.addClass(t.dom,"emulator-head-unit-chrome"),t.isDualView=window.innerHeight>window.innerWidth&&0==$system.isClientDevice,(1==t.isDualView||1==$system.isClientDevice)&&$ui.addClass(t.dom,"portrait"),t._recalculateLayout=function(){this.hvac&&1==this.hvac.visible&&(0==this.isDualView||1==$system.isClientDevice?(this.primaryWindow.dom.style.bottom=this.hvac._getHeight()+"px",this.primaryWindow.dom.style.height="inherit"):this.secondaryWindow&&(this.secondaryWindow.dom.style.bottom=this.hvac._getHeight()+"px"))},t._recalculateLayout=t._recalculateLayout.$bind(t),void 0==t.primaryWindow&&(t.primaryWindow={}),t.primaryWindow.secondary=!1,t.primaryWindow.parent=t;var e=new emulator_Window(t.primaryWindow,t);return $ui.addClass(e,"primary theme-brand-border-color"),t.dom.appendChild(e),(void 0==t.secondaryWindow||0==t.isDualView)&&(t.secondaryWindow={}),t.secondaryWindow.secondary=!0,t.secondaryWindow.parent=t,e=new emulator_Window(t.secondaryWindow,t),$ui.addClass(e,"secondary"),t.dom.appendChild(e),t._navigation={},t._navigation._chrome=t,e=new emulator_NavigationBar(t._navigation,t),t.dom.appendChild(e),t.hvac&&(e=new emulator_HVACBar(t.hvac,t),t.dom.appendChild(e)),t._setNavigationMenu=t._navigation._setNavigationMenu,t.dom}}function emulator_DefrostButton(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"defrost-button theme-brand-background-color"),$ui.addClass(t.dom,"off"),t.dom.onclick=function(){$ui.playTouchSound()},t.dom.ontouchstart=function(){$ui.addClass(this,"selected")},t.dom.ontouchend=function(){$ui.removeClass(this,"selected")},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom}function emulator_FanDirectionControl(t,e){function i(t,e,i){var o=document.createElement("div");o.onclick=e;for(var n=0;t.length>n;++n)$ui.addClass(o,t[n]);return a(o,i),o}function o(){t._private.direction.enabled&&($ui.playTouchSound(),this.style.opacity="0.7")}function n(){$ui.playTouchSound(),this.style.opacity="0.7"}function s(){this.style.opacity=""}function a(t,e){t.ontouchstart=e?n:o,t.ontouchend=s,t.ontouchcancel=s,$ui.isMobileDevice()||(t.onmousedown=t.ontouchstart,t.onmouseup=t.ontouchend,t.onmouseleave=t.ontouchcancel)}return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"ui-fan-direction-control"),t._private={},t._private.direction={},t._private.toggleFace=function(){var t=this._private.direction;t.enabled&&(!t.face||t.feet||t.frontDemist)&&(t.face=!t.face,t.face&&(t.frontDemist=!1),$system.hvac.fanDirection=t)}.$bind(t),t._private.toggleFeet=function(){var t=this._private.direction;
t.enabled&&(!t.feet||t.face||t.frontDemist)&&(t.feet=!t.feet,$system.hvac.fanDirection=t)}.$bind(t),t._private.toggleFrontDemist=function(){var t=this._private.direction;t.enabled&&(!t.frontDemist||t.face||t.feet)&&(t.frontDemist=!t.frontDemist,t.frontDemist&&(t.face=!1),$system.hvac.fanDirection=t)}.$bind(t),t._private.toggleRearDemist=function(){var t=this._private.direction;t.rearDemist=!t.rearDemist,$system.hvac.fanDirection=t}.$bind(t),t._private.toggleAC=function(){if(this._private.direction.enabled){var t=this._private.direction;t.ac=!t.ac,$system.hvac.fanDirection=t}}.$bind(t),t._private.toggleRecirc=function(){var t=this._private.direction;t.recirc=!t.recirc,$system.hvac.fanDirection=t}.$bind(t),t._private.setEnabled=function(t){var e=t===!0,i=this._private.direction;e!==i.enabled&&(i.enabled=e,$system.hvac.fanDirection=i)}.$bind(t),t._private.checkStyle=function(){var t=$system.hvac.fanDirection;this._private.direction=t;for(var e=[t.face,t.feet,t.frontDemist,t.rearDemist,t.ac],i=[this.dom.face,this.dom.feet,this.dom.frontDemist,this.dom.rearDemist,this.dom.ac],o=[!0,!0,!0,!1,!0],n=0;e.length>n;++n)!t.enabled&&o[n]?(i[n].style.backgroundColor="",$ui.addClass(i[n],"disabled")):($ui.removeClass(i[n],"disabled"),e[n]?$ui.addClass(i[n],"theme-brand-background-color"):$ui.removeClass(i[n],"theme-brand-background-color"));t.recirc?($ui.removeClass(this.dom.recirc,"fresh"),$ui.addClass(this.dom.recirc,"recirc"),$ui.removeClass(this.dom.recirc,"theme-brand-background-color")):($ui.removeClass(this.dom.recirc,"recirc"),$ui.addClass(this.dom.recirc,"fresh"),$ui.addClass(this.dom.recirc,"theme-brand-background-color"))}.$bind(t),t.dom.appendChild(t.dom.face=i(["toggle theme-border-color","top","left","face"],t._private.toggleFace,!1)),t.dom.appendChild(t.dom.feet=i(["toggle theme-border-color","mid","left","feet"],t._private.toggleFeet,!1)),t.dom.appendChild(t.dom.frontDemist=i(["toggle theme-border-color","bot","left","frontDemist"],t._private.toggleFrontDemist,!1)),t.dom.appendChild(t.dom.rearDemist=i(["toggle theme-border-color","top","right","rearDemist"],t._private.toggleRearDemist,!0)),t.dom.appendChild(t.dom.ac=i(["toggle theme-border-color","mid","right","ac"],t._private.toggleAC,!1)),t.dom.appendChild(t.dom.recirc=i(["toggle theme-border-color","bot","right","recirc"],t._private.toggleRecirc,!0)),t._private.checkStyle(),t._private.onfanspeedchanged=function(t){var e=0!==t.data.fanSpeed;this._private.setEnabled(e)}.$bind(t),$ui.addEventListener("onfanspeedchanged",t._private.onfanspeedchanged),t._private.onfandirectionchanged=function(){this._private.checkStyle()}.$bind(t),$ui.addEventListener("onfandirectionchanged",t._private.onfandirectionchanged),t._destroy=function(){$ui.removeEventListener("onfanspeedchanged",this._private.onfanspeedchanged),$ui.removeEventListener("onfandirectionchanged",this._private.onfandirectionchanged)}.$bind(t),t.dom}function emulator_FansButton(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"feet"),$ui.addClass(t.dom,"fans"),void 0==t.value&&(t.value=$ui.HeadUnitChrome.Fans.AUTO),t.dom.onclick=function(){$ui.playTouchSound(),this.model.onclick&&this.model.onclick()},t.dom.ontouchstart=function(){t.dom.style.opacity=1},t.dom.ontouchend=function(){t.dom.style.opacity=.5},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.setValue=function(t){var e=void 0==this.value?$ui.HeadUnitChrome.Fans.AUTO:this.value;void 0==t&&(t=$ui.HeadUnitChrome.Fans.AUTO),this.value=t,$ui.removeClass(this.dom,"emulator-icon-head-unit-fans-setting-"+e),$ui.addClass(this.dom,"emulator-icon-head-unit-fans-setting-"+this.value)},t.setValue=t.setValue.$bind(t),void 0!=t.value&&t.setValue(t.value),t._onshow=function(){setTimeout(this._timedOpacity,500)},t._onshow=t._onshow.$bind(t),t._timedOpacity=function(){this.dom.style.opacity="0.5"},t._timedOpacity=t._timedOpacity.$bind(t),t._onfandirectionchanged=function(t){var e="fan";if($ui.removeClass(this.dom,"fan"),$ui.removeClass(this.dom,"face"),$ui.removeClass(this.dom,"feet"),$ui.removeClass(this.dom,"frontDemist"),t&&t.data&&t.data.fanDirection){var i=t.data.fanDirection;e=i.enabled?i.face?"face":i.feet?"feet":"frontDemist":"fan"}$ui.addClass(this.dom,e)}.$bind(t),$ui.addEventListener("onfandirectionchanged",t._onfandirectionchanged),t.dom}function emulator_FanSpeedControl(t,e){function i(){this.style.opacity="0.7"}function o(){this.style.opacity="1"}function n(t){t.ontouchstart=i,t.ontouchend=o,t.ontouchcancel=o,$ui.isMobileDevice()||(t.onmousedown=i,t.onmouseup=o,t.onmouseleave=o)}function s(t,e,i){var o=document.createElement("div");return $ui.addClass(o,"text-button theme-text-color"),$ui.addClass(o,e),o.textContent=i,n(o),t.appendChild(o),o}function a(e){e.ontouchstart=t._private.circleTouchStart,e.ontouchmove=t._private.circleTouchMove,e.ontouchend=t._private.circleTouchEnd,e.ontouchcancel=t._private.circleTouchCancel,$ui.isMobileDevice()||(e.onmousedown=t._private.circleTouchStart,e.onmousemove=t._private.circleTouchMove,e.onmouseup=t._private.circleTouchEnd,e.onmouseleave=t._private.circleTouchCancel)}return $ui_CoreComponent.call(this,t,e),t._private={touched:!1,rotation:-3e3,fanSpeed:-6,oldRotation:-1},t._private.circleTouchStart=function(t){$ui.playTouchSound(),this._private.touched=!0,this._private.touchStartedTime=(new Date).getTime(),this._private.oldRotation=this._private.rotation,this._private.oldTransition=this.dom.outerCircle.style.webkitTransition,this._private.circleTouchMove(t)}.$bind(t),t._private.circleTouchMove=function(t){if(this._private.touched){this._private.touchStartedTime&&(new Date).getTime()-this._private.touchStartedTime>100&&(this.dom.outerCircle.style.webkitTransition="translate 0.1s",this._private.touchStartedTime=null);var e,i;if(t.offsetX)e=t.offsetX-200,i=t.offsetY-200;else if(t.touches){var o=t.touches[0],n=this.dom.touchCircle.getBoundingClientRect();e=o.clientX-n.left-200,i=o.clientY-n.top-200}var s;0==i?s=e>0?90:270:(s=360*(Math.atan(e/i)/2/Math.PI),e>0&&i>0||(0>i&&e>0?s=90+(90- -s):0>i&&0>i?s=180+s:i>0&&0>e&&(s=270+(90- -s)))),s=360-s,55>s&&s>30?s=45:30>s?s=0:s>330?s=0:s>315&&345>s&&(s=315),this._private.setRotation(s)}}.$bind(t),t._private.circleTouchEnd=function(){if(this._private.touched){this._private.touched=!1,this.dom.outerCircle.style.webkitTransition=this._private.oldTransition;var t=this._private.rotation;0==t?this.setFanSpeed(-1):this.setFanSpeed((t-45)/270)}}.$bind(t),t._private.circleTouchCancel=function(){this._private.touched&&(this._private.touched=!1,this.dom.outerCircle.style.webkitTransition=this._private.oldTransition,setTimeout(this._private.revertRotation,150))}.$bind(t),t._private.revertRotation=function(){this._private.touched||this._private.setRotation(this._private.oldRotation)}.$bind(t),t.setFanSpeed=function(t){if((-1==t||t>=0&&1>=t)&&t!=this._private.fanSpeed){if(this._private.fanSpeed=t,-1==t)this._private.setRotation(0);else{var e=45+270*t;this._private.setRotation(e)}$system.hvac.fanSpeed=t}}.$bind(t),t._private.setRotation=function(t){0>t&&(t=-t,t%=360,t=360-t),t%=360,this._private.rotation!=t&&(this.dom.outerCircle.style.webkitTransform="rotate("+t+"deg)",this.dom.fanOuterCircle.style.webkitTransform="rotate("+.1*t+"deg)",this._private.rotation=t)}.$bind(t),$ui.addClass(t.dom,"ui-fan-speed-control"),t.dom.off=s(t.dom,"off","Off"),t.dom.auto=s(t.dom,"auto","Auto"),t.dom.max=s(t.dom,"max","Max"),t.dom.off.onclick=function(){$ui.playTouchSound(),this.setFanSpeed(0)}.$bind(t),t.dom.auto.onclick=function(){$ui.playTouchSound(),this.setFanSpeed(-1)}.$bind(t),t.dom.max.onclick=function(){$ui.playTouchSound(),this.setFanSpeed(1)}.$bind(t),t.dom.outerCircle=document.createElement("div"),$ui.addClass(t.dom.outerCircle,"outer-circle theme-border-color"),t.dom.appendChild(t.dom.outerCircle),t.dom.innerCircle=document.createElement("div"),$ui.addClass(t.dom.innerCircle,"inner-circle theme-border-color"),t.dom.outerCircle.appendChild(t.dom.innerCircle),t.dom.dot=document.createElement("div"),$ui.addClass(t.dom.dot,"dot theme-border-color theme-brand-background-color"),t.dom.outerCircle.appendChild(t.dom.dot),t.dom.fanOuterCircle=document.createElement("div"),$ui.addClass(t.dom.fanOuterCircle,"fan-outer-circle theme-border-color"),t.dom.appendChild(t.dom.fanOuterCircle),t.dom.fanInnerCircle=document.createElement("div"),$ui.addClass(t.dom.fanInnerCircle,"fan-inner-circle theme-border-color"),t.dom.fanOuterCircle.appendChild(t.dom.fanInnerCircle),t.dom.touchCircle=document.createElement("div"),$ui.addClass(t.dom.touchCircle,"touch-circle"),t.dom.appendChild(t.dom.touchCircle),a(t.dom.touchCircle),t.setFanSpeed($system.hvac.fanSpeed),t.dom}function emulator_HVACBar(t,e){$ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"hvac theme-brand-border-color theme-screen-background-color");var i;return void 0==t.driver?t.driver={temperature:{value:0,side:"left",visible:!1},seat:{value:0,side:"left",visible:!1}}:(void 0==t.driver.temperature&&(t.driver.temperature={value:0,visible:!1}),void 0==t.driver.seat&&(t.driver.seat={value:0,visible:!1}),t.driver.temperature.side="left",t.driver.seat.side="left"),i=new emulator_TemperatureButton(t.driver.temperature,e),t.dom.appendChild(i),i=new emulator_SeatButton(t.driver.seat,e),t.dom.appendChild(i),void 0==t.passenger?t.passenger={temperature:{value:0,side:"right",visible:!1},seat:{value:0,side:"right",visible:!1}}:(void 0==t.passenger.temperature&&(t.passenger.temperature={value:0,visible:!1}),void 0==t.passenger.seat&&(t.passenger.seat={value:0,visible:!1}),t.passenger.temperature.side="right",t.passenger.seat.side="right"),i=new emulator_TemperatureButton(t.passenger.temperature,e),t.dom.appendChild(i),i=new emulator_SeatButton(t.passenger.seat,e),t.dom.appendChild(i),t._rearDefrost=1==t.showDefrostOnBar?{parent:t}:{parent:t,visible:!1},i=new emulator_DefrostButton(t._rearDefrost,e),t.dom.appendChild(i),t.fans?t.fans.parent=t:t.fans={parent:t,visible:!1},i=new emulator_FansButton(t.fans,e),t.dom.appendChild(i),t._getHeight=function(){return 1==$system.isClientDevice?60:120},t._getHeight=t._getHeight.$bind(t),t._setVisible=function(){this.screen._recalculateLayout()},t._setVisible=t._setVisible.$bind(t),t._setVisible(t.visible),t.dom}function emulator_PopupHvac(t,e){return t&&(t.animated=!1,t.floatOnTop=!0),$ui_CoreScreen.call(this,t,e),$ui.addClass(t.dom,"emulator-popup-hvac"),t._protected.ontouchstart=function(){this.dom.doneSpan.style.opacity=.7}.bind(t),t._protected.ontouchend=function(){this.dom&&this.dom.doneSpan&&(this.dom.doneSpan.style.opacity="")}.bind(t),t._protected.ondone=function(t){t.stopPropagation(),$ui.playTouchSound(),$ui.pop()}.bind(t),t.dom.done=document.createElement("div"),$ui.addClass(t.dom.done,"done theme-brand-background-color theme-text-color"),t.dom.appendChild(t.dom.done),t.dom.done.onclick=t._protected.ondone,t.dom.onclick=t._protected.ondone,t.dom.done.ontouchstart=t._protected.ontouchstart,t.dom.done.ontouchend=t._protected.ontouchend,t.dom.done.ontouchcancel=t._protected.ontouchend,$ui.isMobileDevice()||(t.dom.done.onmousedown=t._protected.ontouchstart,t.dom.done.onmouseleave=t._protected.ontouchend,t.dom.done.onmouseup=t._protected.ontouchend),t.dom.doneSpan=document.createElement("span"),t.dom.doneSpan.textContent="Done",t.dom.done.appendChild(t.dom.doneSpan),t.dom.content=document.createElement("div"),$ui.addClass(t.dom.content,"content theme-screen-background-color theme-border-color"),t.dom.appendChild(t.dom.content),t.dom.content.onclick=function(t){t.stopPropagation()},t.fanDirection||(t.fanDirection={}),t.fanDirection.parent=t,t.dom.content.appendChild(new emulator_FanDirectionControl(t.fanDirection,t)),t.fanSpeed||(t.fanSpeed={}),t.fanSpeed.parent=t,t.dom.content.appendChild(new emulator_FanSpeedControl(t.fanSpeed,t)),t.setBackground=function(t){this.dom.content.style.backgroundImage=void 0==t?"":'url("'+t.img+'")'}.$bind(t),t.dom}function emulator_SeatButton(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"seat"),void 0!=t.side&&$ui.addClass(t.dom,t.side),void 0==t.maxLevel&&(t.maxLevel=0),t.dom.onclick=function(){this.model.level==this.model.maxLevel?this.model.setLevel(0):this.model.setLevel(this.model.level+1),$ui.playTouchSound(),this.model.onclick&&this.model.onclick()},t.dom.ontouchstart=function(){$ui.addClass(this,"selected")},t.dom.ontouchend=function(){$ui.removeClass(this,"selected")},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.setLevel=function(t){var e=void 0==this.level?0:this.level;void 0==t&&(t=0),this.level=t,$ui.removeClass(this.dom,"level-"+e),$ui.addClass(this.dom,"level-"+this.level)},t.setLevel=t.setLevel.$bind(t),void 0!=t.level&&t.setLevel(t.level),t._onshow=function(){setTimeout(this._timedOpacity,500)},t._onshow=t._onshow.$bind(t),t._timedOpacity=function(){this.dom.style.opacity="1.0"},t._timedOpacity=t._timedOpacity.$bind(t),t.dom}function emulator_TemperatureButton(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"temperature theme-brand-text-color"),void 0!=t.side&&$ui.addClass(t.dom,t.side),t.dom.onclick=function(){$ui.playTouchSound(),this.model.onclick&&this.model.onclick()},t.dom.ontouchstart=function(){$ui.removeClass(this,"theme-brand-text-color"),$ui.addClass(this,"theme-text-color")},t.dom.ontouchend=function(){$ui.removeClass(this,"theme-text-color"),$ui.addClass(this,"theme-brand-text-color")},t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.setTemperature=function(t){this.value=t;var e=$system.isCelsius()?"C":"F";this.dom.innerHTML=t+'<span class="small">&deg;'+e+"</span>"},t.setTemperature=t.setTemperature.$bind(t),t.value&&t.setTemperature(t.value),t.dom}function emulator_NavigationBar(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"navigation theme-screen-background-color theme-brand-border-color"),t.dom.clock=document.createElement("div"),$ui.addClass(t.dom.clock,"clock theme-brand-text-color"),t.dom.appendChild(t.dom.clock),t._updateClock=function(){var t=new Date,e=t.getHours(),i=t.getMinutes();e=e>12?e-12:e,i=10>i?"0"+i:i,this.dom.clock.textContent=e+":"+i},t._updateClock=t._updateClock.$bind(t),window.setInterval(t._updateClock,1e4),t._updateClock(),t.dom.homeLine=document.createElement("div"),$ui.addClass(t.dom.homeLine,"line theme-light-background-color"),$ui.addClass(t.dom.homeLine,"home"),t.dom.appendChild(t.dom.homeLine),t.dom.centerLine=document.createElement("div"),$ui.addClass(t.dom.centerLine,"line theme-light-background-color"),$ui.addClass(t.dom.centerLine,"center"),t.dom.appendChild(t.dom.centerLine),t.dom.moreLine=document.createElement("div"),$ui.addClass(t.dom.moreLine,"line theme-light-background-color"),$ui.addClass(t.dom.moreLine,"more"),t.dom.appendChild(t.dom.moreLine),t.dom.dot=document.createElement("div"),$ui.addClass(t.dom.dot,"dot theme-brand-background-color"),t.dom.appendChild(t.dom.dot),t.dom.homeBtn=document.createElement("div"),t.dom.homeBtn.model=t,t._selectedButton=t.dom.homeBtn,$ui.addClass(t.dom.homeBtn,"circle-button theme-border-color"),$ui.addClass(t.dom.homeBtn,"home"),t.dom.appendChild(t.dom.homeBtn),t.dom.homeBtn.onclick=function(){this.model._selectedButton!=this&&(this.model._selectedButton=this,this.model.dom.dot.style["-webkit-transform"]=this.model._chrome.isDualView||1==$system.isClientDevice?"translateX(0px)":"translateY(0px)",this.model.dom.centerBtn._hide(),this.model._chrome.primaryWindow.popToHome(),$ui.playTouchSound())},t.dom.centerBtn=document.createElement("div"),t.dom.centerBtn.model=t,t.dom.centerBtn._hidden=!0,$ui.addClass(t.dom.centerBtn,"circle-button theme-border-color"),$ui.addClass(t.dom.centerBtn,"center"),t.dom.appendChild(t.dom.centerBtn),t.dom.centerBtn.onclick=function(){this._hidden!==!0&&this.model._selectedButton!=this&&(this.model._selectedButton=this,this.model.dom.dot.style["-webkit-transform"]=this.model._chrome.isDualView||1==$system.isClientDevice?"translateX("+(this.offsetLeft-this.model.dom.homeBtn.offsetLeft)+"px)":"translateY("+(this.offsetTop-this.model.dom.homeBtn.offsetTop)+"px)",$ui.playTouchSound(),this.model._chrome.primaryWindow.pop())},t.dom.centerBtn._hide=function(){this.model.dom.centerBtn.style.opacity="0",this.model.dom.centerLine.style.opacity="1.0",this._hidden=!0},t.dom.centerBtn._hide=t.dom.centerBtn._hide.$bind(t.dom.centerBtn),t.dom.centerBtn._show=function(){this.model.dom.centerBtn.style.opacity="1.0",this.model.dom.centerLine.style.opacity="0",this._hidden=!1},t.dom.centerBtn._show=t.dom.centerBtn._show.$bind(t.dom.centerBtn),t.dom.moreBtn=document.createElement("div"),t.dom.moreBtn.model=t,$ui.addClass(t.dom.moreBtn,"circle-button theme-border-color"),$ui.addClass(t.dom.moreBtn,"more"),t.dom.appendChild(t.dom.moreBtn),t.dom.moreBtn.onclick=function(){this.model._selectedButton!=this&&(this.model._selectedButton=this,this.model.dom.dot.style["-webkit-transform"]=this.model._chrome.isDualView||1==$system.isClientDevice?"translateX("+(this.offsetLeft-this.model.dom.homeBtn.offsetLeft)+"px)":"translateY("+(this.offsetTop-this.model.dom.homeBtn.offsetTop)+"px)",$ui.playTouchSound(),this.model._chrome&&this.model._chrome.onsettingsclick&&this.model._chrome.onsettingsclick())},t._recalculateLayout=function(){if(this._chrome.isDualView||1==$system.isClientDevice){var t,e=this.dom.homeBtn.offsetLeft+this.dom.homeBtn.offsetWidth,i=this.dom.moreBtn.offsetLeft,o=Math.floor((i-e)/2);t=i-o-Math.floor(this.dom.centerBtn.offsetWidth/2),this.dom.centerBtn.style.left=t+"px",this.dom.homeLine.style.width=t-e+2+"px",this.dom.moreLine.style.width=i-t-this.dom.centerBtn.offsetHeight+2+"px",this.dom.dot.style["-webkit-transform"]="translateX("+(this._selectedButton.offsetLeft-this.dom.homeBtn.offsetLeft)+"px)"}else{var n,s=this.dom.homeBtn.offsetTop+this.dom.homeBtn.offsetHeight,a=this.dom.moreBtn.offsetTop,o=Math.floor((a-s)/2);n=a-o-Math.floor(this.dom.centerBtn.offsetHeight/2),this.dom.centerBtn.style.top=n+"px",this.dom.homeLine.style.height=n-s+"px",this.dom.moreLine.style.height=a-n-this.dom.centerBtn.offsetHeight+"px",this.dom.dot.style["-webkit-transform"]="translateY("+(this._selectedButton.offsetTop-this.dom.homeBtn.offsetTop)+"px)"}},t._recalculateLayout=t._recalculateLayout.$bind(t),t._onresize=function(){this._recalculateLayout()},t._onresize=t._onresize.$bind(t),t._getHeight=function(){return 1==$system.isClientDevice?86:window.innerHeight>window.innerWidth?126:150},t._getHeight=t._getHeight.$bind(t),t._setNavigationMenu=function(t){this.dom.centerBtn._appContainer!=t&&(this.dom.centerBtn._hidden=!1,this.dom.centerBtn.style.opacity="1.0",this.dom.centerBtn._appContainer=t,this.dom.centerBtn.style.backgroundImage='url("'+t.icon+'")',this.dom.centerLine.style.opacity="0",this._selectedButton=this.dom.centerBtn,this.dom.dot.style["-webkit-transform"]=this._chrome.isDualView||1==$system.isClientDevice?"translateX("+(this.dom.centerBtn.offsetLeft-this.dom.homeBtn.offsetLeft)+"px)":"translateY("+(this.dom.centerBtn.offsetTop-this.dom.homeBtn.offsetTop)+"px)")},t._setNavigationMenu=t._setNavigationMenu.$bind(t),setTimeout(t._recalculateLayout,0),t.dom}function emulator_TitleBar(t,e){return $ui_CoreComponent.call(this,t,e),t?($ui.addClass(t.dom,"emulator-title-bar theme-brand-border-color"),t.dom.buttonBar=document.createElement("div"),$ui.addClass(t.dom.buttonBar,"button-bar"),t.dom.appendChild(t.dom.buttonBar),t.dom.sizePhone=document.createElement("div"),t.dom.sizePhone.model=t,$ui.addClass(t.dom.sizePhone,"button"),t.dom.buttonBar.appendChild(t.dom.sizePhone),t.dom.sizePhone.outline=document.createElement("div"),$ui.addClass(t.dom.sizePhone.outline,"outline theme-dark-border-color theme-text-color sizePhone"),t.dom.sizePhone.appendChild(t.dom.sizePhone.outline),t.dom.sizePhone.speaker=document.createElement("div"),$ui.addClass(t.dom.sizePhone.speaker,"speaker"),t.dom.sizePhone.outline.appendChild(t.dom.sizePhone.speaker),t.dom.sizePhone.screen=document.createElement("div"),$ui.addClass(t.dom.sizePhone.screen,"screen"),t.dom.sizePhone.outline.appendChild(t.dom.sizePhone.screen),t.dom.sizePhone.homeButton=document.createElement("div"),$ui.addClass(t.dom.sizePhone.homeButton,"homeButton"),t.dom.sizePhone.outline.appendChild(t.dom.sizePhone.homeButton),t.dom.sizePhone.phoneText=document.createElement("div"),t.dom.sizePhone.phoneText.textContent="Phone",$ui.addClass(t.dom.sizePhone.phoneText,"phoneText theme-highlight-text-color"),t.dom.sizePhone.appendChild(t.dom.sizePhone.phoneText),t.dom.sizePhone.onclick=function(){this.model.parent._setResolution("375x667")},t.dom.size7=document.createElement("div"),t.dom.size7.model=t,$ui.addClass(t.dom.size7,"button"),t.dom.buttonBar.appendChild(t.dom.size7),t.dom.size7.outline=document.createElement("div"),$ui.addClass(t.dom.size7.outline,"outline theme-dark-border-color theme-text-color size7"),t.dom.size7.appendChild(t.dom.size7.outline),t.dom.size7.outline.textContent="7",t.dom.size7.onclick=function(){this.model.parent._setResolution("1024x600")},t.dom.size10portrait=document.createElement("div"),t.dom.size10portrait.model=t,$ui.addClass(t.dom.size10portrait,"button"),t.dom.buttonBar.appendChild(t.dom.size10portrait),t.dom.size10portrait.outline=document.createElement("div"),$ui.addClass(t.dom.size10portrait.outline,"outline theme-text-color size10portrait"),t.dom.size10portrait.appendChild(t.dom.size10portrait.outline),$ui.addClass(t.dom.size10portrait.outline,"theme-brand-border-color"),t.dom.size10portrait.outline.textContent="10.1",t.dom.size10portrait.onclick=function(){this.model.parent._setResolution("800x1280")},t.dom.size10landscape=document.createElement("div"),t.dom.size10landscape.model=t,$ui.addClass(t.dom.size10landscape,"button"),t.dom.buttonBar.appendChild(t.dom.size10landscape),t.dom.size10landscape.outline=document.createElement("div"),$ui.addClass(t.dom.size10landscape.outline,"outline theme-dark-border-color theme-text-color size10landscape"),t.dom.size10landscape.appendChild(t.dom.size10landscape.outline),t.dom.size10landscape.outline.textContent="10.1",t.dom.size10landscape.onclick=function(){this.model.parent._setResolution("1280x800")},t.highlightButtons=function(){var e=t.parent._getResolution();$ui.removeClass(this.dom.size7.outline,"theme-brand-border-color"),$ui.removeClass(this.dom.size10portrait.outline,"theme-brand-border-color"),$ui.removeClass(this.dom.size10landscape.outline,"theme-brand-border-color"),$ui.removeClass(this.dom.sizePhone.outline,"theme-brand-border-color"),$ui.addClass(this.dom.size7.outline,"theme-dark-border-color"),$ui.addClass(this.dom.size10portrait.outline,"theme-dark-border-color"),$ui.addClass(this.dom.size10landscape.outline,"theme-dark-border-color"),$ui.addClass(this.dom.sizePhone.outline,"theme-dark-border-color"),"1024x600"===e?($ui.removeClass(this.dom.size7.outline,"theme-dark-border-color"),$ui.addClass(this.dom.size7.outline,"theme-brand-border-color")):"800x1280"===e?($ui.removeClass(this.dom.size10portrait.outline,"theme-dark-border-color"),$ui.addClass(this.dom.size10portrait.outline,"theme-brand-border-color")):"1280x800"===e?($ui.removeClass(this.dom.size10landscape.outline,"theme-dark-border-color"),$ui.addClass(this.dom.size10landscape.outline,"theme-brand-border-color")):"375x667"===e&&($ui.removeClass(this.dom.sizePhone.outline,"theme-dark-border-color"),$ui.addClass(this.dom.sizePhone.outline,"theme-brand-border-color"))}.$bind(t),t.dom):void 0}function emulator_WedgeNumber(t,e){emulator_CoreWedgeScreen.call(this,t,e),$ui.addClass(t.dom,"emulator-wedge-number"),t.dom.box=document.createElement("div"),$ui.addClass(t.dom.box,"box"),t.dom.wedge.appendChild(t.dom.box);var i,o=t._degrees;return 1!=t._isRightToLeft&&(o="-"+o),t.dom.box.style["-webkit-transform"]="rotate("+o+"deg)",t._increaseNumber=function(){if(!this.onspinnerpress){var t=this.value;this.value=this.value+1,t!=this.value&&this.onchange&&this.onchange()}}.$bind(t),t._decreaseNumber=function(){if(!this.onspinnerpress){var t=this.value;this.value=this.value-1,t!=this.value&&this.onchange&&this.onchange()}}.$bind(t),t._upPressed=function(t){this.onspinnerpress&&this.onspinnerpress(1,t)}.$bind(t),t._downPressed=function(t){this.onspinnerpress&&this.onspinnerpress(-1,t)}.$bind(t),t._upButton={direction:"up",onclick:t._increaseNumber,onpressed:t._upPressed},i=new emulator_WedgeNumberButton(t._upButton,t),t.dom.box.appendChild(i),t._downButton={direction:"down",onclick:t._decreaseNumber,onpressed:t._downPressed},i=new emulator_WedgeNumberButton(t._downButton,t),t.dom.box.appendChild(i),t.dom.display=document.createElement("div"),$ui.addClass(t.dom.display,"display theme-text-color"),t.dom.box.appendChild(t.dom.display),void 0==t.value&&(t.value=0),t.dom.display.textContent=t.value,t._protected.value=t.value,Object.defineProperty(t,"value",{get:function(){return this._protected.value},set:function(t){void 0==t&&(t=0),t!=this._protected.value&&(void 0!=this.min&&this.min>t||void 0!=this.max&&t>this.max||(this._protected.value=t,this.dom.display.textContent=t))},configurable:!1}),t._protected.min=t.min,Object.defineProperty(t,"min",{get:function(){return this._protected.min},set:function(t){void 0==t&&(t=0),t!=this._protected.min&&(this._protected.min=t)},configurable:!1}),t._protected.max=t.max,Object.defineProperty(t,"max",{get:function(){return this._protected.max},set:function(t){void 0==t&&(t=0),t!=this._protected.max&&(this._protected.max=t)},configurable:!1}),t.dom}function emulator_WedgeNumberButton(t,e){return $ui_CoreComponent.call(this,t,e),$ui.addClass(t.dom,"button"),void 0!=t.direction?$ui.addClass(t.dom,t.direction):$ui.addClass(t.dom,"up"),t.dom.arrow=document.createElement("div"),$ui.addClass(t.dom.arrow,"arrow"),t.dom.appendChild(t.dom.arrow),t.dom.onclick=function(){$ui.playTouchSound(),this.model.onclick&&this.model.onclick()},Object.defineProperty(t,"pressed",{get:function(){return console.log("Getting..."),this._pressed}.$bind(t),set:function(t){console.log("Pressing..."),this._pressed!=t&&(this._pressed=t,this.onpressed&&this.onpressed(this._pressed))}.$bind(t)}),t.dom.ontouchstart=function(){this.pressed=!0,this.dom.style.opacity="0.5"}.$bind(t),t.dom.ontouchend=function(){this.pressed=!1,this.dom.style.opacity=""}.$bind(t),t.dom.ontouchcancel=t.dom.ontouchend,$ui.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom}function emulator_Window(t,e){return $ui_CoreComponent.call(this,t,e),t?($ui.addClass(t.dom,"emulator-window theme-screen-background-color"),t.screens=[],1!=t.secondary&&(t.secondary=!1),t._protected.secondary=t.secondary,Object.defineProperty(t,"secondary",{get:function(){return this._protected.secondary},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","secondary"))},configurable:!1}),t.push=function(t,e){if(t=new t,t.container=this,t.chrome=this.parent,t.width||(t.width=this.dom.offsetWidth),t.component==$ui.AppContainer)var i=new emulator_AppContainer(t,e);else{if(t.component!=$ui.WindowPane)return;var i=new $ui_WindowPane(t,e)}this.screens.push(t),t.icon&&0==this.secondary&&this.screen._setNavigationMenu(t),this.dom.appendChild(i),t.initialize()}.$bind(t),t.popToHome=function(){if(!(1>=this.screens.length)){if($ui.inScreenTransition=!0,$ui._blockAllTapEvent(!0),this.screens[0].dom.style.visibility="",this.screens.length>1){var t=this.screens[this.screens.length-1];t.onbeforepop&&t.onbeforepop()}setTimeout(this._popToHome,0)}}.$bind(t),t.pop=function(){if(!(1>=this.screens.length)){if($ui.inScreenTransition=!0,$ui._blockAllTapEvent(!0),this.screens[this.screens.length-2].dom.style.visibility="",this.screens.length>1){var t=this.screens[this.screens.length-1];t.onbeforepop&&t.onbeforepop()}setTimeout(this._pop,0)}}.$bind(t),t._pop=function(){if(!(1>=this.screens.length)){var t=this.screens[this.screens.length-1];this._removeScreen(t),$ui.inScreenTransition=!1,$ui._blockAllTapEvent(!1)}}.$bind(t),t._popToHome=function(){if(!(1>=this.screens.length)){var t,e;for(e=this.screens[this.screens.length-1],this._removeScreen(e),$ui.inScreenTransition=!1,$ui._blockAllTapEvent(!1),t=this.screens.length-1;t>0;t--)this._removeScreen(this.screens[t])}}.$bind(t),t._removeScreen=function(t){t.dom.style.display="none",this.dom.removeChild(t.dom),void 0!=t._appId&&$system.unregisterApp(t._appId),t.destroy(),this.screens.pop()}.$bind(t),t._resizeListener=function(){var t,e;for(t=0;this.screens.length>t;t++)e=this.screens[t],e._onresize&&e._onresize(),e._onwindowpaneresize&&e._onwindowpaneresize(),e.onresize&&e.onresize()}.$bind(t),window.addEventListener("resize",t._resizeListener,!1),t._destroy=function(){window.removeEventListener("resize",this._resizeListener)}.$bind(t),t._onthemechange=function(){var t,e;for(t=0;this.screens.length>t;t++)e=this.screens[t],e._onthemechange&&e._onthemechange()}.$bind(t),t.windowPane?setTimeout(function(){t.push(t.windowPane)},0):t.manifest&&setTimeout(function(){$core.openApp(t.manifest,t)},0),t.dom):void 0}var $ui={_protected:{PROPERTY_WARNING:'WARNING: Property "[prop]" cannot be dynamically updated',screens:[],definitions:[],extensions:[],inScreenTransition:!1,theme:{},events:[],pushQueue:[]},Size:{HUGE:"huge",LARGE:"large",NORMAL:"normal",SMALL:"small",TINY:"tiny",FILL:"fill"},UIExtensionType:{CONTROL:0,SCREEN:1,LISTITEM:2,ATTACHED_OBJECT:3},init:function(t,e){this._protected.options=e,e&&e.theme?this._applyTheme(e.theme):console.log("WARNING: Theme has not been defined"),document.body._blockAllTapEvent=function(t){t.preventDefault(),t.stopPropagation()}.$bind(document.body),FastClick.attach(document.body);for(var i=0;this._protected.extensions.length>i;i++)this._protected.extensions[i]();this.push(t),window.addEventListener("resize",function(){var t,e;for(t=0;$ui.screens.length>t;t++)e=$ui.screens[t],e._onresize&&e._onresize(),e.onresize&&e.onresize()},!1)},test_init:function(t,e){this._protected.options=e,e&&e.theme&&this._applyTheme(e.theme),document.body._blockAllTapEvent=function(){};for(var i=0;this._protected.extensions.length>i;i++)this._protected.extensions[i]();this.push(t)},extend:function(t){t&&this._protected.extensions.push(t)},addExtension:function(t){void 0==t.type&&(t.type=$ui.UIExtensionType.CONTROL),void 0==t.definition&&(t.definition={}),$ui[t.name]=t.definition,t.component=$ui[t.name],void 0==t.type&&(t.type=$ui.UIExtensionType.CONTROL),this._protected.definitions.push(t)},_raiseInteractionEvent:function(t){if(void 0!=this.oninteraction&&void 0!=t&&null!=t&&void 0!=t.screenId&&null!=t.screenId&&void 0!=t.controlId&&null!=t.controlId&&void 0!=t.interaction&&null!=t.interaction){var e=this.oninteraction;setTimeout(function(){e(t)},0)}},createControl:function(t,e){if(void 0==t)throw'$ui.createControl: "control" is not defined';if(void 0==e)throw'$ui.createControl: "screen" is not defined';var i,o,n=void 0;for(i=0;this._protected.definitions.length>i;i++)if(o=this._protected.definitions[i],o.type==$ui.UIExtensionType.CONTROL&&o.component==t.component){n=new o.constructor(t,e);break}return n},isMobileDevice:function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|android|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)
}(navigator.userAgent||navigator.vendor||window.opera),t},_blockAllTapEvent:function(t){void 0!=t&&(t===!0?(document.body.addEventListener("click",document.body._blockAllTapEvent,!0),document.body.addEventListener("touchstart",document.body._blockAllTapEvent,!0)):t===!1&&(document.body.removeEventListener("click",document.body._blockAllTapEvent,!0),document.body.removeEventListener("touchstart",document.body._blockAllTapEvent,!0)))},push:function(t,e,i){$ui._protected.inScreenTransition===!0?(this._protected.pushQueue.push({screen:t,data:e,options:i}),setTimeout(this._clearPushQueue,100)):this._executePush(t,e,i)},_clearPushQueue:function(){return $ui._protected.inScreenTransition===!0?(setTimeout($ui._clearPushQueue,100),void 0):(0!=$ui._protected.pushQueue.length&&(item=$ui._protected.pushQueue[0],$ui._protected.pushQueue.splice(0,1),$ui._executePush(item.screen,item.data,item.options)),void 0)},_executePush:function(t,e,i){t=new t;var o=void 0==i?!0:0!=i.visible;t.oncreate&&t.oncreate(e);var n,s,a;for(s=0;this._protected.definitions.length>s;s++)if(a=this._protected.definitions[s],a.type==$ui.UIExtensionType.SCREEN&&a.component==t.component){n=new a.constructor(t,e);break}if(void 0!=n)if($ui._blockAllTapEvent(!0),$ui._protected.inScreenTransition=!0,$ui.screens.push(t),0==o&&(n.style.visibility="hidden",t._protected.initialVisibility=!1),document.body.appendChild(n),1==t.animated&&1==o)t._numScreensToClose=void 0!=i?i.numScreensToClose:void 0,t.dom.pushAnimationEnd=function(e){if(e.target==this.model.dom){this.removeEventListener("webkitAnimationEnd",this.pushAnimationEnd),this.removeEventListener("animationend",this.pushAnimationEnd),this.style["-webkit-animation-name"]="none",this.style["animation-name"]="none",$ui._popBelowTop(this.model._numScreensToClose);var i,o;for(i=0;$ui._protected.screens.length>i;i++)o=$ui._protected.screens[i],0==o._protected.initialVisibility&&(o.dom.style.visibility="",o._protected.initialVisibility=void 0);var n=$ui._protected.screens.length;n>1&&0==t.floatOnTop&&($ui._protected.screens[n-2].dom.style.display="none"),this.model.initialize()}},t.dom.pushAnimationEnd=t.dom.pushAnimationEnd.$bind(t.dom),t.dom.addEventListener("webkitAnimationEnd",t.dom.pushAnimationEnd,!1),t.dom.addEventListener("animationend",t.dom.pushAnimationEnd,!1);else{if(i&&$ui._popBelowTop(i.numScreensToClose),1==o){var r;for(s=0;$ui._protected.screens.length>s;s++)r=$ui._protected.screens[s],0==r._protected.initialVisibility&&(r.dom.style.visibility="",r._protected.initialVisibility=void 0)}var d=$ui._protected.screens.length;d>1&&0==t.floatOnTop&&($ui._protected.screens[d-2].dom.style.display="none"),t.initialize()}},_popBelowTop:function(t){if(void 0!=t&&t>0&&$ui.screens.length-2>-1){var e,i,o=0;for(e=$ui.screens.length-2;e>-1&&t>o;e--)i=$ui.screens[e],i.onbeforepop&&i.onbeforepop(),$ui._removeScreen(i),o++}},popUntil:function(t){var e=this._protected.screens.indexOf(t);e!=this._protected.screens.length-1&&e>=0&&this.pop(this._protected.screens.length-(e+1))},pop:function(t){if(0!=$ui.screens.length)if($ui._protected.inScreenTransition===!0)setTimeout(function(){$ui.pop(t)},100);else{$ui._blockAllTapEvent(!0),$ui._protected.inScreenTransition=!0,$ui._popBelowTop(t-1);var e=$ui._protected.screens.length;e>1&&($ui._protected.screens[e-2].dom.style.display="block");var i=$ui.screens[$ui.screens.length-1];1==i.animated?(i.dom.addEventListener("webkitAnimationEnd",function(){$ui._removeScreen(this.model)},!1),i.dom.addEventListener("animationend",function(){$ui._removeScreen(this.model)},!1),i.onbeforepop&&i.onbeforepop()):(i.onbeforepop&&i.onbeforepop(),$ui._removeScreen(i))}},_removeScreen:function(t){try{t.dom.style.display="none",document.body.removeChild(t.dom),t.destroy();var e,i;for(e=this._protected.events.length-1;e>=0;e--)i=this._protected.events[e],i.screen==t&&(i.id=void 0,i.callback=void 0,i.screen=void 0,this._protected.events.splice(e,1))}catch(o){console.log(o)}$ui._protected.inScreenTransition=!1,$ui._blockAllTapEvent(!1);var n=$ui.screens.indexOf(t);$ui.screens.splice(n,1)},hasClass:function(t,e){if(void 0==t||null==t)return!1;var i=RegExp("(^| )"+e+"( |$)");return i.test(t.className)},addClass:function(t,e){void 0!=t&&null!=t&&($ui.hasClass(t,e)||(t.className?t.className+=" "+e:t.className=e))},removeClass:function(t,e){if(void 0!=t&&null!=t){var i=RegExp("(^| )"+e+"( |$)");t.className=t.className.replace(i," ").replace(/^\s+|\s+$/g,"")}},hexToRgb:function(t){function e(t){return"#"==t.charAt(0)?t.substring(1,7):t}if(void 0==t||null==t)return{};var i=parseInt(e(t).substring(0,2),16),o=parseInt(e(t).substring(2,4),16),n=parseInt(e(t).substring(4,6),16);return{R:i,G:o,B:n}},parseRgb:function(t){if(void 0==t||null==t)return{};var e,i,o;if("r"==t[0]){t=t.substring(t.indexOf("(")+1,t.indexOf(")"));var n=t.split(",",3);return e=parseInt(n[0]),i=parseInt(n[1]),o=parseInt(n[2]),{R:e,G:i,B:o}}return{}},guid:function(){function t(){return(0|65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},_applyTheme:function(t){function e(t,e){if(void 0==e||0==e.length)return t;var i,o,n=t;for(i=0;e.length>i;i++)o=e[i],n=n.replace(o.name,o.value);return n}if(this._protected.options.theme=t,void 0!=t){var i=document.createElement("style");if(i.setAttribute("type","text/css"),void 0!=this._protected.themeStyleElement&&document.head.removeChild(this._protected.themeStyleElement),this._protected.themeStyleElement=i,this.theme.classList){var o,n,s,a,r="";for(o=0;this.theme.classList.length>o;o++){for(s=this.theme.classList[o],r+=s.className+"{",n=0;s.properties.length>n;n++)a=s.properties[n],r+=a.name+": "+e(a.value,this.theme.variables)+";";r+="}\n"}i.innerHTML=r}document.head.appendChild(i)}},getScreenById:function(t){if(0==this._protected.screens.length)return void 0;var e,i;for(e=0;this._protected.screens.length>e;e++)if(i=this._protected.screens[e],i.id==t)return i;return void 0},addEventListener:function(t,e,i){if(void 0==t)return console.log('The "id" parameter cannot be undefined for addEventListener'),void 0;if(void 0==e)return console.log('The "callback" parameter cannot be undefined for addEventListener'),void 0;var o={id:t,callback:e,screen:i};this._protected.events.push(o)},removeEventListener:function(t,e){var i,o;for(i=this._protected.events.length-1;i>=0;i--)o=this._protected.events[i],o.id==t&&o.callback==e&&(o.id=void 0,o.callback=void 0,o.screen=void 0,this._protected.events.splice(i,1))},raiseEvent:function(t){this._protected.events.forEach(function(e){e.id==t.id&&e.callback&&setTimeout(function(){e.callback(t)},0)})}};Object.defineProperty($ui,"screens",{get:function(){return this._protected.screens},set:function(){console.log(this._protected.PROPERTY_WARNING.replace("[prop]","screens"))},configurable:!1}),Object.defineProperty($ui,"topMostScreen",{get:function(){return 0==this._protected.screens.length?void 0:this._protected.screens[this._protected.screens.length-1]},set:function(){console.log(this._protected.PROPERTY_WARNING.replace("[prop]","topMostScreen"))},configurable:!1}),Object.defineProperty($ui,"theme",{get:function(){return this._protected.options.theme},set:function(t){this._applyTheme(t);var e,i;for(e=0;this._protected.screens.length>e;e++)i=this._protected.screens[e],i._onthemechange&&i._onthemechange()},configurable:!1}),Object.defineProperty($ui,"options",{get:function(){return this._protected.options},set:function(){console.log($ui._protected.PROPERTY_WARNING.replace("[prop]","options"))},configurable:!1}),Function.prototype.$bind=function(t){var e=this;return function(){return e.apply(t,arguments)}},$ui.extend($ui_RegisterRootExtensions),$ui.DataEvent=function(t,e){if(void 0==t||null==t)throw'DataEvent - The identifier "id" must be supplied';this.id=t,this.data=e};var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var i,o;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),o=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},FastClick.prototype.determineEventType=function(t){"use strict";return deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(t){"use strict";var e;deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,i,o;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],deviceIsIOS){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!deviceIsIOS4&&soloUI.isPhoneGap===!0){if(i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,i,o,n,s,a=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(s=t.changedTouches[0],a=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||a,a.fastClickScrollParent=this.targetElement.fastClickScrollParent),o=a.tagName.toLowerCase(),"label"===o){if(e=this.findControl(a)){if(this.focus(a),deviceIsAndroid)return!1;a=e}}else if(this.needsFocus(a))return t.timeStamp-i>100||deviceIsIOS&&window.top!==window&&"input"===o?(this.targetElement=null,!1):(this.focus(a),this.sendClick(a,t),deviceIsIOS4&&"select"===o||(this.targetElement=null,t.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(n=a.fastClickScrollParent,n&&n.fastClickLastScrollTop!==n.scrollTop)?!0:(this.needsClick(a)||(t.preventDefault(),this.sendClick(a,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e,i;if(window.ontouchstart===void 0)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction?!0:!1},FastClick.attach=function(t,e){"use strict";return new FastClick(t,e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,$ui.ListFilter=function(t,e){this.name=t,this.expression=e},$ui_Spinner.prototype=new $ui_CoreComponent,$ui.extend($ui_ExtendSDK),$ui.TileSize={STANDARD:"standard",WIDE:"wide",TALL:"tall",SQUARE:"square"},$ui.calculateTimeInPast=function(t,e){try{if(void 0==t)return"?";if(void 0==e)return"?";t instanceof Date||(t=new Date(t)),e instanceof Date||(e=new Date(e));var i=e.getTime(),o=6e4*e.getTimezoneOffset(),n=i+o,s=-(t.getTimezoneOffset()/60),a=n+36e5*s;e=new Date(a);var r=Date.parse(e),d=Date.parse(t);if(isNaN(r))return"?";if(isNaN(d))return"?";var l=d-r;return l/1e3>1?l/1e3/60>1?l/1e3/60/60>1?l/1e3/60/60/24>1?l/1e3/60/60/24/7>1?l/1e3/60/60/24/30>1?l/1e3/60/60/24/365>1?Math.floor(l/1e3/60/60/24/365)+"y":12==Math.floor(l/1e3/60/60/24/30)?"1y":Math.floor(l/1e3/60/60/24/30)+"mo":Math.floor(l/1e3/60/60/24/7)+"w":7==Math.floor(l/1e3/60/60/24)?"1w":Math.floor(l/1e3/60/60/24)+"d":24==Math.floor(l/1e3/60/60)?"1d":Math.floor(l/1e3/60/60)+"h":60==Math.floor(l/1e3/60)?"1h":Math.floor(l/1e3/60)+"m":60==Math.floor(l/1e3)?"1m":Math.floor(l/1e3)+"s":"1s"}catch(c){return console.log(c.message),"?"}}.$bind($ui),$ui.DataEvent=function(t,e){if(void 0==t||null==t)throw'DataEvent - The identifier "id" must be supplied';this.id=t,this.data=e};var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var i,o;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),o=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},FastClick.prototype.determineEventType=function(t){"use strict";return deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(t){"use strict";var e;deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,i,o;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],deviceIsIOS){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!deviceIsIOS4&&soloUI.isPhoneGap===!0){if(i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,i,o,n,s,a=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(s=t.changedTouches[0],a=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||a,a.fastClickScrollParent=this.targetElement.fastClickScrollParent),o=a.tagName.toLowerCase(),"label"===o){if(e=this.findControl(a)){if(this.focus(a),deviceIsAndroid)return!1;a=e}}else if(this.needsFocus(a))return t.timeStamp-i>100||deviceIsIOS&&window.top!==window&&"input"===o?(this.targetElement=null,!1):(this.focus(a),this.sendClick(a,t),deviceIsIOS4&&"select"===o||(this.targetElement=null,t.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(n=a.fastClickScrollParent,n&&n.fastClickLastScrollTop!==n.scrollTop)?!0:(this.needsClick(a)||(t.preventDefault(),this.sendClick(a,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e,i;if(window.ontouchstart===void 0)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction?!0:!1},FastClick.attach=function(t,e){"use strict";return new FastClick(t,e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,$ui.ListFilter=function(t,e){this.name=t,this.expression=e},$ui_Spinner.prototype=new $ui_CoreComponent,function(){"use strict";var t=this,e=t.Chart,i=function(t){return this.canvas=t.canvas,this.ctx=t,this.width=t.canvas.width,this.height=t.canvas.height,this.aspectRatio=this.width/this.height,o.retinaScale(this),this};i.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},i.types={};var o=i.helpers={},n=o.each=function(t,e,i){var o=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var n;for(n=0;t.length>n;n++)e.apply(i,[t[n],n].concat(o))}else for(var s in t)e.apply(i,[t[s],s].concat(o))},s=o.clone=function(t){var e={};return n(t,function(i,o){t.hasOwnProperty(o)&&(e[o]=i)}),e},a=o.extend=function(t){return n(Array.prototype.slice.call(arguments,1),function(e){n(e,function(i,o){e.hasOwnProperty(o)&&(t[o]=i)})}),t},r=o.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),a.apply(null,t)},d=o.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var i=0;t.length>i;i++)if(t[i]===e)return i;return-1},l=(o.where=function(t,e){var i=[];return o.each(t,function(t){e(t)&&i.push(t)}),i},o.findNextWhere=function(t,e,i){i||(i=-1);for(var o=i+1;t.length>o;o++){var n=t[o];if(e(n))return n}},o.findPreviousWhere=function(t,e,i){i||(i=t.length);for(var o=i-1;o>=0;o--){var n=t[o];if(e(n))return n}},o.inherits=function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},o=function(){this.constructor=i};return o.prototype=e.prototype,i.prototype=new o,i.extend=l,t&&a(i.prototype,t),i.__super__=e.prototype,i}),c=o.noop=function(){},h=o.uid=function(){var t=0;return function(){return"chart-"+t++}}(),u=o.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},m=o.amd="function"==typeof define&&define.amd,p=o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},f=o.max=function(t){return Math.max.apply(Math,t)},v=o.min=function(t){return Math.min.apply(Math,t)},g=(o.cap=function(t,e,i){if(p(e)){if(t>e)return e}else if(p(i)&&i>t)return i;return t},o.getDecimalPlaces=function(t){return 0!==t%1&&p(t)?(""+t).split(".")[1].length:0}),b=o.radians=function(t){return t*(Math.PI/180)},C=(o.getAngleFromPoint=function(t,e){var i=e.x-t.x,o=e.y-t.y,n=Math.sqrt(i*i+o*o),s=2*Math.PI+Math.atan2(o,i);return 0>i&&0>o&&(s+=2*Math.PI),{angle:s,distance:n}},o.aliasPixel=function(t){return 0===t%2?0:.5}),_=(o.splineCurve=function(t,e,i,o){var n=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),s=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2)),a=o*n/(n+s),r=o*s/(n+s);return{inner:{x:e.x-a*(i.x-t.x),y:e.y-a*(i.y-t.y)},outer:{x:e.x+r*(i.x-t.x),y:e.y+r*(i.y-t.y)}}},o.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),y=(o.calculateScaleRange=function(t,e,i,o,n){var s=2,a=Math.floor(e/(1.5*i)),r=s>=a,d=f(t),l=v(t);d===l&&(d+=.5,l>=.5&&!o?l-=.5:d+=.5);for(var c=Math.abs(d-l),h=_(c),u=Math.ceil(d/(1*Math.pow(10,h)))*Math.pow(10,h),m=o?0:Math.floor(l/(1*Math.pow(10,h)))*Math.pow(10,h),p=u-m,g=Math.pow(10,h),b=Math.round(p/g);(b>a||a>2*b)&&!r;)if(b>a)g*=2,b=Math.round(p/g),0!==b%1&&(r=!0);else if(n&&h>=0){if(0!==g/2%1)break;g/=2,b=Math.round(p/g)}else g/=2,b=Math.round(p/g);return r&&(b=s,g=p/b),{steps:b,stepValue:g,min:m,max:m+b*g}},o.template=function(t,e){function i(t,e){return e.value}if(t instanceof Function)return t(e);return i(t,e)}),$=(o.generateLabels=function(t,e,i,o){var s=Array(e);return labelTemplateString&&n(s,function(e,n){s[n]=y(t,{value:i+o*(n+1)})}),s},o.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return 1>(t/=.5)?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return 1>(t/=.5)?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return 1>(t/=.5)?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return 1>(t/=.5)?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:1>(t/=.5)?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return 1>(t/=.5)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,o=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),Math.abs(1)>o?(o=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/o),-(o*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/i)))},easeOutElastic:function(t){var e=1.70158,i=0,o=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),Math.abs(1)>o?(o=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/o),o*Math.pow(2,-10*t)*Math.sin(2*(1*t-e)*Math.PI/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,o=1;return 0===t?0:2==(t/=.5)?1:(i||(i=.3*1.5),Math.abs(1)>o?(o=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/o),1>t?-.5*o*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/i):.5*o*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/i)+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return 1>(t/=.5)?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-$.easeOutBounce(1-t)},easeOutBounce:function(t){return 1/2.75>(t/=1)?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*$.easeInBounce(2*t):.5*$.easeOutBounce(2*t-1)+.5}}),x=o.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),k=(o.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),o.animationLoop=function(t,e,i,o,n,s){var a=0,r=$[i]||$.linear,d=function(){a++;var i=a/e,l=r(i);t.call(s,l,i,a),o.call(s,l,i),e>a?s.animationFrame=x(d):n.apply(s)};x(d)},o.getRelativePosition=function(t){var e,i,o=t.originalEvent||t,n=t.currentTarget||t.srcElement,s=n.getBoundingClientRect();return o.touches?(e=o.touches[0].clientX-s.left,i=o.touches[0].clientY-s.top):(e=o.clientX-s.left,i=o.clientY-s.top),{x:e,y:i}},o.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}),w=o.removeEvent=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=c},T=(o.bindEvents=function(t,e,i){t.events||(t.events={}),n(e,function(e){t.events[e]=function(){i.apply(t,arguments)},k(t.chart.canvas,e,t.events[e])})},o.unbindEvents=function(t,e){n(e,function(e,i){w(t.chart.canvas,i,e)})}),S=o.getMaximumWidth=function(t){var e=t.parentNode;return e.clientWidth},E=o.getMaximumHeight=function(t){var e=t.parentNode;return e.clientHeight},P=(o.getMaximumSize=o.getMaximumWidth,o.retinaScale=function(t){var e=t.ctx,i=t.canvas.width,o=t.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=i+"px",e.canvas.style.height=o+"px",e.canvas.height=o*window.devicePixelRatio,e.canvas.width=i*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio))}),L=o.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},I=o.fontString=function(t,e,i){return e+" "+t+"px "+i},R=o.longestText=function(t,e,i){t.font=e;var o=0;return n(i,function(e){var i=t.measureText(e).width;o=i>o?i:o}),o},O=o.drawRoundedRectangle=function(t,e,i,o,n,s){t.beginPath(),t.moveTo(e+s,i),t.lineTo(e+o-s,i),t.quadraticCurveTo(e+o,i,e+o,i+s),t.lineTo(e+o,i+n-s),t.quadraticCurveTo(e+o,i+n,e+o-s,i+n),t.lineTo(e+s,i+n),t.quadraticCurveTo(e,i+n,e,i+n-s),t.lineTo(e,i+s),t.quadraticCurveTo(e,i,e+s,i),t.closePath()};i.instances={},i.Type=function(t,e,o){this.options=e,this.chart=o,this.id=h(),i.instances[this.id]=this,e.responsive&&this.resize(),this.initialize.call(this,t)},a(i.Type.prototype,{initialize:function(){return this},clear:function(){return L(this.chart),this},stop:function(){return o.cancelAnimFrame.call(t,this.animationFrame),this},resize:function(t){this.stop();var e=this.chart.canvas,i=S(this.chart.canvas),o=this.options.maintainAspectRatio?i/this.chart.aspectRatio:E(this.chart.canvas);return e.width=this.chart.width=i,e.height=this.chart.height=o,P(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?o.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this
},generateLegend:function(){return y(this.options.legendTemplate,this)},destroy:function(){this.clear(),T(this,this.events);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,t.style.removeProperty?(t.style.removeProperty("width"),t.style.removeProperty("height")):(t.style.removeAttribute("width"),t.style.removeAttribute("height")),delete i.instances[this.id]},showTooltip:function(t,e){this.activeElements===void 0&&(this.activeElements=[]);var s=function(t){var e=!1;return t.length!==this.activeElements.length?e=!0:(n(t,function(t,i){t!==this.activeElements[i]&&(e=!0)},this),e)}.call(this,t);if(s||e){if(this.activeElements=t,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,r,l=this.datasets.length-1;l>=0&&(a=this.datasets[l].points||this.datasets[l].bars||this.datasets[l].segments,r=d(a,t[0]),-1===r);l--);var c=[],h=[],u=function(){var t,e,i,n,s,a=[],d=[],l=[];return o.each(this.datasets,function(e){t=e.points||e.bars||e.segments,t[r]&&t[r].hasValue()&&a.push(t[r])}),o.each(a,function(t){d.push(t.x),l.push(t.y),c.push(o.template(this.options.multiTooltipTemplate,t)),h.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),s=v(l),i=f(l),n=v(d),e=f(d),{x:n>this.chart.width/2?n:e,y:(s+i)/2}}.call(this,r);new i.MultiTooltip({x:u.x,y:u.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:h,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else n(t,function(t){var e=t.tooltipPosition();new i.Tooltip({x:Math.round(e.x),y:Math.round(e.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:y(this.options.tooltipTemplate,t),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),i.Type.extend=function(t){var e=this,o=function(){return e.apply(this,arguments)};if(o.prototype=s(e.prototype),a(o.prototype,t),o.extend=i.Type.extend,t.name||e.prototype.name){var n=t.name||e.prototype.name,d=i.defaults[e.prototype.name]?s(i.defaults[e.prototype.name]):{};i.defaults[n]=a(d,t.defaults),i.types[n]=o,i.prototype[n]=function(t,e){var s=r(i.defaults.global,i.defaults[n],e||{});return new o(t,s,this)}}else u("Name not provided for this chart, so it hasn't been registered");return e},i.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(i.Element.prototype,{initialize:function(){},restore:function(t){return t?n(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=s(this),delete this._saved._saved,this},update:function(t){return n(t,function(t,e){this._saved[e]=this[e],this[e]=t},this),this},transition:function(t,e){return n(t,function(t,i){this[i]=(t-this._saved[i])*e+this._saved[i]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return p(this.value)}}),i.Element.extend=l,i.Point=i.Element.extend({display:!0,inRange:function(t,e){var i=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(e-this.y,2)<Math.pow(i,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),i.Arc=i.Element.extend({inRange:function(t,e){var i=o.getAngleFromPoint(this,{x:t,y:e}),n=i.angle>=this.startAngle&&i.angle<=this.endAngle,s=i.distance>=this.innerRadius&&i.distance<=this.outerRadius;return n&&s},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,e=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*e,y:this.y+Math.sin(t)*e}},draw:function(){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),i.Rectangle=i.Element.extend({draw:function(){var t=this.ctx,e=this.width/2,i=this.x-e,o=this.x+e,n=this.base-(this.base-this.y),s=this.strokeWidth/2;this.showStroke&&(i+=s,o-=s,n+=s),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(i,this.base),t.lineTo(i,n),t.lineTo(o,n),t.lineTo(o,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,e){return t>=this.x-this.width/2&&this.x+this.width/2>=t&&e>=this.y&&this.base>=e}}),i.Tooltip=i.Element.extend({draw:function(){var t=this.chart.ctx;t.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var e=this.caretPadding=2,i=t.measureText(this.text).width+2*this.xPadding,o=this.fontSize+2*this.yPadding,n=o+this.caretHeight+e;this.x+i/2>this.chart.width?this.xAlign="left":0>this.x-i/2&&(this.xAlign="right"),0>this.y-n&&(this.yAlign="below");var s=this.x-i/2,a=this.y-n;if(t.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-e),t.lineTo(this.x+this.caretHeight,this.y-(e+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(e+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+e+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+e),t.lineTo(this.x+this.caretHeight,this.y+e+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+e+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":s=this.x-i+(this.cornerRadius+this.caretHeight);break;case"right":s=this.x-(this.cornerRadius+this.caretHeight)}O(t,s,a,i,o,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,s+i/2,a+o/2)}}}),i.MultiTooltip=i.Element.extend({initialize:function(){this.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=I(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,e=R(this.ctx,this.font,this.labels)+this.fontSize+3,i=f([e,t]);this.width=i+2*this.xPadding;var o=this.height/2;0>this.y-o?this.y=o:this.y+o>this.chart.height&&(this.y=this.chart.height-o),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var e=this.y-this.height/2+this.yPadding,i=t-1;return 0===t?e+this.titleFontSize/2:e+(1.5*this.fontSize*i+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{O(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,o.each(this.labels,function(e,i){t.fillStyle=this.textColor,t.fillText(e,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(i+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[i].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),i.Scale=i.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=g(this.stepValue),e=0;this.steps>=e;e++)this.yLabels.push(y(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?R(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,e=this.endPoint-this.startPoint;for(this.calculateYRange(e),this.buildYLabels(),this.calculateXLabelRotation();e>this.endPoint-this.startPoint;)e=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(e),this.buildYLabels(),this.yLabelWidth>t&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,e,i=this.ctx.measureText(this.xLabels[0]).width,o=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=o/2+3,this.xScalePaddingLeft=i/2>this.yLabelWidth+10?i/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var n,s=R(this.ctx,this.font,this.xLabels);this.xLabelWidth=s;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&90>=this.xLabelRotation&&this.xLabelRotation>0;)n=Math.cos(b(this.xLabelRotation)),t=n*i,e=n*o,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*s;this.xLabelRotation>0&&(this.endPoint-=Math.sin(b(this.xLabelRotation))*s+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var e=this.drawingArea()/(this.min-this.max);return this.endPoint-e*(t-this.min)},calculateX:function(t){var e=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),i=e/(this.valuesCount-(this.offsetGridLines?0:1)),o=i*t+this.xScalePaddingLeft;return this.offsetGridLines&&(o+=i/2),Math.round(o)},update:function(t){o.extend(this,t),this.fit()},draw:function(){var t=this.ctx,e=(this.endPoint-this.startPoint)/this.steps,i=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,n(this.yLabels,function(n,s){var a=this.endPoint-e*s,r=Math.round(a),d=this.showHorizontalLines;t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(n,i-10,a),0!==s||d||(d=!0),d&&t.beginPath(),s>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),r+=o.aliasPixel(t.lineWidth),d&&(t.moveTo(i,r),t.lineTo(this.width,r),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(i-5,r),t.lineTo(i,r),t.stroke(),t.closePath()},this),n(this.xLabels,function(e,i){var o=this.calculateX(i)+C(this.lineWidth),n=this.calculateX(i-(this.offsetGridLines?.5:0))+C(this.lineWidth),s=this.xLabelRotation>0,a=this.showVerticalLines;0!==i||a||(a=!0),a&&t.beginPath(),i>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),a&&(t.moveTo(n,this.endPoint),t.lineTo(n,this.startPoint-3),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n,this.endPoint),t.lineTo(n,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(o,s?this.endPoint+12:this.endPoint+8),t.rotate(-1*b(this.xLabelRotation)),t.font=this.font,t.textAlign=s?"right":"center",t.textBaseline=s?"middle":"top",t.fillText(e,0,0),t.restore()},this))}}),i.RadialScale=i.Element.extend({initialize:function(){this.size=v([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var e=this.drawingArea/(this.max-this.min);return(t-this.min)*e},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=g(this.stepValue),e=0;this.steps>=e;e++)this.yLabels.push(y(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,e,i,o,n,s,a,r,d,l,c,h,u=v([this.height/2-this.pointLabelFontSize-5,this.width/2]),m=this.width,f=0;for(this.ctx.font=I(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e=0;this.valuesCount>e;e++)t=this.getPointPosition(e,u),i=this.ctx.measureText(y(this.templateString,{value:this.labels[e]})).width+5,0===e||e===this.valuesCount/2?(o=i/2,t.x+o>m&&(m=t.x+o,n=e),f>t.x-o&&(f=t.x-o,a=e)):this.valuesCount/2>e?t.x+i>m&&(m=t.x+i,n=e):e>this.valuesCount/2&&f>t.x-i&&(f=t.x-i,a=e);d=f,l=Math.ceil(m-this.width),s=this.getIndexAngle(n),r=this.getIndexAngle(a),c=l/Math.sin(s+Math.PI/2),h=d/Math.sin(r+Math.PI/2),c=p(c)?c:0,h=p(h)?h:0,this.drawingArea=u-(h+c)/2,this.setCenterPoint(h,c)},setCenterPoint:function(t,e){var i=this.width-e-this.drawingArea,o=t+this.drawingArea;this.xCenter=(o+i)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var e=2*Math.PI/this.valuesCount;return t*e-Math.PI/2},getPointPosition:function(t,e){var i=this.getIndexAngle(t);return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(n(this.yLabels,function(e,i){if(i>0){var o,n=i*(this.drawingArea/this.steps),s=this.yCenter-n;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;this.valuesCount>a;a++)o=this.getPointPosition(a,this.calculateCenterOffset(this.min+i*this.stepValue)),0===a?t.moveTo(o.x,o.y):t.lineTo(o.x,o.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var r=t.measureText(e).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-r/2-this.backdropPaddingX,s-this.fontSize/2-this.backdropPaddingY,r+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(e,this.xCenter,s)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var e=this.valuesCount-1;e>=0;e--){if(this.angleLineWidth>0){var i=this.getPointPosition(e,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(i.x,i.y),t.stroke(),t.closePath()}var o=this.getPointPosition(e,this.calculateCenterOffset(this.max)+5);t.font=I(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var s=this.labels.length,a=this.labels.length/2,r=a/2,d=r>e||e>s-r,l=e===r||e===s-r;t.textAlign=0===e?"center":e===a?"center":a>e?"left":"right",t.textBaseline=l?"middle":d?"bottom":"top",t.fillText(this.labels[e],o.x,o.y)}}}}}),o.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){n(i.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),m?define(function(){return i}):"object"==typeof module&&module.exports&&(module.exports=i),t.Chart=i,i.noConflict=function(){return t.Chart=e,i}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,o={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Bar",defaults:o,initialize:function(t){var o=this.options;this.ScaleClass=e.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,e,i){var n=this.calculateBaseWidth(),s=this.calculateX(i)-n/2,a=this.calculateBarWidth(t);return s+a*e+e*o.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*o.barValueSpacing},calculateBarWidth:function(t){var e=this.calculateBaseWidth()-(t-1)*o.barDatasetSpacing;return e/t}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),i.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),this.BarClass=e.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),i.each(t.datasets,function(e){var o={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,bars:[]};this.datasets.push(o),i.each(e.data,function(i,n){o.bars.push(new this.BarClass({value:i,label:t.labels[n],datasetLabel:e.label,strokeColor:e.strokeColor,fillColor:e.fillColor,highlightFill:e.highlightFill||e.fillColor,highlightStroke:e.highlightStroke||e.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,e,o){i.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,o,e),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){i.each(this.datasets,function(e,o){i.each(e.bars,t,this,o)},this)},getBarsAtEvent:function(t){for(var e,o=[],n=i.getRelativePosition(t),s=function(t){o.push(t.bars[e])},a=0;this.datasets.length>a;a++)for(e=0;this.datasets[a].bars.length>e;e++)if(this.datasets[a].bars[e].inRange(n.x,n.y))return i.each(this.datasets,s),o;return o},buildScale:function(t){var e=this,o=function(){var t=[];return e.eachBars(function(e){t.push(e.value)}),t},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=i.calculateScaleRange(o(),t,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,e)},xLabels:t,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(n,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(t,e){i.each(t,function(t,i){this.datasets[i].bars.push(new this.BarClass({value:t,label:e,x:this.scale.calculateBarX(this.datasets.length,i,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[i].strokeColor,fillColor:this.datasets[i].fillColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){i.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear(),this.chart.ctx,this.scale.draw(e),i.each(this.datasets,function(t,o){i.each(t.bars,function(t,i){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,o,i),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},e).draw())},this)},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,o={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Doughnut",defaults:o,initialize:function(t){this.segments=[],this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=e.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];i.each(this.segments,function(t){t.restore(["fillColor"])}),i.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.calculateTotal(t),i.each(t,function(t,e){this.addData(t,e,!0)},this),this.render()},getSegmentsAtEvent:function(t){var e=[],o=i.getRelativePosition(t);return i.each(this.segments,function(t){t.inRange(o.x,o.y)&&e.push(t)},this),e},addData:function(t,e,i){var o=e||this.segments.length;this.segments.splice(o,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),i||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(t/this.total)},calculateTotal:function(t){this.total=0,i.each(t,function(t){this.total+=t.value},this)},update:function(){this.calculateTotal(this.segments),i.each(this.activeElements,function(t){t.restore(["fillColor"])}),i.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var e=i.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,i.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var e=t?t:1;this.clear(),i.each(this.segments,function(t,i){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},e),t.endAngle=t.startAngle+t.circumference,t.draw(),0===i&&(t.startAngle=1.5*Math.PI),this.segments.length-1>i&&(this.segments[i+1].startAngle=t.endAngle)},this)}}),e.types.Doughnut.extend({name:"Pie",defaults:i.merge(o,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,o={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Line",defaults:o,initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),i.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),i.each(t.datasets,function(e){var o={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(o),i.each(e.data,function(i,n){o.points.push(new this.PointClass({value:i,label:t.labels[n],datasetLabel:e.label,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,e){i.extend(t,{x:this.scale.calculateX(e),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){i.each(this.datasets,function(e){i.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=[],o=i.getRelativePosition(t);return i.each(this.datasets,function(t){i.each(t.points,function(t){t.inRange(o.x,o.y)&&e.push(t)})},this),e},buildScale:function(t){var o=this,n=function(){var t=[];return o.eachPoints(function(e){t.push(e.value)}),t},s={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=i.calculateScaleRange(n(),t,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,e)},xLabels:t,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(s,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new e.Scale(s)},addData:function(t,e){i.each(t,function(t,i){this.datasets[i].points.push(new this.PointClass({value:t,label:e,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear();var o=this.chart.ctx,n=function(t){return null!==t.value},s=function(t,e,o){return i.findNextWhere(e,n,o)||t},a=function(t,e,o){return i.findPreviousWhere(e,n,o)||t};this.scale.draw(e),i.each(this.datasets,function(t){var r=i.where(t.points,n);i.each(t.points,function(t,i){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(i)},e)},this),this.options.bezierCurve&&i.each(r,function(t,e){var o=e>0&&r.length-1>e?this.options.bezierCurveTension:0;t.controlPoints=i.splineCurve(a(t,r,e),t,s(t,r,e),o),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),o.lineWidth=this.options.datasetStrokeWidth,o.strokeStyle=t.strokeColor,o.beginPath(),i.each(r,function(t,e){if(0===e)o.moveTo(t.x,t.y);else if(this.options.bezierCurve){var i=a(t,r,e);o.bezierCurveTo(i.controlPoints.outer.x,i.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else o.lineTo(t.x,t.y)},this),o.stroke(),this.options.datasetFill&&r.length>0&&(o.lineTo(r[r.length-1].x,this.scale.endPoint),o.lineTo(r[0].x,this.scale.endPoint),o.fillStyle=t.fillColor,o.closePath(),o.fill()),i.each(r,function(t){t.draw()})},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,o={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"PolarArea",defaults:o,initialize:function(t){this.segments=[],this.SegmentArc=e.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),i.each(t,function(t,e){this.addData(t,e,!0)
},this),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];i.each(this.segments,function(t){t.restore(["fillColor"])}),i.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.render()},getSegmentsAtEvent:function(t){var e=[],o=i.getRelativePosition(t);return i.each(this.segments,function(t){t.inRange(o.x,o.y)&&e.push(t)},this),e},addData:function(t,e,i){var o=e||this.segments.length;this.segments.splice(o,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),i||(this.reflow(),this.update())},removeData:function(t){var e=i.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,i.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var e=[];i.each(t,function(t){e.push(t.value)});var o=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(e,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);i.extend(this.scale,o,{size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),i.each(this.segments,function(t){t.save()}),this.render()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),i.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),i.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var e=t||1;this.clear(),i.each(this.segments,function(t,i){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},e),t.endAngle=t.startAngle+t.circumference,0===i&&(t.startAngle=1.5*Math.PI),this.segments.length-1>i&&(this.segments[i+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),i.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),i.each(t.datasets,function(e){var o={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(o),i.each(e.data,function(i,n){var s;this.scale.animation||(s=this.scale.getPointPosition(n,this.scale.calculateCenterOffset(i))),o.points.push(new this.PointClass({value:i,label:t.labels[n],datasetLabel:e.label,x:this.options.animation?this.scale.xCenter:s.x,y:this.options.animation?this.scale.yCenter:s.y,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){i.each(this.datasets,function(e){i.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=i.getRelativePosition(t),o=i.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},e),n=2*Math.PI/this.scale.valuesCount,s=Math.round((o.angle-1.5*Math.PI)/n),a=[];return(s>=this.scale.valuesCount||0>s)&&(s=0),o.distance<=this.scale.drawingArea&&i.each(this.datasets,function(t){a.push(t.points[s])}),a},buildScale:function(t){this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var e=function(){var e=[];return i.each(t,function(t){t.data?e=e.concat(t.data):i.each(t.points,function(t){e.push(t.value)})}),e}(),o=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(e,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);i.extend(this.scale,o)},addData:function(t,e){this.scale.valuesCount++,i.each(t,function(t,i){var o=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[i].points.push(new this.PointClass({value:t,label:e,x:o.x,y:o.y,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.labels.push(e),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),i.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){i.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var e=t||1,o=this.chart.ctx;this.clear(),this.scale.draw(),i.each(this.datasets,function(t){i.each(t.points,function(t,i){t.hasValue()&&t.transition(this.scale.getPointPosition(i,this.scale.calculateCenterOffset(t.value)),e)},this),o.lineWidth=this.options.datasetStrokeWidth,o.strokeStyle=t.strokeColor,o.beginPath(),i.each(t.points,function(t,e){0===e?o.moveTo(t.x,t.y):o.lineTo(t.x,t.y)},this),o.closePath(),o.stroke(),o.fillStyle=t.fillColor,o.fill(),i.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this),!function(t,e,i,o){"use strict";function n(t,e,i){return setTimeout(c(t,i),e)}function s(t,e,i){return Array.isArray(t)?(a(t,i[e],i),!0):!1}function a(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==o)for(n=0;t.length>n;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function r(t,e,i){for(var n=Object.keys(e),s=0;n.length>s;)(!i||i&&t[n[s]]===o)&&(t[n[s]]=e[n[s]]),s++;return t}function d(t,e){return r(t,e,!0)}function l(t,e,i){var o,n=e.prototype;o=t.prototype=Object.create(n),o.constructor=t,o._super=n,i&&r(o,i)}function c(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==ce?t.apply(e?e[0]||o:o,e):t}function u(t,e){return t===o?e:t}function m(t,e,i){a(g(e),function(e){t.addEventListener(e,i,!1)})}function p(t,e,i){a(g(e),function(e){t.removeEventListener(e,i,!1)})}function f(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function v(t,e){return t.indexOf(e)>-1}function g(t){return t.trim().split(/\s+/g)}function b(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var o=0;t.length>o;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return-1}function C(t){return Array.prototype.slice.call(t,0)}function _(t,e,i){for(var o=[],n=[],s=0;t.length>s;){var a=e?t[s][e]:t[s];0>b(n,a)&&o.push(t[s]),n[s]=a,s++}return i&&(o=e?o.sort(function(t,i){return t[e]>i[e]}):o.sort()),o}function y(t,e){for(var i,n,s=e[0].toUpperCase()+e.slice(1),a=0;de.length>a;){if(i=de[a],n=i?i+s:e,n in t)return n;a++}return o}function $(){return pe++}function x(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function k(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&i.handler(e)},this.init()}function w(t){var e,i=t.options.inputClass;return new(e=i?i:ge?z:be?G:ve?U:B)(t,T)}function T(t,e,i){var o=i.pointers.length,n=i.changedPointers.length,s=e&ke&&0===o-n,a=e&(Te|Se)&&0===o-n;i.isFirst=!!s,i.isFinal=!!a,s&&(t.session={}),i.eventType=e,S(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function S(t,e){var i=t.session,o=e.pointers,n=o.length;i.firstInput||(i.firstInput=L(e)),n>1&&!i.firstMultiple?i.firstMultiple=L(e):1===n&&(i.firstMultiple=!1);var s=i.firstInput,a=i.firstMultiple,r=a?a.center:s.center,d=e.center=I(o);e.timeStamp=me(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=F(r,d),e.distance=D(r,d),E(i,e),e.offsetDirection=O(e.deltaX,e.deltaY),e.scale=a?M(a.pointers,o):1,e.rotation=a?A(a.pointers,o):0,P(i,e);var l=t.element;f(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function E(t,e){var i=e.center,o=t.offsetDelta||{},n=t.prevDelta||{},s=t.prevInput||{};(e.eventType===ke||s.eventType===Te)&&(n=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},o=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=n.x+(i.x-o.x),e.deltaY=n.y+(i.y-o.y)}function P(t,e){var i,n,s,a,r=t.lastInterval||e,d=e.timeStamp-r.timeStamp;if(e.eventType!=Se&&(d>xe||r.velocity===o)){var l=r.deltaX-e.deltaX,c=r.deltaY-e.deltaY,h=R(d,l,c);n=h.x,s=h.y,i=ue(h.x)>ue(h.y)?h.x:h.y,a=O(l,c),t.lastInterval=e}else i=r.velocity,n=r.velocityX,s=r.velocityY,a=r.direction;e.velocity=i,e.velocityX=n,e.velocityY=s,e.direction=a}function L(t){for(var e=[],i=0;t.pointers.length>i;)e[i]={clientX:he(t.pointers[i].clientX),clientY:he(t.pointers[i].clientY)},i++;return{timeStamp:me(),pointers:e,center:I(e),deltaX:t.deltaX,deltaY:t.deltaY}}function I(t){var e=t.length;if(1===e)return{x:he(t[0].clientX),y:he(t[0].clientY)};for(var i=0,o=0,n=0;e>n;)i+=t[n].clientX,o+=t[n].clientY,n++;return{x:he(i/e),y:he(o/e)}}function R(t,e,i){return{x:e/t||0,y:i/t||0}}function O(t,e){return t===e?Ee:ue(t)>=ue(e)?t>0?Pe:Le:e>0?Ie:Re}function D(t,e,i){i||(i=Ae);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(o*o+n*n)}function F(t,e,i){i||(i=Ae);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,o)/Math.PI}function A(t,e){return F(e[1],e[0],Me)-F(t[1],t[0],Me)}function M(t,e){return D(e[0],e[1],Me)/D(t[0],t[1],Me)}function B(){this.evEl=ze,this.evWin=Ne,this.allow=!0,this.pressed=!1,k.apply(this,arguments)}function z(){this.evEl=He,this.evWin=Ue,k.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=Ye,this.evWin=Xe,this.started=!1,k.apply(this,arguments)}function W(t,e){var i=C(t.touches),o=C(t.changedTouches);return e&(Te|Se)&&(i=_(i.concat(o),"identifier",!0)),[i,o]}function G(){this.evTarget=qe,this.targetIds={},k.apply(this,arguments)}function H(t,e){var i=C(t.touches),o=this.targetIds;if(e&(ke|we)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var n,s,a=C(t.changedTouches),r=[],d=this.target;if(s=i.filter(function(t){return f(t.target,d)}),e===ke)for(n=0;s.length>n;)o[s[n].identifier]=!0,n++;for(n=0;a.length>n;)o[a[n].identifier]&&r.push(a[n]),e&(Te|Se)&&delete o[a[n].identifier],n++;return r.length?[_(s.concat(r),"identifier",!0),r]:void 0}function U(){k.apply(this,arguments);var t=c(this.handler,this);this.touch=new G(this.manager,t),this.mouse=new B(this.manager,t)}function j(t,e){this.manager=t,this.set(e)}function Y(t){if(v(t,ei))return ei;var e=v(t,ii),i=v(t,oi);return e&&i?ii+" "+oi:e||i?e?ii:oi:v(t,ti)?ti:Je}function X(t){this.id=$(),this.manager=null,this.options=d(t||{},this.defaults),this.options.enable=u(this.options.enable,!0),this.state=ni,this.simultaneous={},this.requireFail=[]}function V(t){return t&li?"cancel":t&ri?"end":t&ai?"move":t&si?"start":""}function q(t){return t==Re?"down":t==Ie?"up":t==Pe?"left":t==Le?"right":""}function K(t,e){var i=e.manager;return i?i.get(t):t}function Q(){X.apply(this,arguments)}function Z(){Q.apply(this,arguments),this.pX=null,this.pY=null}function J(){Q.apply(this,arguments)}function te(){X.apply(this,arguments),this._timer=null,this._input=null}function ee(){Q.apply(this,arguments)}function ie(){Q.apply(this,arguments)}function oe(){X.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ne(t,e){return e=e||{},e.recognizers=u(e.recognizers,ne.defaults.preset),new se(t,e)}function se(t,e){e=e||{},this.options=d(e,ne.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=w(this),this.touchAction=new j(this,this.options.touchAction),ae(this,!0),a(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ae(t,e){var i=t.element;a(t.options.cssProps,function(t,o){i.style[y(i.style,o)]=e?t:""})}function re(t,i){var o=e.createEvent("Event");o.initEvent(t,!0,!0),o.gesture=i,i.target.dispatchEvent(o)}var de=["","webkit","moz","MS","ms","o"],le=e.createElement("div"),ce="function",he=Math.round,ue=Math.abs,me=Date.now,pe=1,fe=/mobile|tablet|ip(ad|hone|od)|android/i,ve="ontouchstart"in t,ge=y(t,"PointerEvent")!==o,be=ve&&fe.test(navigator.userAgent),Ce="touch",_e="pen",ye="mouse",$e="kinect",xe=25,ke=1,we=2,Te=4,Se=8,Ee=1,Pe=2,Le=4,Ie=8,Re=16,Oe=Pe|Le,De=Ie|Re,Fe=Oe|De,Ae=["x","y"],Me=["clientX","clientY"];k.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(x(this.element),this.evWin,this.domHandler)}};var Be={mousedown:ke,mousemove:we,mouseup:Te},ze="mousedown",Ne="mousemove mouseup";l(B,k,{handler:function(t){var e=Be[t.type];e&ke&&0===t.button&&(this.pressed=!0),e&we&&1!==t.which&&(e=Te),this.pressed&&this.allow&&(e&Te&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:ye,srcEvent:t}))}});var We={pointerdown:ke,pointermove:we,pointerup:Te,pointercancel:Se,pointerout:Se},Ge={2:Ce,3:_e,4:ye,5:$e},He="pointerdown",Ue="pointermove pointerup pointercancel";t.MSPointerEvent&&(He="MSPointerDown",Ue="MSPointerMove MSPointerUp MSPointerCancel"),l(z,k,{handler:function(t){var e=this.store,i=!1,o=t.type.toLowerCase().replace("ms",""),n=We[o],s=Ge[t.pointerType]||t.pointerType,a=s==Ce,r=b(e,t.pointerId,"pointerId");n&ke&&(0===t.button||a)?0>r&&(e.push(t),r=e.length-1):n&(Te|Se)&&(i=!0),0>r||(e[r]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(r,1))}});var je={touchstart:ke,touchmove:we,touchend:Te,touchcancel:Se},Ye="touchstart",Xe="touchstart touchmove touchend touchcancel";l(N,k,{handler:function(t){var e=je[t.type];if(e===ke&&(this.started=!0),this.started){var i=W.call(this,t,e);e&(Te|Se)&&0===i[0].length-i[1].length&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ce,srcEvent:t})}}});var Ve={touchstart:ke,touchmove:we,touchend:Te,touchcancel:Se},qe="touchstart touchmove touchend touchcancel";l(G,k,{handler:function(t){var e=Ve[t.type],i=H.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ce,srcEvent:t})}}),l(U,k,{handler:function(t,e,i){var o=i.pointerType==Ce,n=i.pointerType==ye;if(o)this.mouse.allow=!1;else if(n&&!this.mouse.allow)return;e&(Te|Se)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ke=y(le.style,"touchAction"),Qe=Ke!==o,Ze="compute",Je="auto",ti="manipulation",ei="none",ii="pan-x",oi="pan-y";j.prototype={set:function(t){t==Ze&&(t=this.compute()),Qe&&(this.manager.element.style[Ke]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Y(t.join(" "))},preventDefaults:function(t){if(!Qe){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var o=this.actions,n=v(o,ei),s=v(o,oi),a=v(o,ii);return n||s&&i&Oe||a&&i&De?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ni=1,si=2,ai=4,ri=8,di=ri,li=16,ci=32;X.prototype={defaults:{},set:function(t){return r(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),-1===b(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=K(t,this);var e=b(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?V(o):""),t)}var i=this,o=this.state;ri>o&&e(!0),e(),o>=ri&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ci)},canEmit:function(){for(var t=0;this.requireFail.length>t;){if(!(this.requireFail[t].state&(ci|ni)))return!1;t++}return!0},recognize:function(t){var e=r({},t);return h(this.options.enable,[this,e])?(this.state&(di|li|ci)&&(this.state=ni),this.state=this.process(e),void(this.state&(si|ai|ri|li)&&this.tryEmit(e))):(this.reset(),void(this.state=ci))},process:function(){},getTouchAction:function(){},reset:function(){}},l(Q,X,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,o=e&(si|ai),n=this.attrTest(t);return o&&(i&Se||!n)?e|li:o||n?i&Te?e|ri:e&si?e|ai:si:ci}}),l(Z,Q,{defaults:{event:"pan",threshold:10,pointers:1,direction:Fe},getTouchAction:function(){var t=this.options.direction,e=[];return t&Oe&&e.push(oi),t&De&&e.push(ii),e},directionTest:function(t){var e=this.options,i=!0,o=t.distance,n=t.direction,s=t.deltaX,a=t.deltaY;return n&e.direction||(e.direction&Oe?(n=0===s?Ee:0>s?Pe:Le,i=s!=this.pX,o=Math.abs(t.deltaX)):(n=0===a?Ee:0>a?Ie:Re,i=a!=this.pY,o=Math.abs(t.deltaY))),t.direction=n,i&&o>e.threshold&&n&e.direction},attrTest:function(t){return Q.prototype.attrTest.call(this,t)&&(this.state&si||!(this.state&si)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=q(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),l(J,Q,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ei]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&si)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=1>t.scale?"in":"out";this.manager.emit(this.options.event+e,t)}}}),l(te,X,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Je]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!o||!i||t.eventType&(Te|Se)&&!s)this.reset();else if(t.eventType&ke)this.reset(),this._timer=n(function(){this.state=di,this.tryEmit()},e.time,this);else if(t.eventType&Te)return di;return ci},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===di&&(t&&t.eventType&Te?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=me(),this.manager.emit(this.options.event,this._input)))}}),l(ee,Q,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ei]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&si)}}),l(ie,Q,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Oe|De,pointers:1},getTouchAction:function(){return Z.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Oe|De)?e=t.velocity:i&Oe?e=t.velocityX:i&De&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&ue(e)>this.options.velocity&&t.eventType&Te},emit:function(t){var e=q(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(oe,X,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ti]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&ke&&0===this.count)return this.failTimeout();if(o&&s&&i){if(t.eventType!=Te)return this.failTimeout();var a=this.pTime?t.timeStamp-this.pTime<e.interval:!0,r=!this.pCenter||D(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,r&&a?this.count+=1:this.count=1,this._input=t;var d=this.count%e.taps;if(0===d)return this.hasRequireFailures()?(this._timer=n(function(){this.state=di,this.tryEmit()},e.interval,this),si):di}return ci},failTimeout:function(){return this._timer=n(function(){this.state=ci},this.options.interval,this),ci},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==di&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ne.VERSION="2.0.4",ne.defaults={domEvents:!1,touchAction:Ze,enable:!0,inputTarget:null,inputClass:null,preset:[[ee,{enable:!1}],[J,{enable:!1},["rotate"]],[ie,{direction:Oe}],[Z,{direction:Oe},["swipe"]],[oe],[oe,{event:"doubletap",taps:2},["tap"]],[te]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var hi=1,ui=2;se.prototype={set:function(t){return r(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?ui:hi},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,o=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&di)&&(n=e.curRecognizer=null);for(var s=0;o.length>s;)i=o[s],e.stopped===ui||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&i.state&(si|ai|ri)&&(n=e.curRecognizer=i),s++}},get:function(t){if(t instanceof X)return t;for(var e=this.recognizers,i=0;e.length>i;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(b(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return a(g(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return a(g(t),function(t){e?i[t].splice(b(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&re(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var o=0;i.length>o;)i[o](e),o++}},destroy:function(){this.element&&ae(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},r(ne,{INPUT_START:ke,INPUT_MOVE:we,INPUT_END:Te,INPUT_CANCEL:Se,STATE_POSSIBLE:ni,STATE_BEGAN:si,STATE_CHANGED:ai,STATE_ENDED:ri,STATE_RECOGNIZED:di,STATE_CANCELLED:li,STATE_FAILED:ci,DIRECTION_NONE:Ee,DIRECTION_LEFT:Pe,DIRECTION_RIGHT:Le,DIRECTION_UP:Ie,DIRECTION_DOWN:Re,DIRECTION_HORIZONTAL:Oe,DIRECTION_VERTICAL:De,DIRECTION_ALL:Fe,Manager:se,Input:k,TouchAction:j,TouchInput:G,MouseInput:B,PointerEventInput:z,TouchMouseInput:U,SingleTouchInput:N,Recognizer:X,AttrRecognizer:Q,Tap:oe,Pan:Z,Swipe:ie,Pinch:J,Rotate:ee,Press:te,on:m,off:p,each:a,merge:d,extend:r,inherit:l,bindFn:c,prefixed:y}),typeof define==ce&&define.amd?define(function(){return ne}):"undefined"!=typeof module&&module.exports?module.exports=ne:t[i]=ne}(window,document,"Hammer"),$ui.themeDark={backgroundImageColor:"#D94646",inHeadUnit:!0,chart:{color:"#747474",color_OK:"#D94646",color_GOOD:"#D94646",color_GREAT:"#D94646",color_RANDOM1:"#D94646"},variables:[{name:"@brand-color",value:"#D94646"},{name:"@highlight-text-color",value:"#FFFFFF"},{name:"@foreground-color",value:"#FFFFFF"},{name:"@border-color",value:"#FFFFFF"},{name:"@background-color",value:"#000000"},{name:"@dark-color",value:"#747474"},{name:"@profile-wedge-color",value:"#D94646"},{name:"@green-color",value:"#779933"}],classList:[{className:".theme-border-color",properties:[{name:"border-color",value:"@border-color !important"}]},{className:".theme-brand-border-color",properties:[{name:"border-color",value:"@brand-color !important"}]},{className:".theme-tile-border-color",properties:[{name:"border-color",value:"@brand-color !important"}]},{className:".theme-dark-border-color",properties:[{name:"border-color",value:"@dark-color !important"}]},{className:".theme-text-color",properties:[{name:"color",value:"@foreground-color"}]},{className:".theme-dark-text-color",properties:[{name:"color",value:"@dark-color"}]},{className:".theme-highlight-text-color",properties:[{name:"color",value:"@highlight-text-color"}]},{className:".theme-brand-text-color",properties:[{name:"color",value:"@brand-color"}]},{className:".theme-hint-text-color",properties:[{name:"color",value:"#999999"}]},{className:".theme-warning-text-color",properties:[{name:"color",value:"red"}]},{className:".theme-screen-background-color",properties:[{name:"background-color",value:"@background-color"}]},{className:".theme-brand-background-color",properties:[{name:"background-color",value:"@brand-color"}]},{className:".theme-light-background-color",properties:[{name:"background-color",value:"@foreground-color"}]},{className:".theme-dark-background-color",properties:[{name:"background-color",value:"@dark-color"}]},{className:".theme-call-button",properties:[{name:"background-color",value:"@green-color"}]},{className:".theme-generic-list-accent-color",properties:[{name:"color",value:"@brand-color"}]},{className:".theme-segmented-control",properties:[{name:"border-color",value:"@foreground-color"},{name:"background-color",value:"@background-color"},{name:"color",value:"@foreground-color"}]},{className:".theme-post-control",properties:[{name:"color",value:"#D3D3D3"},{name:"background-color",value:"@background-color"}]},{className:".theme-profile-vehicle-background-color",properties:[{name:"background-color",value:"@background-color"}]},{className:".theme-profile-wedge-background-color",properties:[{name:"background-color",value:"@profile-wedge-color"}]},{className:".theme-profile-rank",properties:[{name:"background-color",value:"@profile-wedge-color"},{name:"color",value:"@highlight-text-color"}]},{className:".theme-profile-rank-text-color",properties:[{name:"color",value:"@highlight-text-color"}]},{className:".theme-profile-label-text-color",properties:[{name:"color",value:"@border-color"}]},{className:".theme-profile-stats",properties:[{name:"border-color",value:"@brand-color"},{name:"background-color",value:"@background-color"}]},{className:".theme-profile-number-color",properties:[{name:"color",value:"@profile-wedge-color"}]},{className:".theme-profile-avatar",properties:[{name:"background-color",value:"@dark-color"},{name:"border-color",value:"@brand-color"},{name:"box-shadow",value:"inherit"}]},{className:".theme-on-off-switch",properties:[{name:"background-image",value:"linear-gradient(to top, @dark-color, #B9B9B9 80%);"}]},{className:".theme-on-off-switch-inner-ring",properties:[{name:"border-color",value:"@background-color"},{name:"background-image",value:"linear-gradient(to top,#B9B9B9,#5c5c5c 25%);"}]},{className:".theme-on-off-switch-inner-ring-on",properties:[{name:"border-color",value:"@background-color"},{name:"background-image",value:"linear-gradient(to bottom, #B9B9B9, #5c5c5c 25%);"}]},{className:".theme-on-off-switch-indicator-on",properties:[{name:"background-color",value:"@green-color"}]},{className:".theme-on-off-switch",properties:[{name:"background-image",value:"linear-gradient(to top,#747474, #B9B9B9 50%);"}]},{className:".theme-circle-menu-indicator",properties:[{name:"background-color",value:"@dark-color"}]},{className:".theme-circle-menu-indicator-selected",properties:[{name:"background-color",value:"@foreground-color"}]}]},$ui.themeLight={backgroundImageColor:"#D94646",inHeadUnit:!0,chart:{color:"#747474",color_OK:"#D94646",color_GOOD:"#D94646",color_GREAT:"#D94646",color_RANDOM1:"#D94646"},variables:[{name:"@brand-color",value:"#D94646"},{name:"@highlight-text-color",value:"#FFFFFF"},{name:"@foreground-color",value:"#FFFFFF"},{name:"@border-color",value:"#FFFFFF"},{name:"@background-color",value:"#000000"},{name:"@dark-color",value:"#747474"},{name:"@profile-wedge-color",value:"#D94646"}],classList:[{className:".theme-border-color",properties:[{name:"border-color",value:"@border-color !important"}]},{className:".theme-brand-border-color",properties:[{name:"border-color",value:"@brand-color !important"}]},{className:".theme-tile-border-color",properties:[{name:"border-color",value:"@brand-color !important"}]},{className:".theme-dark-border-color",properties:[{name:"border-color",value:"@dark-color !important"}]},{className:".theme-text-color",properties:[{name:"color",value:"@foreground-color"}]},{className:".theme-dark-text-color",properties:[{name:"color",value:"@dark-color"}]},{className:".theme-highlight-text-color",properties:[{name:"color",value:"@highlight-text-color"}]},{className:".theme-brand-text-color",properties:[{name:"color",value:"@brand-color"}]},{className:".theme-screen-background-color",properties:[{name:"background-color",value:"@background-color"}]},{className:".theme-brand-background-color",properties:[{name:"background-color",value:"@brand-color"}]},{className:".theme-light-background-color",properties:[{name:"background-color",value:"@foreground-color"}]},{className:".theme-dark-background-color",properties:[{name:"background-color",value:"@dark-color"}]},{className:".theme-generic-list-accent-color",properties:[{name:"color",value:"@brand-color"}]},{className:".theme-segmented-control",properties:[{name:"border-color",value:"@foreground-color"},{name:"background-color",value:"@background-color"},{name:"color",value:"@foreground-color"}]},{className:".theme-post-control",properties:[{name:"color",value:"#D3D3D3"},{name:"background-color",value:"@background-color"}]},{className:".theme-profile-vehicle-background-color",properties:[{name:"background-color",value:"@background-color"}]},{className:".theme-profile-wedge-background-color",properties:[{name:"background-color",value:"@profile-wedge-color"}]},{className:".theme-profile-rank",properties:[{name:"background-color",value:"@profile-wedge-color"},{name:"color",value:"@highlight-text-color"}]},{className:".theme-profile-rank-text-color",properties:[{name:"color",value:"@highlight-text-color"}]},{className:".theme-profile-label-text-color",properties:[{name:"color",value:"@border-color"}]},{className:".theme-profile-stats",properties:[{name:"border-color",value:"@brand-color"},{name:"background-color",value:"@background-color"}]},{className:".theme-profile-number-color",properties:[{name:"color",value:"@profile-wedge-color"}]},{className:".theme-profile-avatar",properties:[{name:"background-color",value:"@dark-color"},{name:"border-color",value:"@brand-color"},{name:"box-shadow",value:"inherit"}]}]},$ui_ExtendWS12(),$ui.DataEvent=function(t,e){if(void 0==t||null==t)throw'DataEvent - The identifier "id" must be supplied';
this.id=t,this.data=e};var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var i,o;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),o=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},FastClick.prototype.determineEventType=function(t){"use strict";return deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(t){"use strict";var e;deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,i,o;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],deviceIsIOS){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!deviceIsIOS4&&soloUI.isPhoneGap===!0){if(i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,i,o,n,s,a=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(s=t.changedTouches[0],a=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||a,a.fastClickScrollParent=this.targetElement.fastClickScrollParent),o=a.tagName.toLowerCase(),"label"===o){if(e=this.findControl(a)){if(this.focus(a),deviceIsAndroid)return!1;a=e}}else if(this.needsFocus(a))return t.timeStamp-i>100||deviceIsIOS&&window.top!==window&&"input"===o?(this.targetElement=null,!1):(this.focus(a),this.sendClick(a,t),deviceIsIOS4&&"select"===o||(this.targetElement=null,t.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(n=a.fastClickScrollParent,n&&n.fastClickLastScrollTop!==n.scrollTop)?!0:(this.needsClick(a)||(t.preventDefault(),this.sendClick(a,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e,i;if(window.ontouchstart===void 0)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction?!0:!1},FastClick.attach=function(t,e){"use strict";return new FastClick(t,e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,$ui.ListFilter=function(t,e){this.name=t,this.expression=e},$ui_Spinner.prototype=new $ui_CoreComponent,function(){"use strict";var t=this,e=t.Chart,i=function(t){return this.canvas=t.canvas,this.ctx=t,this.width=t.canvas.width,this.height=t.canvas.height,this.aspectRatio=this.width/this.height,o.retinaScale(this),this};i.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},i.types={};var o=i.helpers={},n=o.each=function(t,e,i){var o=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var n;for(n=0;t.length>n;n++)e.apply(i,[t[n],n].concat(o))}else for(var s in t)e.apply(i,[t[s],s].concat(o))},s=o.clone=function(t){var e={};return n(t,function(i,o){t.hasOwnProperty(o)&&(e[o]=i)}),e},a=o.extend=function(t){return n(Array.prototype.slice.call(arguments,1),function(e){n(e,function(i,o){e.hasOwnProperty(o)&&(t[o]=i)})}),t},r=o.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),a.apply(null,t)},d=o.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var i=0;t.length>i;i++)if(t[i]===e)return i;return-1},l=(o.where=function(t,e){var i=[];return o.each(t,function(t){e(t)&&i.push(t)}),i},o.findNextWhere=function(t,e,i){i||(i=-1);for(var o=i+1;t.length>o;o++){var n=t[o];if(e(n))return n}},o.findPreviousWhere=function(t,e,i){i||(i=t.length);for(var o=i-1;o>=0;o--){var n=t[o];if(e(n))return n}},o.inherits=function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},o=function(){this.constructor=i};return o.prototype=e.prototype,i.prototype=new o,i.extend=l,t&&a(i.prototype,t),i.__super__=e.prototype,i}),c=o.noop=function(){},h=o.uid=function(){var t=0;return function(){return"chart-"+t++}}(),u=o.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},m=o.amd="function"==typeof define&&define.amd,p=o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},f=o.max=function(t){return Math.max.apply(Math,t)},v=o.min=function(t){return Math.min.apply(Math,t)},g=(o.cap=function(t,e,i){if(p(e)){if(t>e)return e}else if(p(i)&&i>t)return i;return t},o.getDecimalPlaces=function(t){return 0!==t%1&&p(t)?(""+t).split(".")[1].length:0}),b=o.radians=function(t){return t*(Math.PI/180)},C=(o.getAngleFromPoint=function(t,e){var i=e.x-t.x,o=e.y-t.y,n=Math.sqrt(i*i+o*o),s=2*Math.PI+Math.atan2(o,i);return 0>i&&0>o&&(s+=2*Math.PI),{angle:s,distance:n}},o.aliasPixel=function(t){return 0===t%2?0:.5}),_=(o.splineCurve=function(t,e,i,o){var n=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),s=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2)),a=o*n/(n+s),r=o*s/(n+s);return{inner:{x:e.x-a*(i.x-t.x),y:e.y-a*(i.y-t.y)},outer:{x:e.x+r*(i.x-t.x),y:e.y+r*(i.y-t.y)}}},o.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),y=(o.calculateScaleRange=function(t,e,i,o,n){var s=2,a=Math.floor(e/(1.5*i)),r=s>=a,d=f(t),l=v(t);d===l&&(d+=.5,l>=.5&&!o?l-=.5:d+=.5);for(var c=Math.abs(d-l),h=_(c),u=Math.ceil(d/(1*Math.pow(10,h)))*Math.pow(10,h),m=o?0:Math.floor(l/(1*Math.pow(10,h)))*Math.pow(10,h),p=u-m,g=Math.pow(10,h),b=Math.round(p/g);(b>a||a>2*b)&&!r;)if(b>a)g*=2,b=Math.round(p/g),0!==b%1&&(r=!0);else if(n&&h>=0){if(0!==g/2%1)break;g/=2,b=Math.round(p/g)}else g/=2,b=Math.round(p/g);return r&&(b=s,g=p/b),{steps:b,stepValue:g,min:m,max:m+b*g}},o.template=function(t,e){function i(t,e){return e.value}if(t instanceof Function)return t(e);return i(t,e)}),$=(o.generateLabels=function(t,e,i,o){var s=Array(e);return labelTemplateString&&n(s,function(e,n){s[n]=y(t,{value:i+o*(n+1)})}),s},o.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return 1>(t/=.5)?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return 1>(t/=.5)?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return 1>(t/=.5)?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return 1>(t/=.5)?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:1>(t/=.5)?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return 1>(t/=.5)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,o=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),Math.abs(1)>o?(o=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/o),-(o*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/i)))},easeOutElastic:function(t){var e=1.70158,i=0,o=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),Math.abs(1)>o?(o=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/o),o*Math.pow(2,-10*t)*Math.sin(2*(1*t-e)*Math.PI/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,o=1;return 0===t?0:2==(t/=.5)?1:(i||(i=.3*1.5),Math.abs(1)>o?(o=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/o),1>t?-.5*o*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/i):.5*o*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/i)+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return 1>(t/=.5)?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-$.easeOutBounce(1-t)},easeOutBounce:function(t){return 1/2.75>(t/=1)?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*$.easeInBounce(2*t):.5*$.easeOutBounce(2*t-1)+.5}}),x=o.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),k=(o.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),o.animationLoop=function(t,e,i,o,n,s){var a=0,r=$[i]||$.linear,d=function(){a++;var i=a/e,l=r(i);t.call(s,l,i,a),o.call(s,l,i),e>a?s.animationFrame=x(d):n.apply(s)};x(d)},o.getRelativePosition=function(t){var e,i,o=t.originalEvent||t,n=t.currentTarget||t.srcElement,s=n.getBoundingClientRect();return o.touches?(e=o.touches[0].clientX-s.left,i=o.touches[0].clientY-s.top):(e=o.clientX-s.left,i=o.clientY-s.top),{x:e,y:i}},o.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}),w=o.removeEvent=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=c},T=(o.bindEvents=function(t,e,i){t.events||(t.events={}),n(e,function(e){t.events[e]=function(){i.apply(t,arguments)},k(t.chart.canvas,e,t.events[e])})},o.unbindEvents=function(t,e){n(e,function(e,i){w(t.chart.canvas,i,e)})}),S=o.getMaximumWidth=function(t){var e=t.parentNode;return e.clientWidth},E=o.getMaximumHeight=function(t){var e=t.parentNode;return e.clientHeight},P=(o.getMaximumSize=o.getMaximumWidth,o.retinaScale=function(t){var e=t.ctx,i=t.canvas.width,o=t.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=i+"px",e.canvas.style.height=o+"px",e.canvas.height=o*window.devicePixelRatio,e.canvas.width=i*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio))}),L=o.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},I=o.fontString=function(t,e,i){return e+" "+t+"px "+i},R=o.longestText=function(t,e,i){t.font=e;var o=0;return n(i,function(e){var i=t.measureText(e).width;o=i>o?i:o}),o},O=o.drawRoundedRectangle=function(t,e,i,o,n,s){t.beginPath(),t.moveTo(e+s,i),t.lineTo(e+o-s,i),t.quadraticCurveTo(e+o,i,e+o,i+s),t.lineTo(e+o,i+n-s),t.quadraticCurveTo(e+o,i+n,e+o-s,i+n),t.lineTo(e+s,i+n),t.quadraticCurveTo(e,i+n,e,i+n-s),t.lineTo(e,i+s),t.quadraticCurveTo(e,i,e+s,i),t.closePath()};i.instances={},i.Type=function(t,e,o){this.options=e,this.chart=o,this.id=h(),i.instances[this.id]=this,e.responsive&&this.resize(),this.initialize.call(this,t)},a(i.Type.prototype,{initialize:function(){return this},clear:function(){return L(this.chart),this},stop:function(){return o.cancelAnimFrame.call(t,this.animationFrame),this},resize:function(t){this.stop();var e=this.chart.canvas,i=S(this.chart.canvas),o=this.options.maintainAspectRatio?i/this.chart.aspectRatio:E(this.chart.canvas);return e.width=this.chart.width=i,e.height=this.chart.height=o,P(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?o.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return y(this.options.legendTemplate,this)},destroy:function(){this.clear(),T(this,this.events);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,t.style.removeProperty?(t.style.removeProperty("width"),t.style.removeProperty("height")):(t.style.removeAttribute("width"),t.style.removeAttribute("height")),delete i.instances[this.id]},showTooltip:function(t,e){this.activeElements===void 0&&(this.activeElements=[]);var s=function(t){var e=!1;return t.length!==this.activeElements.length?e=!0:(n(t,function(t,i){t!==this.activeElements[i]&&(e=!0)},this),e)}.call(this,t);if(s||e){if(this.activeElements=t,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,r,l=this.datasets.length-1;l>=0&&(a=this.datasets[l].points||this.datasets[l].bars||this.datasets[l].segments,r=d(a,t[0]),-1===r);l--);var c=[],h=[],u=function(){var t,e,i,n,s,a=[],d=[],l=[];return o.each(this.datasets,function(e){t=e.points||e.bars||e.segments,t[r]&&t[r].hasValue()&&a.push(t[r])}),o.each(a,function(t){d.push(t.x),l.push(t.y),c.push(o.template(this.options.multiTooltipTemplate,t)),h.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),s=v(l),i=f(l),n=v(d),e=f(d),{x:n>this.chart.width/2?n:e,y:(s+i)/2}}.call(this,r);new i.MultiTooltip({x:u.x,y:u.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:h,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else n(t,function(t){var e=t.tooltipPosition();new i.Tooltip({x:Math.round(e.x),y:Math.round(e.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:y(this.options.tooltipTemplate,t),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),i.Type.extend=function(t){var e=this,o=function(){return e.apply(this,arguments)};if(o.prototype=s(e.prototype),a(o.prototype,t),o.extend=i.Type.extend,t.name||e.prototype.name){var n=t.name||e.prototype.name,d=i.defaults[e.prototype.name]?s(i.defaults[e.prototype.name]):{};i.defaults[n]=a(d,t.defaults),i.types[n]=o,i.prototype[n]=function(t,e){var s=r(i.defaults.global,i.defaults[n],e||{});return new o(t,s,this)}}else u("Name not provided for this chart, so it hasn't been registered");return e},i.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(i.Element.prototype,{initialize:function(){},restore:function(t){return t?n(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=s(this),delete this._saved._saved,this},update:function(t){return n(t,function(t,e){this._saved[e]=this[e],this[e]=t},this),this},transition:function(t,e){return n(t,function(t,i){this[i]=(t-this._saved[i])*e+this._saved[i]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return p(this.value)}}),i.Element.extend=l,i.Point=i.Element.extend({display:!0,inRange:function(t,e){var i=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(e-this.y,2)<Math.pow(i,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),i.Arc=i.Element.extend({inRange:function(t,e){var i=o.getAngleFromPoint(this,{x:t,y:e}),n=i.angle>=this.startAngle&&i.angle<=this.endAngle,s=i.distance>=this.innerRadius&&i.distance<=this.outerRadius;return n&&s},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,e=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*e,y:this.y+Math.sin(t)*e}},draw:function(){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),i.Rectangle=i.Element.extend({draw:function(){var t=this.ctx,e=this.width/2,i=this.x-e,o=this.x+e,n=this.base-(this.base-this.y),s=this.strokeWidth/2;this.showStroke&&(i+=s,o-=s,n+=s),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(i,this.base),t.lineTo(i,n),t.lineTo(o,n),t.lineTo(o,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,e){return t>=this.x-this.width/2&&this.x+this.width/2>=t&&e>=this.y&&this.base>=e}}),i.Tooltip=i.Element.extend({draw:function(){var t=this.chart.ctx;t.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var e=this.caretPadding=2,i=t.measureText(this.text).width+2*this.xPadding,o=this.fontSize+2*this.yPadding,n=o+this.caretHeight+e;this.x+i/2>this.chart.width?this.xAlign="left":0>this.x-i/2&&(this.xAlign="right"),0>this.y-n&&(this.yAlign="below");var s=this.x-i/2,a=this.y-n;if(t.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-e),t.lineTo(this.x+this.caretHeight,this.y-(e+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(e+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+e+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+e),t.lineTo(this.x+this.caretHeight,this.y+e+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+e+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":s=this.x-i+(this.cornerRadius+this.caretHeight);break;case"right":s=this.x-(this.cornerRadius+this.caretHeight)}O(t,s,a,i,o,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,s+i/2,a+o/2)}}}),i.MultiTooltip=i.Element.extend({initialize:function(){this.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=I(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,e=R(this.ctx,this.font,this.labels)+this.fontSize+3,i=f([e,t]);this.width=i+2*this.xPadding;var o=this.height/2;0>this.y-o?this.y=o:this.y+o>this.chart.height&&(this.y=this.chart.height-o),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var e=this.y-this.height/2+this.yPadding,i=t-1;return 0===t?e+this.titleFontSize/2:e+(1.5*this.fontSize*i+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{O(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,o.each(this.labels,function(e,i){t.fillStyle=this.textColor,t.fillText(e,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(i+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[i].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),i.Scale=i.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=g(this.stepValue),e=0;this.steps>=e;e++)this.yLabels.push(y(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?R(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,e=this.endPoint-this.startPoint;for(this.calculateYRange(e),this.buildYLabels(),this.calculateXLabelRotation();e>this.endPoint-this.startPoint;)e=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(e),this.buildYLabels(),this.yLabelWidth>t&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,e,i=this.ctx.measureText(this.xLabels[0]).width,o=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=o/2+3,this.xScalePaddingLeft=i/2>this.yLabelWidth+10?i/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var n,s=R(this.ctx,this.font,this.xLabels);this.xLabelWidth=s;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&90>=this.xLabelRotation&&this.xLabelRotation>0;)n=Math.cos(b(this.xLabelRotation)),t=n*i,e=n*o,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*s;this.xLabelRotation>0&&(this.endPoint-=Math.sin(b(this.xLabelRotation))*s+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var e=this.drawingArea()/(this.min-this.max);return this.endPoint-e*(t-this.min)},calculateX:function(t){var e=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),i=e/(this.valuesCount-(this.offsetGridLines?0:1)),o=i*t+this.xScalePaddingLeft;return this.offsetGridLines&&(o+=i/2),Math.round(o)},update:function(t){o.extend(this,t),this.fit()},draw:function(){var t=this.ctx,e=(this.endPoint-this.startPoint)/this.steps,i=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,n(this.yLabels,function(n,s){var a=this.endPoint-e*s,r=Math.round(a),d=this.showHorizontalLines;t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(n,i-10,a),0!==s||d||(d=!0),d&&t.beginPath(),s>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),r+=o.aliasPixel(t.lineWidth),d&&(t.moveTo(i,r),t.lineTo(this.width,r),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(i-5,r),t.lineTo(i,r),t.stroke(),t.closePath()},this),n(this.xLabels,function(e,i){var o=this.calculateX(i)+C(this.lineWidth),n=this.calculateX(i-(this.offsetGridLines?.5:0))+C(this.lineWidth),s=this.xLabelRotation>0,a=this.showVerticalLines;0!==i||a||(a=!0),a&&t.beginPath(),i>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),a&&(t.moveTo(n,this.endPoint),t.lineTo(n,this.startPoint-3),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n,this.endPoint),t.lineTo(n,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(o,s?this.endPoint+12:this.endPoint+8),t.rotate(-1*b(this.xLabelRotation)),t.font=this.font,t.textAlign=s?"right":"center",t.textBaseline=s?"middle":"top",t.fillText(e,0,0),t.restore()},this))}}),i.RadialScale=i.Element.extend({initialize:function(){this.size=v([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var e=this.drawingArea/(this.max-this.min);return(t-this.min)*e},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=g(this.stepValue),e=0;this.steps>=e;e++)this.yLabels.push(y(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,e,i,o,n,s,a,r,d,l,c,h,u=v([this.height/2-this.pointLabelFontSize-5,this.width/2]),m=this.width,f=0;for(this.ctx.font=I(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e=0;this.valuesCount>e;e++)t=this.getPointPosition(e,u),i=this.ctx.measureText(y(this.templateString,{value:this.labels[e]})).width+5,0===e||e===this.valuesCount/2?(o=i/2,t.x+o>m&&(m=t.x+o,n=e),f>t.x-o&&(f=t.x-o,a=e)):this.valuesCount/2>e?t.x+i>m&&(m=t.x+i,n=e):e>this.valuesCount/2&&f>t.x-i&&(f=t.x-i,a=e);d=f,l=Math.ceil(m-this.width),s=this.getIndexAngle(n),r=this.getIndexAngle(a),c=l/Math.sin(s+Math.PI/2),h=d/Math.sin(r+Math.PI/2),c=p(c)?c:0,h=p(h)?h:0,this.drawingArea=u-(h+c)/2,this.setCenterPoint(h,c)},setCenterPoint:function(t,e){var i=this.width-e-this.drawingArea,o=t+this.drawingArea;this.xCenter=(o+i)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var e=2*Math.PI/this.valuesCount;return t*e-Math.PI/2},getPointPosition:function(t,e){var i=this.getIndexAngle(t);return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(n(this.yLabels,function(e,i){if(i>0){var o,n=i*(this.drawingArea/this.steps),s=this.yCenter-n;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;this.valuesCount>a;a++)o=this.getPointPosition(a,this.calculateCenterOffset(this.min+i*this.stepValue)),0===a?t.moveTo(o.x,o.y):t.lineTo(o.x,o.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var r=t.measureText(e).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-r/2-this.backdropPaddingX,s-this.fontSize/2-this.backdropPaddingY,r+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)
}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(e,this.xCenter,s)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var e=this.valuesCount-1;e>=0;e--){if(this.angleLineWidth>0){var i=this.getPointPosition(e,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(i.x,i.y),t.stroke(),t.closePath()}var o=this.getPointPosition(e,this.calculateCenterOffset(this.max)+5);t.font=I(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var s=this.labels.length,a=this.labels.length/2,r=a/2,d=r>e||e>s-r,l=e===r||e===s-r;t.textAlign=0===e?"center":e===a?"center":a>e?"left":"right",t.textBaseline=l?"middle":d?"bottom":"top",t.fillText(this.labels[e],o.x,o.y)}}}}}),o.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){n(i.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),m?define(function(){return i}):"object"==typeof module&&module.exports&&(module.exports=i),t.Chart=i,i.noConflict=function(){return t.Chart=e,i}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,o={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Bar",defaults:o,initialize:function(t){var o=this.options;this.ScaleClass=e.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,e,i){var n=this.calculateBaseWidth(),s=this.calculateX(i)-n/2,a=this.calculateBarWidth(t);return s+a*e+e*o.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*o.barValueSpacing},calculateBarWidth:function(t){var e=this.calculateBaseWidth()-(t-1)*o.barDatasetSpacing;return e/t}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),i.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),this.BarClass=e.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),i.each(t.datasets,function(e){var o={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,bars:[]};this.datasets.push(o),i.each(e.data,function(i,n){o.bars.push(new this.BarClass({value:i,label:t.labels[n],datasetLabel:e.label,strokeColor:e.strokeColor,fillColor:e.fillColor,highlightFill:e.highlightFill||e.fillColor,highlightStroke:e.highlightStroke||e.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,e,o){i.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,o,e),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){i.each(this.datasets,function(e,o){i.each(e.bars,t,this,o)},this)},getBarsAtEvent:function(t){for(var e,o=[],n=i.getRelativePosition(t),s=function(t){o.push(t.bars[e])},a=0;this.datasets.length>a;a++)for(e=0;this.datasets[a].bars.length>e;e++)if(this.datasets[a].bars[e].inRange(n.x,n.y))return i.each(this.datasets,s),o;return o},buildScale:function(t){var e=this,o=function(){var t=[];return e.eachBars(function(e){t.push(e.value)}),t},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=i.calculateScaleRange(o(),t,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,e)},xLabels:t,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(n,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(t,e){i.each(t,function(t,i){this.datasets[i].bars.push(new this.BarClass({value:t,label:e,x:this.scale.calculateBarX(this.datasets.length,i,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[i].strokeColor,fillColor:this.datasets[i].fillColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){i.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear(),this.chart.ctx,this.scale.draw(e),i.each(this.datasets,function(t,o){i.each(t.bars,function(t,i){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,o,i),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},e).draw())},this)},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,o={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Doughnut",defaults:o,initialize:function(t){this.segments=[],this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=e.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];i.each(this.segments,function(t){t.restore(["fillColor"])}),i.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.calculateTotal(t),i.each(t,function(t,e){this.addData(t,e,!0)},this),this.render()},getSegmentsAtEvent:function(t){var e=[],o=i.getRelativePosition(t);return i.each(this.segments,function(t){t.inRange(o.x,o.y)&&e.push(t)},this),e},addData:function(t,e,i){var o=e||this.segments.length;this.segments.splice(o,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),i||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(t/this.total)},calculateTotal:function(t){this.total=0,i.each(t,function(t){this.total+=t.value},this)},update:function(){this.calculateTotal(this.segments),i.each(this.activeElements,function(t){t.restore(["fillColor"])}),i.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var e=i.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,i.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var e=t?t:1;this.clear(),i.each(this.segments,function(t,i){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},e),t.endAngle=t.startAngle+t.circumference,t.draw(),0===i&&(t.startAngle=1.5*Math.PI),this.segments.length-1>i&&(this.segments[i+1].startAngle=t.endAngle)},this)}}),e.types.Doughnut.extend({name:"Pie",defaults:i.merge(o,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,o={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Line",defaults:o,initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),i.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),i.each(t.datasets,function(e){var o={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(o),i.each(e.data,function(i,n){o.points.push(new this.PointClass({value:i,label:t.labels[n],datasetLabel:e.label,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,e){i.extend(t,{x:this.scale.calculateX(e),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){i.each(this.datasets,function(e){i.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=[],o=i.getRelativePosition(t);return i.each(this.datasets,function(t){i.each(t.points,function(t){t.inRange(o.x,o.y)&&e.push(t)})},this),e},buildScale:function(t){var o=this,n=function(){var t=[];return o.eachPoints(function(e){t.push(e.value)}),t},s={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=i.calculateScaleRange(n(),t,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,e)},xLabels:t,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(s,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new e.Scale(s)},addData:function(t,e){i.each(t,function(t,i){this.datasets[i].points.push(new this.PointClass({value:t,label:e,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear();var o=this.chart.ctx,n=function(t){return null!==t.value},s=function(t,e,o){return i.findNextWhere(e,n,o)||t},a=function(t,e,o){return i.findPreviousWhere(e,n,o)||t};this.scale.draw(e),i.each(this.datasets,function(t){var r=i.where(t.points,n);i.each(t.points,function(t,i){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(i)},e)},this),this.options.bezierCurve&&i.each(r,function(t,e){var o=e>0&&r.length-1>e?this.options.bezierCurveTension:0;t.controlPoints=i.splineCurve(a(t,r,e),t,s(t,r,e),o),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),o.lineWidth=this.options.datasetStrokeWidth,o.strokeStyle=t.strokeColor,o.beginPath(),i.each(r,function(t,e){if(0===e)o.moveTo(t.x,t.y);else if(this.options.bezierCurve){var i=a(t,r,e);o.bezierCurveTo(i.controlPoints.outer.x,i.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else o.lineTo(t.x,t.y)},this),o.stroke(),this.options.datasetFill&&r.length>0&&(o.lineTo(r[r.length-1].x,this.scale.endPoint),o.lineTo(r[0].x,this.scale.endPoint),o.fillStyle=t.fillColor,o.closePath(),o.fill()),i.each(r,function(t){t.draw()})},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,o={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"PolarArea",defaults:o,initialize:function(t){this.segments=[],this.SegmentArc=e.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),i.each(t,function(t,e){this.addData(t,e,!0)},this),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];i.each(this.segments,function(t){t.restore(["fillColor"])}),i.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.render()},getSegmentsAtEvent:function(t){var e=[],o=i.getRelativePosition(t);return i.each(this.segments,function(t){t.inRange(o.x,o.y)&&e.push(t)},this),e},addData:function(t,e,i){var o=e||this.segments.length;this.segments.splice(o,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),i||(this.reflow(),this.update())},removeData:function(t){var e=i.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,i.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var e=[];i.each(t,function(t){e.push(t.value)});var o=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(e,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);i.extend(this.scale,o,{size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),i.each(this.segments,function(t){t.save()}),this.render()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),i.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),i.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var e=t||1;this.clear(),i.each(this.segments,function(t,i){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},e),t.endAngle=t.startAngle+t.circumference,0===i&&(t.startAngle=1.5*Math.PI),this.segments.length-1>i&&(this.segments[i+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),i.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),i.each(t.datasets,function(e){var o={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(o),i.each(e.data,function(i,n){var s;this.scale.animation||(s=this.scale.getPointPosition(n,this.scale.calculateCenterOffset(i))),o.points.push(new this.PointClass({value:i,label:t.labels[n],datasetLabel:e.label,x:this.options.animation?this.scale.xCenter:s.x,y:this.options.animation?this.scale.yCenter:s.y,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){i.each(this.datasets,function(e){i.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=i.getRelativePosition(t),o=i.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},e),n=2*Math.PI/this.scale.valuesCount,s=Math.round((o.angle-1.5*Math.PI)/n),a=[];return(s>=this.scale.valuesCount||0>s)&&(s=0),o.distance<=this.scale.drawingArea&&i.each(this.datasets,function(t){a.push(t.points[s])}),a},buildScale:function(t){this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var e=function(){var e=[];return i.each(t,function(t){t.data?e=e.concat(t.data):i.each(t.points,function(t){e.push(t.value)})}),e}(),o=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(e,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);i.extend(this.scale,o)},addData:function(t,e){this.scale.valuesCount++,i.each(t,function(t,i){var o=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[i].points.push(new this.PointClass({value:t,label:e,x:o.x,y:o.y,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.labels.push(e),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),i.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){i.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var e=t||1,o=this.chart.ctx;this.clear(),this.scale.draw(),i.each(this.datasets,function(t){i.each(t.points,function(t,i){t.hasValue()&&t.transition(this.scale.getPointPosition(i,this.scale.calculateCenterOffset(t.value)),e)},this),o.lineWidth=this.options.datasetStrokeWidth,o.strokeStyle=t.strokeColor,o.beginPath(),i.each(t.points,function(t,e){0===e?o.moveTo(t.x,t.y):o.lineTo(t.x,t.y)},this),o.closePath(),o.stroke(),o.fillStyle=t.fillColor,o.fill(),i.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this),!function(t,e,i,o){"use strict";function n(t,e,i){return setTimeout(c(t,i),e)}function s(t,e,i){return Array.isArray(t)?(a(t,i[e],i),!0):!1}function a(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==o)for(n=0;t.length>n;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function r(t,e,i){for(var n=Object.keys(e),s=0;n.length>s;)(!i||i&&t[n[s]]===o)&&(t[n[s]]=e[n[s]]),s++;return t}function d(t,e){return r(t,e,!0)}function l(t,e,i){var o,n=e.prototype;o=t.prototype=Object.create(n),o.constructor=t,o._super=n,i&&r(o,i)}function c(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==ce?t.apply(e?e[0]||o:o,e):t}function u(t,e){return t===o?e:t}function m(t,e,i){a(g(e),function(e){t.addEventListener(e,i,!1)})}function p(t,e,i){a(g(e),function(e){t.removeEventListener(e,i,!1)})}function f(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function v(t,e){return t.indexOf(e)>-1}function g(t){return t.trim().split(/\s+/g)}function b(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var o=0;t.length>o;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return-1}function C(t){return Array.prototype.slice.call(t,0)}function _(t,e,i){for(var o=[],n=[],s=0;t.length>s;){var a=e?t[s][e]:t[s];0>b(n,a)&&o.push(t[s]),n[s]=a,s++}return i&&(o=e?o.sort(function(t,i){return t[e]>i[e]}):o.sort()),o}function y(t,e){for(var i,n,s=e[0].toUpperCase()+e.slice(1),a=0;de.length>a;){if(i=de[a],n=i?i+s:e,n in t)return n;a++}return o}function $(){return pe++}function x(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function k(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&i.handler(e)},this.init()}function w(t){var e,i=t.options.inputClass;return new(e=i?i:ge?z:be?G:ve?U:B)(t,T)}function T(t,e,i){var o=i.pointers.length,n=i.changedPointers.length,s=e&ke&&0===o-n,a=e&(Te|Se)&&0===o-n;i.isFirst=!!s,i.isFinal=!!a,s&&(t.session={}),i.eventType=e,S(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function S(t,e){var i=t.session,o=e.pointers,n=o.length;i.firstInput||(i.firstInput=L(e)),n>1&&!i.firstMultiple?i.firstMultiple=L(e):1===n&&(i.firstMultiple=!1);var s=i.firstInput,a=i.firstMultiple,r=a?a.center:s.center,d=e.center=I(o);e.timeStamp=me(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=F(r,d),e.distance=D(r,d),E(i,e),e.offsetDirection=O(e.deltaX,e.deltaY),e.scale=a?M(a.pointers,o):1,e.rotation=a?A(a.pointers,o):0,P(i,e);var l=t.element;f(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function E(t,e){var i=e.center,o=t.offsetDelta||{},n=t.prevDelta||{},s=t.prevInput||{};(e.eventType===ke||s.eventType===Te)&&(n=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},o=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=n.x+(i.x-o.x),e.deltaY=n.y+(i.y-o.y)}function P(t,e){var i,n,s,a,r=t.lastInterval||e,d=e.timeStamp-r.timeStamp;if(e.eventType!=Se&&(d>xe||r.velocity===o)){var l=r.deltaX-e.deltaX,c=r.deltaY-e.deltaY,h=R(d,l,c);n=h.x,s=h.y,i=ue(h.x)>ue(h.y)?h.x:h.y,a=O(l,c),t.lastInterval=e}else i=r.velocity,n=r.velocityX,s=r.velocityY,a=r.direction;e.velocity=i,e.velocityX=n,e.velocityY=s,e.direction=a}function L(t){for(var e=[],i=0;t.pointers.length>i;)e[i]={clientX:he(t.pointers[i].clientX),clientY:he(t.pointers[i].clientY)},i++;return{timeStamp:me(),pointers:e,center:I(e),deltaX:t.deltaX,deltaY:t.deltaY}}function I(t){var e=t.length;if(1===e)return{x:he(t[0].clientX),y:he(t[0].clientY)};for(var i=0,o=0,n=0;e>n;)i+=t[n].clientX,o+=t[n].clientY,n++;return{x:he(i/e),y:he(o/e)}}function R(t,e,i){return{x:e/t||0,y:i/t||0}}function O(t,e){return t===e?Ee:ue(t)>=ue(e)?t>0?Pe:Le:e>0?Ie:Re}function D(t,e,i){i||(i=Ae);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(o*o+n*n)}function F(t,e,i){i||(i=Ae);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,o)/Math.PI}function A(t,e){return F(e[1],e[0],Me)-F(t[1],t[0],Me)}function M(t,e){return D(e[0],e[1],Me)/D(t[0],t[1],Me)}function B(){this.evEl=ze,this.evWin=Ne,this.allow=!0,this.pressed=!1,k.apply(this,arguments)}function z(){this.evEl=He,this.evWin=Ue,k.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=Ye,this.evWin=Xe,this.started=!1,k.apply(this,arguments)}function W(t,e){var i=C(t.touches),o=C(t.changedTouches);return e&(Te|Se)&&(i=_(i.concat(o),"identifier",!0)),[i,o]}function G(){this.evTarget=qe,this.targetIds={},k.apply(this,arguments)}function H(t,e){var i=C(t.touches),o=this.targetIds;if(e&(ke|we)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var n,s,a=C(t.changedTouches),r=[],d=this.target;if(s=i.filter(function(t){return f(t.target,d)}),e===ke)for(n=0;s.length>n;)o[s[n].identifier]=!0,n++;for(n=0;a.length>n;)o[a[n].identifier]&&r.push(a[n]),e&(Te|Se)&&delete o[a[n].identifier],n++;return r.length?[_(s.concat(r),"identifier",!0),r]:void 0}function U(){k.apply(this,arguments);var t=c(this.handler,this);this.touch=new G(this.manager,t),this.mouse=new B(this.manager,t)}function j(t,e){this.manager=t,this.set(e)}function Y(t){if(v(t,ei))return ei;var e=v(t,ii),i=v(t,oi);return e&&i?ii+" "+oi:e||i?e?ii:oi:v(t,ti)?ti:Je}function X(t){this.id=$(),this.manager=null,this.options=d(t||{},this.defaults),this.options.enable=u(this.options.enable,!0),this.state=ni,this.simultaneous={},this.requireFail=[]}function V(t){return t&li?"cancel":t&ri?"end":t&ai?"move":t&si?"start":""}function q(t){return t==Re?"down":t==Ie?"up":t==Pe?"left":t==Le?"right":""}function K(t,e){var i=e.manager;return i?i.get(t):t}function Q(){X.apply(this,arguments)}function Z(){Q.apply(this,arguments),this.pX=null,this.pY=null}function J(){Q.apply(this,arguments)}function te(){X.apply(this,arguments),this._timer=null,this._input=null}function ee(){Q.apply(this,arguments)}function ie(){Q.apply(this,arguments)}function oe(){X.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ne(t,e){return e=e||{},e.recognizers=u(e.recognizers,ne.defaults.preset),new se(t,e)}function se(t,e){e=e||{},this.options=d(e,ne.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=w(this),this.touchAction=new j(this,this.options.touchAction),ae(this,!0),a(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])
},this)}function ae(t,e){var i=t.element;a(t.options.cssProps,function(t,o){i.style[y(i.style,o)]=e?t:""})}function re(t,i){var o=e.createEvent("Event");o.initEvent(t,!0,!0),o.gesture=i,i.target.dispatchEvent(o)}var de=["","webkit","moz","MS","ms","o"],le=e.createElement("div"),ce="function",he=Math.round,ue=Math.abs,me=Date.now,pe=1,fe=/mobile|tablet|ip(ad|hone|od)|android/i,ve="ontouchstart"in t,ge=y(t,"PointerEvent")!==o,be=ve&&fe.test(navigator.userAgent),Ce="touch",_e="pen",ye="mouse",$e="kinect",xe=25,ke=1,we=2,Te=4,Se=8,Ee=1,Pe=2,Le=4,Ie=8,Re=16,Oe=Pe|Le,De=Ie|Re,Fe=Oe|De,Ae=["x","y"],Me=["clientX","clientY"];k.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(x(this.element),this.evWin,this.domHandler)}};var Be={mousedown:ke,mousemove:we,mouseup:Te},ze="mousedown",Ne="mousemove mouseup";l(B,k,{handler:function(t){var e=Be[t.type];e&ke&&0===t.button&&(this.pressed=!0),e&we&&1!==t.which&&(e=Te),this.pressed&&this.allow&&(e&Te&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:ye,srcEvent:t}))}});var We={pointerdown:ke,pointermove:we,pointerup:Te,pointercancel:Se,pointerout:Se},Ge={2:Ce,3:_e,4:ye,5:$e},He="pointerdown",Ue="pointermove pointerup pointercancel";t.MSPointerEvent&&(He="MSPointerDown",Ue="MSPointerMove MSPointerUp MSPointerCancel"),l(z,k,{handler:function(t){var e=this.store,i=!1,o=t.type.toLowerCase().replace("ms",""),n=We[o],s=Ge[t.pointerType]||t.pointerType,a=s==Ce,r=b(e,t.pointerId,"pointerId");n&ke&&(0===t.button||a)?0>r&&(e.push(t),r=e.length-1):n&(Te|Se)&&(i=!0),0>r||(e[r]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(r,1))}});var je={touchstart:ke,touchmove:we,touchend:Te,touchcancel:Se},Ye="touchstart",Xe="touchstart touchmove touchend touchcancel";l(N,k,{handler:function(t){var e=je[t.type];if(e===ke&&(this.started=!0),this.started){var i=W.call(this,t,e);e&(Te|Se)&&0===i[0].length-i[1].length&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ce,srcEvent:t})}}});var Ve={touchstart:ke,touchmove:we,touchend:Te,touchcancel:Se},qe="touchstart touchmove touchend touchcancel";l(G,k,{handler:function(t){var e=Ve[t.type],i=H.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ce,srcEvent:t})}}),l(U,k,{handler:function(t,e,i){var o=i.pointerType==Ce,n=i.pointerType==ye;if(o)this.mouse.allow=!1;else if(n&&!this.mouse.allow)return;e&(Te|Se)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ke=y(le.style,"touchAction"),Qe=Ke!==o,Ze="compute",Je="auto",ti="manipulation",ei="none",ii="pan-x",oi="pan-y";j.prototype={set:function(t){t==Ze&&(t=this.compute()),Qe&&(this.manager.element.style[Ke]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Y(t.join(" "))},preventDefaults:function(t){if(!Qe){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var o=this.actions,n=v(o,ei),s=v(o,oi),a=v(o,ii);return n||s&&i&Oe||a&&i&De?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ni=1,si=2,ai=4,ri=8,di=ri,li=16,ci=32;X.prototype={defaults:{},set:function(t){return r(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),-1===b(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=K(t,this);var e=b(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?V(o):""),t)}var i=this,o=this.state;ri>o&&e(!0),e(),o>=ri&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ci)},canEmit:function(){for(var t=0;this.requireFail.length>t;){if(!(this.requireFail[t].state&(ci|ni)))return!1;t++}return!0},recognize:function(t){var e=r({},t);return h(this.options.enable,[this,e])?(this.state&(di|li|ci)&&(this.state=ni),this.state=this.process(e),void(this.state&(si|ai|ri|li)&&this.tryEmit(e))):(this.reset(),void(this.state=ci))},process:function(){},getTouchAction:function(){},reset:function(){}},l(Q,X,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,o=e&(si|ai),n=this.attrTest(t);return o&&(i&Se||!n)?e|li:o||n?i&Te?e|ri:e&si?e|ai:si:ci}}),l(Z,Q,{defaults:{event:"pan",threshold:10,pointers:1,direction:Fe},getTouchAction:function(){var t=this.options.direction,e=[];return t&Oe&&e.push(oi),t&De&&e.push(ii),e},directionTest:function(t){var e=this.options,i=!0,o=t.distance,n=t.direction,s=t.deltaX,a=t.deltaY;return n&e.direction||(e.direction&Oe?(n=0===s?Ee:0>s?Pe:Le,i=s!=this.pX,o=Math.abs(t.deltaX)):(n=0===a?Ee:0>a?Ie:Re,i=a!=this.pY,o=Math.abs(t.deltaY))),t.direction=n,i&&o>e.threshold&&n&e.direction},attrTest:function(t){return Q.prototype.attrTest.call(this,t)&&(this.state&si||!(this.state&si)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=q(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),l(J,Q,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ei]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&si)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=1>t.scale?"in":"out";this.manager.emit(this.options.event+e,t)}}}),l(te,X,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Je]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!o||!i||t.eventType&(Te|Se)&&!s)this.reset();else if(t.eventType&ke)this.reset(),this._timer=n(function(){this.state=di,this.tryEmit()},e.time,this);else if(t.eventType&Te)return di;return ci},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===di&&(t&&t.eventType&Te?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=me(),this.manager.emit(this.options.event,this._input)))}}),l(ee,Q,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ei]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&si)}}),l(ie,Q,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Oe|De,pointers:1},getTouchAction:function(){return Z.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Oe|De)?e=t.velocity:i&Oe?e=t.velocityX:i&De&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&ue(e)>this.options.velocity&&t.eventType&Te},emit:function(t){var e=q(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(oe,X,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ti]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&ke&&0===this.count)return this.failTimeout();if(o&&s&&i){if(t.eventType!=Te)return this.failTimeout();var a=this.pTime?t.timeStamp-this.pTime<e.interval:!0,r=!this.pCenter||D(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,r&&a?this.count+=1:this.count=1,this._input=t;var d=this.count%e.taps;if(0===d)return this.hasRequireFailures()?(this._timer=n(function(){this.state=di,this.tryEmit()},e.interval,this),si):di}return ci},failTimeout:function(){return this._timer=n(function(){this.state=ci},this.options.interval,this),ci},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==di&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ne.VERSION="2.0.4",ne.defaults={domEvents:!1,touchAction:Ze,enable:!0,inputTarget:null,inputClass:null,preset:[[ee,{enable:!1}],[J,{enable:!1},["rotate"]],[ie,{direction:Oe}],[Z,{direction:Oe},["swipe"]],[oe],[oe,{event:"doubletap",taps:2},["tap"]],[te]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var hi=1,ui=2;se.prototype={set:function(t){return r(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?ui:hi},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,o=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&di)&&(n=e.curRecognizer=null);for(var s=0;o.length>s;)i=o[s],e.stopped===ui||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&i.state&(si|ai|ri)&&(n=e.curRecognizer=i),s++}},get:function(t){if(t instanceof X)return t;for(var e=this.recognizers,i=0;e.length>i;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(b(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return a(g(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return a(g(t),function(t){e?i[t].splice(b(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&re(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var o=0;i.length>o;)i[o](e),o++}},destroy:function(){this.element&&ae(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},r(ne,{INPUT_START:ke,INPUT_MOVE:we,INPUT_END:Te,INPUT_CANCEL:Se,STATE_POSSIBLE:ni,STATE_BEGAN:si,STATE_CHANGED:ai,STATE_ENDED:ri,STATE_RECOGNIZED:di,STATE_CANCELLED:li,STATE_FAILED:ci,DIRECTION_NONE:Ee,DIRECTION_LEFT:Pe,DIRECTION_RIGHT:Le,DIRECTION_UP:Ie,DIRECTION_DOWN:Re,DIRECTION_HORIZONTAL:Oe,DIRECTION_VERTICAL:De,DIRECTION_ALL:Fe,Manager:se,Input:k,TouchAction:j,TouchInput:G,MouseInput:B,PointerEventInput:z,TouchMouseInput:U,SingleTouchInput:N,Recognizer:X,AttrRecognizer:Q,Tap:oe,Pan:Z,Swipe:ie,Pinch:J,Rotate:ee,Press:te,on:m,off:p,each:a,merge:d,extend:r,inherit:l,bindFn:c,prefixed:y}),typeof define==ce&&define.amd?define(function(){return ne}):"undefined"!=typeof module&&module.exports?module.exports=ne:t[i]=ne}(window,document,"Hammer"),$ui.themeDark={backgroundImageColor:"#D94646",inHeadUnit:!0,chart:{color:"#747474",color_OK:"#D94646",color_GOOD:"#D94646",color_GREAT:"#D94646",color_RANDOM1:"#D94646"},variables:[{name:"@brand-color",value:"#D94646"},{name:"@highlight-text-color",value:"#FFFFFF"},{name:"@foreground-color",value:"#FFFFFF"},{name:"@border-color",value:"#FFFFFF"},{name:"@background-color",value:"#000000"},{name:"@dark-color",value:"#747474"},{name:"@profile-wedge-color",value:"#D94646"},{name:"@green-color",value:"#779933"}],classList:[{className:".theme-border-color",properties:[{name:"border-color",value:"@border-color !important"}]},{className:".theme-brand-border-color",properties:[{name:"border-color",value:"@brand-color !important"}]},{className:".theme-tile-border-color",properties:[{name:"border-color",value:"@brand-color !important"}]},{className:".theme-dark-border-color",properties:[{name:"border-color",value:"@dark-color !important"}]},{className:".theme-text-color",properties:[{name:"color",value:"@foreground-color"}]},{className:".theme-dark-text-color",properties:[{name:"color",value:"@dark-color"}]},{className:".theme-highlight-text-color",properties:[{name:"color",value:"@highlight-text-color"}]},{className:".theme-brand-text-color",properties:[{name:"color",value:"@brand-color"}]},{className:".theme-hint-text-color",properties:[{name:"color",value:"#999999"}]},{className:".theme-warning-text-color",properties:[{name:"color",value:"red"}]},{className:".theme-screen-background-color",properties:[{name:"background-color",value:"@background-color"}]},{className:".theme-brand-background-color",properties:[{name:"background-color",value:"@brand-color"}]},{className:".theme-light-background-color",properties:[{name:"background-color",value:"@foreground-color"}]},{className:".theme-dark-background-color",properties:[{name:"background-color",value:"@dark-color"}]},{className:".theme-call-button",properties:[{name:"background-color",value:"@green-color"}]},{className:".theme-generic-list-accent-color",properties:[{name:"color",value:"@brand-color"}]},{className:".theme-segmented-control",properties:[{name:"border-color",value:"@foreground-color"},{name:"background-color",value:"@background-color"},{name:"color",value:"@foreground-color"}]},{className:".theme-post-control",properties:[{name:"color",value:"#D3D3D3"},{name:"background-color",value:"@background-color"}]},{className:".theme-profile-vehicle-background-color",properties:[{name:"background-color",value:"@background-color"}]},{className:".theme-profile-wedge-background-color",properties:[{name:"background-color",value:"@profile-wedge-color"}]},{className:".theme-profile-rank",properties:[{name:"background-color",value:"@profile-wedge-color"},{name:"color",value:"@highlight-text-color"}]},{className:".theme-profile-rank-text-color",properties:[{name:"color",value:"@highlight-text-color"}]},{className:".theme-profile-label-text-color",properties:[{name:"color",value:"@border-color"}]},{className:".theme-profile-stats",properties:[{name:"border-color",value:"@brand-color"},{name:"background-color",value:"@background-color"}]},{className:".theme-profile-number-color",properties:[{name:"color",value:"@profile-wedge-color"}]},{className:".theme-profile-avatar",properties:[{name:"background-color",value:"@dark-color"},{name:"border-color",value:"@brand-color"},{name:"box-shadow",value:"inherit"}]},{className:".theme-on-off-switch",properties:[{name:"background-image",value:"linear-gradient(to top, @dark-color, #B9B9B9 80%);"}]},{className:".theme-on-off-switch-inner-ring",properties:[{name:"border-color",value:"@background-color"},{name:"background-image",value:"linear-gradient(to top,#B9B9B9,#5c5c5c 25%);"}]},{className:".theme-on-off-switch-inner-ring-on",properties:[{name:"border-color",value:"@background-color"},{name:"background-image",value:"linear-gradient(to bottom, #B9B9B9, #5c5c5c 25%);"}]},{className:".theme-on-off-switch-indicator-on",properties:[{name:"background-color",value:"@green-color"}]},{className:".theme-on-off-switch",properties:[{name:"background-image",value:"linear-gradient(to top,#747474, #B9B9B9 50%);"}]},{className:".theme-circle-menu-indicator",properties:[{name:"background-color",value:"@dark-color"}]},{className:".theme-circle-menu-indicator-selected",properties:[{name:"background-color",value:"@foreground-color"}]}]},$ui.themeLight={backgroundImageColor:"#D94646",inHeadUnit:!0,chart:{color:"#747474",color_OK:"#D94646",color_GOOD:"#D94646",color_GREAT:"#D94646",color_RANDOM1:"#D94646"},variables:[{name:"@brand-color",value:"#D94646"},{name:"@highlight-text-color",value:"#FFFFFF"},{name:"@foreground-color",value:"#FFFFFF"},{name:"@border-color",value:"#FFFFFF"},{name:"@background-color",value:"#000000"},{name:"@dark-color",value:"#747474"},{name:"@profile-wedge-color",value:"#D94646"}],classList:[{className:".theme-border-color",properties:[{name:"border-color",value:"@border-color !important"}]},{className:".theme-brand-border-color",properties:[{name:"border-color",value:"@brand-color !important"}]},{className:".theme-tile-border-color",properties:[{name:"border-color",value:"@brand-color !important"}]},{className:".theme-dark-border-color",properties:[{name:"border-color",value:"@dark-color !important"}]},{className:".theme-text-color",properties:[{name:"color",value:"@foreground-color"}]},{className:".theme-dark-text-color",properties:[{name:"color",value:"@dark-color"}]},{className:".theme-highlight-text-color",properties:[{name:"color",value:"@highlight-text-color"}]},{className:".theme-brand-text-color",properties:[{name:"color",value:"@brand-color"}]},{className:".theme-screen-background-color",properties:[{name:"background-color",value:"@background-color"}]},{className:".theme-brand-background-color",properties:[{name:"background-color",value:"@brand-color"}]},{className:".theme-light-background-color",properties:[{name:"background-color",value:"@foreground-color"}]},{className:".theme-dark-background-color",properties:[{name:"background-color",value:"@dark-color"}]},{className:".theme-generic-list-accent-color",properties:[{name:"color",value:"@brand-color"}]},{className:".theme-segmented-control",properties:[{name:"border-color",value:"@foreground-color"},{name:"background-color",value:"@background-color"},{name:"color",value:"@foreground-color"}]},{className:".theme-post-control",properties:[{name:"color",value:"#D3D3D3"},{name:"background-color",value:"@background-color"}]},{className:".theme-profile-vehicle-background-color",properties:[{name:"background-color",value:"@background-color"}]},{className:".theme-profile-wedge-background-color",properties:[{name:"background-color",value:"@profile-wedge-color"}]},{className:".theme-profile-rank",properties:[{name:"background-color",value:"@profile-wedge-color"},{name:"color",value:"@highlight-text-color"}]},{className:".theme-profile-rank-text-color",properties:[{name:"color",value:"@highlight-text-color"}]},{className:".theme-profile-label-text-color",properties:[{name:"color",value:"@border-color"}]},{className:".theme-profile-stats",properties:[{name:"border-color",value:"@brand-color"},{name:"background-color",value:"@background-color"}]},{className:".theme-profile-number-color",properties:[{name:"color",value:"@profile-wedge-color"}]},{className:".theme-profile-avatar",properties:[{name:"background-color",value:"@dark-color"},{name:"border-color",value:"@brand-color"},{name:"box-shadow",value:"inherit"}]}]},$ui.toast=function(t,e){var i=document.createElement("div");$ui.addClass(i,"ui-toast theme-brand-border-color"),i.textContent=t,document.body.appendChild(i),void 0==e&&(e=2500),i._ondisappear=function(){this.removeEventListener("webkitAnimationEnd",this._ondisappear),this.parentNode.removeChild(this)}.$bind(i),i._onappear=function(){this.removeEventListener("webkitAnimationEnd",this._onappear),this.addEventListener("webkitAnimationEnd",this._ondisappear);var t=this;window.setTimeout(function(){t.style["-webkit-animation-name"]="ui-toast-disappear"},e)}.$bind(i),i.addEventListener("webkitAnimationEnd",i._onappear)};var $emulator={_panThreshold:30,_extend:function(){var t={Fans:{AUTO:0}};$ui.addExtension(new UIExtension("HeadUnitChrome",emulator_HeadUnitChrome,$ui.UIExtensionType.SCREEN,t)),t={Direction:{LEFT:"left",RIGHT:"right"}},$ui.addExtension(new UIExtension("WedgeNumber",emulator_WedgeNumber,$ui.UIExtensionType.SCREEN,t)),$ui.addExtension(new UIExtension("AppContainer",emulator_AppContainer,$ui.UIExtensionType.SCREEN)),$ui.addExtension(new UIExtension("PopupHvac",emulator_PopupHvac,$ui.UIExtensionType.SCREEN)),$ui.addExtension(new UIExtension("FanSpeedControl",emulator_FanSpeedControl)),$ui.addExtension(new UIExtension("FanDirectionControl",emulator_FanDirectionControl)),$ui.addExtension(new UIExtension("ChromeApp",emulator_ChromeApp,$ui.UIExtensionType.SCREEN)),$ui.addExtension(new UIExtension("ActiveCallScreen",emulator_ActiveCallScreen,$ui.UIExtensionType.SCREEN))}};$ui.extend($emulator._extend),$ui.DataEvent=function(t,e){if(void 0==t||null==t)throw'DataEvent - The identifier "id" must be supplied';this.id=t,this.data=e};var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var i,o;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),o=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},FastClick.prototype.determineEventType=function(t){"use strict";return deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(t){"use strict";var e;deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,i,o;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],deviceIsIOS){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!deviceIsIOS4&&soloUI.isPhoneGap===!0){if(i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,i,o,n,s,a=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(s=t.changedTouches[0],a=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||a,a.fastClickScrollParent=this.targetElement.fastClickScrollParent),o=a.tagName.toLowerCase(),"label"===o){if(e=this.findControl(a)){if(this.focus(a),deviceIsAndroid)return!1;a=e}}else if(this.needsFocus(a))return t.timeStamp-i>100||deviceIsIOS&&window.top!==window&&"input"===o?(this.targetElement=null,!1):(this.focus(a),this.sendClick(a,t),deviceIsIOS4&&"select"===o||(this.targetElement=null,t.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(n=a.fastClickScrollParent,n&&n.fastClickLastScrollTop!==n.scrollTop)?!0:(this.needsClick(a)||(t.preventDefault(),this.sendClick(a,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e,i;if(window.ontouchstart===void 0)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction?!0:!1},FastClick.attach=function(t,e){"use strict";return new FastClick(t,e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,$ui.ListFilter=function(t,e){this.name=t,this.expression=e},$ui_Spinner.prototype=new $ui_CoreComponent,function(){"use strict";var t=this,e=t.Chart,i=function(t){return this.canvas=t.canvas,this.ctx=t,this.width=t.canvas.width,this.height=t.canvas.height,this.aspectRatio=this.width/this.height,o.retinaScale(this),this};i.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},i.types={};var o=i.helpers={},n=o.each=function(t,e,i){var o=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var n;for(n=0;t.length>n;n++)e.apply(i,[t[n],n].concat(o))}else for(var s in t)e.apply(i,[t[s],s].concat(o))},s=o.clone=function(t){var e={};return n(t,function(i,o){t.hasOwnProperty(o)&&(e[o]=i)}),e},a=o.extend=function(t){return n(Array.prototype.slice.call(arguments,1),function(e){n(e,function(i,o){e.hasOwnProperty(o)&&(t[o]=i)})}),t},r=o.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),a.apply(null,t)},d=o.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var i=0;t.length>i;i++)if(t[i]===e)return i;return-1},l=(o.where=function(t,e){var i=[];return o.each(t,function(t){e(t)&&i.push(t)}),i},o.findNextWhere=function(t,e,i){i||(i=-1);for(var o=i+1;t.length>o;o++){var n=t[o];if(e(n))return n}},o.findPreviousWhere=function(t,e,i){i||(i=t.length);for(var o=i-1;o>=0;o--){var n=t[o];if(e(n))return n}},o.inherits=function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},o=function(){this.constructor=i};return o.prototype=e.prototype,i.prototype=new o,i.extend=l,t&&a(i.prototype,t),i.__super__=e.prototype,i}),c=o.noop=function(){},h=o.uid=function(){var t=0;return function(){return"chart-"+t++}}(),u=o.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},m=o.amd="function"==typeof define&&define.amd,p=o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},f=o.max=function(t){return Math.max.apply(Math,t)},v=o.min=function(t){return Math.min.apply(Math,t)},g=(o.cap=function(t,e,i){if(p(e)){if(t>e)return e}else if(p(i)&&i>t)return i;return t},o.getDecimalPlaces=function(t){return 0!==t%1&&p(t)?(""+t).split(".")[1].length:0}),b=o.radians=function(t){return t*(Math.PI/180)},C=(o.getAngleFromPoint=function(t,e){var i=e.x-t.x,o=e.y-t.y,n=Math.sqrt(i*i+o*o),s=2*Math.PI+Math.atan2(o,i);return 0>i&&0>o&&(s+=2*Math.PI),{angle:s,distance:n}},o.aliasPixel=function(t){return 0===t%2?0:.5}),_=(o.splineCurve=function(t,e,i,o){var n=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),s=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2)),a=o*n/(n+s),r=o*s/(n+s);return{inner:{x:e.x-a*(i.x-t.x),y:e.y-a*(i.y-t.y)},outer:{x:e.x+r*(i.x-t.x),y:e.y+r*(i.y-t.y)}}},o.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),y=(o.calculateScaleRange=function(t,e,i,o,n){var s=2,a=Math.floor(e/(1.5*i)),r=s>=a,d=f(t),l=v(t);d===l&&(d+=.5,l>=.5&&!o?l-=.5:d+=.5);for(var c=Math.abs(d-l),h=_(c),u=Math.ceil(d/(1*Math.pow(10,h)))*Math.pow(10,h),m=o?0:Math.floor(l/(1*Math.pow(10,h)))*Math.pow(10,h),p=u-m,g=Math.pow(10,h),b=Math.round(p/g);(b>a||a>2*b)&&!r;)if(b>a)g*=2,b=Math.round(p/g),0!==b%1&&(r=!0);else if(n&&h>=0){if(0!==g/2%1)break;g/=2,b=Math.round(p/g)}else g/=2,b=Math.round(p/g);return r&&(b=s,g=p/b),{steps:b,stepValue:g,min:m,max:m+b*g}},o.template=function(t,e){function i(t,e){return e.value}if(t instanceof Function)return t(e);return i(t,e)}),$=(o.generateLabels=function(t,e,i,o){var s=Array(e);return labelTemplateString&&n(s,function(e,n){s[n]=y(t,{value:i+o*(n+1)})}),s},o.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return 1>(t/=.5)?.5*t*t:-.5*(--t*(t-2)-1)
},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return 1>(t/=.5)?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return 1>(t/=.5)?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return 1>(t/=.5)?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:1>(t/=.5)?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return 1>(t/=.5)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,o=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),Math.abs(1)>o?(o=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/o),-(o*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/i)))},easeOutElastic:function(t){var e=1.70158,i=0,o=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),Math.abs(1)>o?(o=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/o),o*Math.pow(2,-10*t)*Math.sin(2*(1*t-e)*Math.PI/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,o=1;return 0===t?0:2==(t/=.5)?1:(i||(i=.3*1.5),Math.abs(1)>o?(o=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/o),1>t?-.5*o*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/i):.5*o*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/i)+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return 1>(t/=.5)?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-$.easeOutBounce(1-t)},easeOutBounce:function(t){return 1/2.75>(t/=1)?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*$.easeInBounce(2*t):.5*$.easeOutBounce(2*t-1)+.5}}),x=o.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),k=(o.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),o.animationLoop=function(t,e,i,o,n,s){var a=0,r=$[i]||$.linear,d=function(){a++;var i=a/e,l=r(i);t.call(s,l,i,a),o.call(s,l,i),e>a?s.animationFrame=x(d):n.apply(s)};x(d)},o.getRelativePosition=function(t){var e,i,o=t.originalEvent||t,n=t.currentTarget||t.srcElement,s=n.getBoundingClientRect();return o.touches?(e=o.touches[0].clientX-s.left,i=o.touches[0].clientY-s.top):(e=o.clientX-s.left,i=o.clientY-s.top),{x:e,y:i}},o.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}),w=o.removeEvent=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=c},T=(o.bindEvents=function(t,e,i){t.events||(t.events={}),n(e,function(e){t.events[e]=function(){i.apply(t,arguments)},k(t.chart.canvas,e,t.events[e])})},o.unbindEvents=function(t,e){n(e,function(e,i){w(t.chart.canvas,i,e)})}),S=o.getMaximumWidth=function(t){var e=t.parentNode;return e.clientWidth},E=o.getMaximumHeight=function(t){var e=t.parentNode;return e.clientHeight},P=(o.getMaximumSize=o.getMaximumWidth,o.retinaScale=function(t){var e=t.ctx,i=t.canvas.width,o=t.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=i+"px",e.canvas.style.height=o+"px",e.canvas.height=o*window.devicePixelRatio,e.canvas.width=i*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio))}),L=o.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},I=o.fontString=function(t,e,i){return e+" "+t+"px "+i},R=o.longestText=function(t,e,i){t.font=e;var o=0;return n(i,function(e){var i=t.measureText(e).width;o=i>o?i:o}),o},O=o.drawRoundedRectangle=function(t,e,i,o,n,s){t.beginPath(),t.moveTo(e+s,i),t.lineTo(e+o-s,i),t.quadraticCurveTo(e+o,i,e+o,i+s),t.lineTo(e+o,i+n-s),t.quadraticCurveTo(e+o,i+n,e+o-s,i+n),t.lineTo(e+s,i+n),t.quadraticCurveTo(e,i+n,e,i+n-s),t.lineTo(e,i+s),t.quadraticCurveTo(e,i,e+s,i),t.closePath()};i.instances={},i.Type=function(t,e,o){this.options=e,this.chart=o,this.id=h(),i.instances[this.id]=this,e.responsive&&this.resize(),this.initialize.call(this,t)},a(i.Type.prototype,{initialize:function(){return this},clear:function(){return L(this.chart),this},stop:function(){return o.cancelAnimFrame.call(t,this.animationFrame),this},resize:function(t){this.stop();var e=this.chart.canvas,i=S(this.chart.canvas),o=this.options.maintainAspectRatio?i/this.chart.aspectRatio:E(this.chart.canvas);return e.width=this.chart.width=i,e.height=this.chart.height=o,P(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?o.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return y(this.options.legendTemplate,this)},destroy:function(){this.clear(),T(this,this.events);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,t.style.removeProperty?(t.style.removeProperty("width"),t.style.removeProperty("height")):(t.style.removeAttribute("width"),t.style.removeAttribute("height")),delete i.instances[this.id]},showTooltip:function(t,e){this.activeElements===void 0&&(this.activeElements=[]);var s=function(t){var e=!1;return t.length!==this.activeElements.length?e=!0:(n(t,function(t,i){t!==this.activeElements[i]&&(e=!0)},this),e)}.call(this,t);if(s||e){if(this.activeElements=t,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,r,l=this.datasets.length-1;l>=0&&(a=this.datasets[l].points||this.datasets[l].bars||this.datasets[l].segments,r=d(a,t[0]),-1===r);l--);var c=[],h=[],u=function(){var t,e,i,n,s,a=[],d=[],l=[];return o.each(this.datasets,function(e){t=e.points||e.bars||e.segments,t[r]&&t[r].hasValue()&&a.push(t[r])}),o.each(a,function(t){d.push(t.x),l.push(t.y),c.push(o.template(this.options.multiTooltipTemplate,t)),h.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),s=v(l),i=f(l),n=v(d),e=f(d),{x:n>this.chart.width/2?n:e,y:(s+i)/2}}.call(this,r);new i.MultiTooltip({x:u.x,y:u.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:h,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else n(t,function(t){var e=t.tooltipPosition();new i.Tooltip({x:Math.round(e.x),y:Math.round(e.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:y(this.options.tooltipTemplate,t),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),i.Type.extend=function(t){var e=this,o=function(){return e.apply(this,arguments)};if(o.prototype=s(e.prototype),a(o.prototype,t),o.extend=i.Type.extend,t.name||e.prototype.name){var n=t.name||e.prototype.name,d=i.defaults[e.prototype.name]?s(i.defaults[e.prototype.name]):{};i.defaults[n]=a(d,t.defaults),i.types[n]=o,i.prototype[n]=function(t,e){var s=r(i.defaults.global,i.defaults[n],e||{});return new o(t,s,this)}}else u("Name not provided for this chart, so it hasn't been registered");return e},i.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(i.Element.prototype,{initialize:function(){},restore:function(t){return t?n(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=s(this),delete this._saved._saved,this},update:function(t){return n(t,function(t,e){this._saved[e]=this[e],this[e]=t},this),this},transition:function(t,e){return n(t,function(t,i){this[i]=(t-this._saved[i])*e+this._saved[i]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return p(this.value)}}),i.Element.extend=l,i.Point=i.Element.extend({display:!0,inRange:function(t,e){var i=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(e-this.y,2)<Math.pow(i,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),i.Arc=i.Element.extend({inRange:function(t,e){var i=o.getAngleFromPoint(this,{x:t,y:e}),n=i.angle>=this.startAngle&&i.angle<=this.endAngle,s=i.distance>=this.innerRadius&&i.distance<=this.outerRadius;return n&&s},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,e=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*e,y:this.y+Math.sin(t)*e}},draw:function(){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),i.Rectangle=i.Element.extend({draw:function(){var t=this.ctx,e=this.width/2,i=this.x-e,o=this.x+e,n=this.base-(this.base-this.y),s=this.strokeWidth/2;this.showStroke&&(i+=s,o-=s,n+=s),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(i,this.base),t.lineTo(i,n),t.lineTo(o,n),t.lineTo(o,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,e){return t>=this.x-this.width/2&&this.x+this.width/2>=t&&e>=this.y&&this.base>=e}}),i.Tooltip=i.Element.extend({draw:function(){var t=this.chart.ctx;t.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var e=this.caretPadding=2,i=t.measureText(this.text).width+2*this.xPadding,o=this.fontSize+2*this.yPadding,n=o+this.caretHeight+e;this.x+i/2>this.chart.width?this.xAlign="left":0>this.x-i/2&&(this.xAlign="right"),0>this.y-n&&(this.yAlign="below");var s=this.x-i/2,a=this.y-n;if(t.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-e),t.lineTo(this.x+this.caretHeight,this.y-(e+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(e+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+e+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+e),t.lineTo(this.x+this.caretHeight,this.y+e+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+e+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":s=this.x-i+(this.cornerRadius+this.caretHeight);break;case"right":s=this.x-(this.cornerRadius+this.caretHeight)}O(t,s,a,i,o,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,s+i/2,a+o/2)}}}),i.MultiTooltip=i.Element.extend({initialize:function(){this.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=I(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,e=R(this.ctx,this.font,this.labels)+this.fontSize+3,i=f([e,t]);this.width=i+2*this.xPadding;var o=this.height/2;0>this.y-o?this.y=o:this.y+o>this.chart.height&&(this.y=this.chart.height-o),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var e=this.y-this.height/2+this.yPadding,i=t-1;return 0===t?e+this.titleFontSize/2:e+(1.5*this.fontSize*i+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{O(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,o.each(this.labels,function(e,i){t.fillStyle=this.textColor,t.fillText(e,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(i+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[i].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),i.Scale=i.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=g(this.stepValue),e=0;this.steps>=e;e++)this.yLabels.push(y(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?R(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,e=this.endPoint-this.startPoint;for(this.calculateYRange(e),this.buildYLabels(),this.calculateXLabelRotation();e>this.endPoint-this.startPoint;)e=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(e),this.buildYLabels(),this.yLabelWidth>t&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,e,i=this.ctx.measureText(this.xLabels[0]).width,o=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=o/2+3,this.xScalePaddingLeft=i/2>this.yLabelWidth+10?i/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var n,s=R(this.ctx,this.font,this.xLabels);this.xLabelWidth=s;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&90>=this.xLabelRotation&&this.xLabelRotation>0;)n=Math.cos(b(this.xLabelRotation)),t=n*i,e=n*o,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*s;this.xLabelRotation>0&&(this.endPoint-=Math.sin(b(this.xLabelRotation))*s+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var e=this.drawingArea()/(this.min-this.max);return this.endPoint-e*(t-this.min)},calculateX:function(t){var e=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),i=e/(this.valuesCount-(this.offsetGridLines?0:1)),o=i*t+this.xScalePaddingLeft;return this.offsetGridLines&&(o+=i/2),Math.round(o)},update:function(t){o.extend(this,t),this.fit()},draw:function(){var t=this.ctx,e=(this.endPoint-this.startPoint)/this.steps,i=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,n(this.yLabels,function(n,s){var a=this.endPoint-e*s,r=Math.round(a),d=this.showHorizontalLines;t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(n,i-10,a),0!==s||d||(d=!0),d&&t.beginPath(),s>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),r+=o.aliasPixel(t.lineWidth),d&&(t.moveTo(i,r),t.lineTo(this.width,r),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(i-5,r),t.lineTo(i,r),t.stroke(),t.closePath()},this),n(this.xLabels,function(e,i){var o=this.calculateX(i)+C(this.lineWidth),n=this.calculateX(i-(this.offsetGridLines?.5:0))+C(this.lineWidth),s=this.xLabelRotation>0,a=this.showVerticalLines;0!==i||a||(a=!0),a&&t.beginPath(),i>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),a&&(t.moveTo(n,this.endPoint),t.lineTo(n,this.startPoint-3),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n,this.endPoint),t.lineTo(n,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(o,s?this.endPoint+12:this.endPoint+8),t.rotate(-1*b(this.xLabelRotation)),t.font=this.font,t.textAlign=s?"right":"center",t.textBaseline=s?"middle":"top",t.fillText(e,0,0),t.restore()},this))}}),i.RadialScale=i.Element.extend({initialize:function(){this.size=v([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var e=this.drawingArea/(this.max-this.min);return(t-this.min)*e},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=g(this.stepValue),e=0;this.steps>=e;e++)this.yLabels.push(y(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,e,i,o,n,s,a,r,d,l,c,h,u=v([this.height/2-this.pointLabelFontSize-5,this.width/2]),m=this.width,f=0;for(this.ctx.font=I(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e=0;this.valuesCount>e;e++)t=this.getPointPosition(e,u),i=this.ctx.measureText(y(this.templateString,{value:this.labels[e]})).width+5,0===e||e===this.valuesCount/2?(o=i/2,t.x+o>m&&(m=t.x+o,n=e),f>t.x-o&&(f=t.x-o,a=e)):this.valuesCount/2>e?t.x+i>m&&(m=t.x+i,n=e):e>this.valuesCount/2&&f>t.x-i&&(f=t.x-i,a=e);d=f,l=Math.ceil(m-this.width),s=this.getIndexAngle(n),r=this.getIndexAngle(a),c=l/Math.sin(s+Math.PI/2),h=d/Math.sin(r+Math.PI/2),c=p(c)?c:0,h=p(h)?h:0,this.drawingArea=u-(h+c)/2,this.setCenterPoint(h,c)},setCenterPoint:function(t,e){var i=this.width-e-this.drawingArea,o=t+this.drawingArea;this.xCenter=(o+i)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var e=2*Math.PI/this.valuesCount;return t*e-Math.PI/2},getPointPosition:function(t,e){var i=this.getIndexAngle(t);return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(n(this.yLabels,function(e,i){if(i>0){var o,n=i*(this.drawingArea/this.steps),s=this.yCenter-n;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;this.valuesCount>a;a++)o=this.getPointPosition(a,this.calculateCenterOffset(this.min+i*this.stepValue)),0===a?t.moveTo(o.x,o.y):t.lineTo(o.x,o.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=I(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var r=t.measureText(e).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-r/2-this.backdropPaddingX,s-this.fontSize/2-this.backdropPaddingY,r+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(e,this.xCenter,s)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var e=this.valuesCount-1;e>=0;e--){if(this.angleLineWidth>0){var i=this.getPointPosition(e,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(i.x,i.y),t.stroke(),t.closePath()}var o=this.getPointPosition(e,this.calculateCenterOffset(this.max)+5);t.font=I(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var s=this.labels.length,a=this.labels.length/2,r=a/2,d=r>e||e>s-r,l=e===r||e===s-r;t.textAlign=0===e?"center":e===a?"center":a>e?"left":"right",t.textBaseline=l?"middle":d?"bottom":"top",t.fillText(this.labels[e],o.x,o.y)}}}}}),o.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){n(i.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),m?define(function(){return i}):"object"==typeof module&&module.exports&&(module.exports=i),t.Chart=i,i.noConflict=function(){return t.Chart=e,i}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,o={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Bar",defaults:o,initialize:function(t){var o=this.options;this.ScaleClass=e.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,e,i){var n=this.calculateBaseWidth(),s=this.calculateX(i)-n/2,a=this.calculateBarWidth(t);return s+a*e+e*o.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*o.barValueSpacing},calculateBarWidth:function(t){var e=this.calculateBaseWidth()-(t-1)*o.barDatasetSpacing;return e/t}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),i.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),this.BarClass=e.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),i.each(t.datasets,function(e){var o={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,bars:[]};this.datasets.push(o),i.each(e.data,function(i,n){o.bars.push(new this.BarClass({value:i,label:t.labels[n],datasetLabel:e.label,strokeColor:e.strokeColor,fillColor:e.fillColor,highlightFill:e.highlightFill||e.fillColor,highlightStroke:e.highlightStroke||e.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,e,o){i.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,o,e),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){i.each(this.datasets,function(e,o){i.each(e.bars,t,this,o)},this)},getBarsAtEvent:function(t){for(var e,o=[],n=i.getRelativePosition(t),s=function(t){o.push(t.bars[e])},a=0;this.datasets.length>a;a++)for(e=0;this.datasets[a].bars.length>e;e++)if(this.datasets[a].bars[e].inRange(n.x,n.y))return i.each(this.datasets,s),o;return o},buildScale:function(t){var e=this,o=function(){var t=[];return e.eachBars(function(e){t.push(e.value)}),t},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=i.calculateScaleRange(o(),t,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,e)},xLabels:t,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(n,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(t,e){i.each(t,function(t,i){this.datasets[i].bars.push(new this.BarClass({value:t,label:e,x:this.scale.calculateBarX(this.datasets.length,i,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[i].strokeColor,fillColor:this.datasets[i].fillColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){i.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear(),this.chart.ctx,this.scale.draw(e),i.each(this.datasets,function(t,o){i.each(t.bars,function(t,i){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,o,i),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},e).draw())},this)},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,o={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Doughnut",defaults:o,initialize:function(t){this.segments=[],this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=e.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];i.each(this.segments,function(t){t.restore(["fillColor"])}),i.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.calculateTotal(t),i.each(t,function(t,e){this.addData(t,e,!0)},this),this.render()},getSegmentsAtEvent:function(t){var e=[],o=i.getRelativePosition(t);return i.each(this.segments,function(t){t.inRange(o.x,o.y)&&e.push(t)},this),e},addData:function(t,e,i){var o=e||this.segments.length;this.segments.splice(o,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),i||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(t/this.total)},calculateTotal:function(t){this.total=0,i.each(t,function(t){this.total+=t.value},this)},update:function(){this.calculateTotal(this.segments),i.each(this.activeElements,function(t){t.restore(["fillColor"])}),i.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var e=i.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,i.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var e=t?t:1;this.clear(),i.each(this.segments,function(t,i){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},e),t.endAngle=t.startAngle+t.circumference,t.draw(),0===i&&(t.startAngle=1.5*Math.PI),this.segments.length-1>i&&(this.segments[i+1].startAngle=t.endAngle)},this)}}),e.types.Doughnut.extend({name:"Pie",defaults:i.merge(o,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,o={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Line",defaults:o,initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),i.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),i.each(t.datasets,function(e){var o={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};
this.datasets.push(o),i.each(e.data,function(i,n){o.points.push(new this.PointClass({value:i,label:t.labels[n],datasetLabel:e.label,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,e){i.extend(t,{x:this.scale.calculateX(e),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){i.each(this.datasets,function(e){i.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=[],o=i.getRelativePosition(t);return i.each(this.datasets,function(t){i.each(t.points,function(t){t.inRange(o.x,o.y)&&e.push(t)})},this),e},buildScale:function(t){var o=this,n=function(){var t=[];return o.eachPoints(function(e){t.push(e.value)}),t},s={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=i.calculateScaleRange(n(),t,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,e)},xLabels:t,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(s,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new e.Scale(s)},addData:function(t,e){i.each(t,function(t,i){this.datasets[i].points.push(new this.PointClass({value:t,label:e,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear();var o=this.chart.ctx,n=function(t){return null!==t.value},s=function(t,e,o){return i.findNextWhere(e,n,o)||t},a=function(t,e,o){return i.findPreviousWhere(e,n,o)||t};this.scale.draw(e),i.each(this.datasets,function(t){var r=i.where(t.points,n);i.each(t.points,function(t,i){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(i)},e)},this),this.options.bezierCurve&&i.each(r,function(t,e){var o=e>0&&r.length-1>e?this.options.bezierCurveTension:0;t.controlPoints=i.splineCurve(a(t,r,e),t,s(t,r,e),o),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),o.lineWidth=this.options.datasetStrokeWidth,o.strokeStyle=t.strokeColor,o.beginPath(),i.each(r,function(t,e){if(0===e)o.moveTo(t.x,t.y);else if(this.options.bezierCurve){var i=a(t,r,e);o.bezierCurveTo(i.controlPoints.outer.x,i.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else o.lineTo(t.x,t.y)},this),o.stroke(),this.options.datasetFill&&r.length>0&&(o.lineTo(r[r.length-1].x,this.scale.endPoint),o.lineTo(r[0].x,this.scale.endPoint),o.fillStyle=t.fillColor,o.closePath(),o.fill()),i.each(r,function(t){t.draw()})},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,o={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"PolarArea",defaults:o,initialize:function(t){this.segments=[],this.SegmentArc=e.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),i.each(t,function(t,e){this.addData(t,e,!0)},this),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];i.each(this.segments,function(t){t.restore(["fillColor"])}),i.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.render()},getSegmentsAtEvent:function(t){var e=[],o=i.getRelativePosition(t);return i.each(this.segments,function(t){t.inRange(o.x,o.y)&&e.push(t)},this),e},addData:function(t,e,i){var o=e||this.segments.length;this.segments.splice(o,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),i||(this.reflow(),this.update())},removeData:function(t){var e=i.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,i.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var e=[];i.each(t,function(t){e.push(t.value)});var o=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(e,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);i.extend(this.scale,o,{size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),i.each(this.segments,function(t){t.save()}),this.render()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),i.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),i.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var e=t||1;this.clear(),i.each(this.segments,function(t,i){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},e),t.endAngle=t.startAngle+t.circumference,0===i&&(t.startAngle=1.5*Math.PI),this.segments.length-1>i&&(this.segments[i+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),i.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),i.each(t.datasets,function(e){var o={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(o),i.each(e.data,function(i,n){var s;this.scale.animation||(s=this.scale.getPointPosition(n,this.scale.calculateCenterOffset(i))),o.points.push(new this.PointClass({value:i,label:t.labels[n],datasetLabel:e.label,x:this.options.animation?this.scale.xCenter:s.x,y:this.options.animation?this.scale.yCenter:s.y,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){i.each(this.datasets,function(e){i.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=i.getRelativePosition(t),o=i.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},e),n=2*Math.PI/this.scale.valuesCount,s=Math.round((o.angle-1.5*Math.PI)/n),a=[];return(s>=this.scale.valuesCount||0>s)&&(s=0),o.distance<=this.scale.drawingArea&&i.each(this.datasets,function(t){a.push(t.points[s])}),a},buildScale:function(t){this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var e=function(){var e=[];return i.each(t,function(t){t.data?e=e.concat(t.data):i.each(t.points,function(t){e.push(t.value)})}),e}(),o=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(e,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);i.extend(this.scale,o)},addData:function(t,e){this.scale.valuesCount++,i.each(t,function(t,i){var o=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[i].points.push(new this.PointClass({value:t,label:e,x:o.x,y:o.y,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.labels.push(e),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),i.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){i.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var e=t||1,o=this.chart.ctx;this.clear(),this.scale.draw(),i.each(this.datasets,function(t){i.each(t.points,function(t,i){t.hasValue()&&t.transition(this.scale.getPointPosition(i,this.scale.calculateCenterOffset(t.value)),e)},this),o.lineWidth=this.options.datasetStrokeWidth,o.strokeStyle=t.strokeColor,o.beginPath(),i.each(t.points,function(t,e){0===e?o.moveTo(t.x,t.y):o.lineTo(t.x,t.y)},this),o.closePath(),o.stroke(),o.fillStyle=t.fillColor,o.fill(),i.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this),!function(t,e,i,o){"use strict";function n(t,e,i){return setTimeout(c(t,i),e)}function s(t,e,i){return Array.isArray(t)?(a(t,i[e],i),!0):!1}function a(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==o)for(n=0;t.length>n;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function r(t,e,i){for(var n=Object.keys(e),s=0;n.length>s;)(!i||i&&t[n[s]]===o)&&(t[n[s]]=e[n[s]]),s++;return t}function d(t,e){return r(t,e,!0)}function l(t,e,i){var o,n=e.prototype;o=t.prototype=Object.create(n),o.constructor=t,o._super=n,i&&r(o,i)}function c(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==ce?t.apply(e?e[0]||o:o,e):t}function u(t,e){return t===o?e:t}function m(t,e,i){a(g(e),function(e){t.addEventListener(e,i,!1)})}function p(t,e,i){a(g(e),function(e){t.removeEventListener(e,i,!1)})}function f(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function v(t,e){return t.indexOf(e)>-1}function g(t){return t.trim().split(/\s+/g)}function b(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var o=0;t.length>o;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return-1}function C(t){return Array.prototype.slice.call(t,0)}function _(t,e,i){for(var o=[],n=[],s=0;t.length>s;){var a=e?t[s][e]:t[s];0>b(n,a)&&o.push(t[s]),n[s]=a,s++}return i&&(o=e?o.sort(function(t,i){return t[e]>i[e]}):o.sort()),o}function y(t,e){for(var i,n,s=e[0].toUpperCase()+e.slice(1),a=0;de.length>a;){if(i=de[a],n=i?i+s:e,n in t)return n;a++}return o}function $(){return pe++}function x(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function k(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&i.handler(e)},this.init()}function w(t){var e,i=t.options.inputClass;return new(e=i?i:ge?z:be?G:ve?U:B)(t,T)}function T(t,e,i){var o=i.pointers.length,n=i.changedPointers.length,s=e&ke&&0===o-n,a=e&(Te|Se)&&0===o-n;i.isFirst=!!s,i.isFinal=!!a,s&&(t.session={}),i.eventType=e,S(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function S(t,e){var i=t.session,o=e.pointers,n=o.length;i.firstInput||(i.firstInput=L(e)),n>1&&!i.firstMultiple?i.firstMultiple=L(e):1===n&&(i.firstMultiple=!1);var s=i.firstInput,a=i.firstMultiple,r=a?a.center:s.center,d=e.center=I(o);e.timeStamp=me(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=F(r,d),e.distance=D(r,d),E(i,e),e.offsetDirection=O(e.deltaX,e.deltaY),e.scale=a?M(a.pointers,o):1,e.rotation=a?A(a.pointers,o):0,P(i,e);var l=t.element;f(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function E(t,e){var i=e.center,o=t.offsetDelta||{},n=t.prevDelta||{},s=t.prevInput||{};(e.eventType===ke||s.eventType===Te)&&(n=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},o=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=n.x+(i.x-o.x),e.deltaY=n.y+(i.y-o.y)}function P(t,e){var i,n,s,a,r=t.lastInterval||e,d=e.timeStamp-r.timeStamp;if(e.eventType!=Se&&(d>xe||r.velocity===o)){var l=r.deltaX-e.deltaX,c=r.deltaY-e.deltaY,h=R(d,l,c);n=h.x,s=h.y,i=ue(h.x)>ue(h.y)?h.x:h.y,a=O(l,c),t.lastInterval=e}else i=r.velocity,n=r.velocityX,s=r.velocityY,a=r.direction;e.velocity=i,e.velocityX=n,e.velocityY=s,e.direction=a}function L(t){for(var e=[],i=0;t.pointers.length>i;)e[i]={clientX:he(t.pointers[i].clientX),clientY:he(t.pointers[i].clientY)},i++;return{timeStamp:me(),pointers:e,center:I(e),deltaX:t.deltaX,deltaY:t.deltaY}}function I(t){var e=t.length;if(1===e)return{x:he(t[0].clientX),y:he(t[0].clientY)};for(var i=0,o=0,n=0;e>n;)i+=t[n].clientX,o+=t[n].clientY,n++;return{x:he(i/e),y:he(o/e)}}function R(t,e,i){return{x:e/t||0,y:i/t||0}}function O(t,e){return t===e?Ee:ue(t)>=ue(e)?t>0?Pe:Le:e>0?Ie:Re}function D(t,e,i){i||(i=Ae);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(o*o+n*n)}function F(t,e,i){i||(i=Ae);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,o)/Math.PI}function A(t,e){return F(e[1],e[0],Me)-F(t[1],t[0],Me)}function M(t,e){return D(e[0],e[1],Me)/D(t[0],t[1],Me)}function B(){this.evEl=ze,this.evWin=Ne,this.allow=!0,this.pressed=!1,k.apply(this,arguments)}function z(){this.evEl=He,this.evWin=Ue,k.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=Ye,this.evWin=Xe,this.started=!1,k.apply(this,arguments)}function W(t,e){var i=C(t.touches),o=C(t.changedTouches);return e&(Te|Se)&&(i=_(i.concat(o),"identifier",!0)),[i,o]}function G(){this.evTarget=qe,this.targetIds={},k.apply(this,arguments)}function H(t,e){var i=C(t.touches),o=this.targetIds;if(e&(ke|we)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var n,s,a=C(t.changedTouches),r=[],d=this.target;if(s=i.filter(function(t){return f(t.target,d)}),e===ke)for(n=0;s.length>n;)o[s[n].identifier]=!0,n++;for(n=0;a.length>n;)o[a[n].identifier]&&r.push(a[n]),e&(Te|Se)&&delete o[a[n].identifier],n++;return r.length?[_(s.concat(r),"identifier",!0),r]:void 0}function U(){k.apply(this,arguments);var t=c(this.handler,this);this.touch=new G(this.manager,t),this.mouse=new B(this.manager,t)}function j(t,e){this.manager=t,this.set(e)}function Y(t){if(v(t,ei))return ei;var e=v(t,ii),i=v(t,oi);return e&&i?ii+" "+oi:e||i?e?ii:oi:v(t,ti)?ti:Je}function X(t){this.id=$(),this.manager=null,this.options=d(t||{},this.defaults),this.options.enable=u(this.options.enable,!0),this.state=ni,this.simultaneous={},this.requireFail=[]}function V(t){return t&li?"cancel":t&ri?"end":t&ai?"move":t&si?"start":""}function q(t){return t==Re?"down":t==Ie?"up":t==Pe?"left":t==Le?"right":""}function K(t,e){var i=e.manager;return i?i.get(t):t}function Q(){X.apply(this,arguments)}function Z(){Q.apply(this,arguments),this.pX=null,this.pY=null}function J(){Q.apply(this,arguments)}function te(){X.apply(this,arguments),this._timer=null,this._input=null}function ee(){Q.apply(this,arguments)}function ie(){Q.apply(this,arguments)}function oe(){X.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ne(t,e){return e=e||{},e.recognizers=u(e.recognizers,ne.defaults.preset),new se(t,e)}function se(t,e){e=e||{},this.options=d(e,ne.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=w(this),this.touchAction=new j(this,this.options.touchAction),ae(this,!0),a(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ae(t,e){var i=t.element;a(t.options.cssProps,function(t,o){i.style[y(i.style,o)]=e?t:""})}function re(t,i){var o=e.createEvent("Event");o.initEvent(t,!0,!0),o.gesture=i,i.target.dispatchEvent(o)}var de=["","webkit","moz","MS","ms","o"],le=e.createElement("div"),ce="function",he=Math.round,ue=Math.abs,me=Date.now,pe=1,fe=/mobile|tablet|ip(ad|hone|od)|android/i,ve="ontouchstart"in t,ge=y(t,"PointerEvent")!==o,be=ve&&fe.test(navigator.userAgent),Ce="touch",_e="pen",ye="mouse",$e="kinect",xe=25,ke=1,we=2,Te=4,Se=8,Ee=1,Pe=2,Le=4,Ie=8,Re=16,Oe=Pe|Le,De=Ie|Re,Fe=Oe|De,Ae=["x","y"],Me=["clientX","clientY"];k.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(x(this.element),this.evWin,this.domHandler)}};var Be={mousedown:ke,mousemove:we,mouseup:Te},ze="mousedown",Ne="mousemove mouseup";l(B,k,{handler:function(t){var e=Be[t.type];e&ke&&0===t.button&&(this.pressed=!0),e&we&&1!==t.which&&(e=Te),this.pressed&&this.allow&&(e&Te&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:ye,srcEvent:t}))}});var We={pointerdown:ke,pointermove:we,pointerup:Te,pointercancel:Se,pointerout:Se},Ge={2:Ce,3:_e,4:ye,5:$e},He="pointerdown",Ue="pointermove pointerup pointercancel";t.MSPointerEvent&&(He="MSPointerDown",Ue="MSPointerMove MSPointerUp MSPointerCancel"),l(z,k,{handler:function(t){var e=this.store,i=!1,o=t.type.toLowerCase().replace("ms",""),n=We[o],s=Ge[t.pointerType]||t.pointerType,a=s==Ce,r=b(e,t.pointerId,"pointerId");n&ke&&(0===t.button||a)?0>r&&(e.push(t),r=e.length-1):n&(Te|Se)&&(i=!0),0>r||(e[r]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(r,1))}});var je={touchstart:ke,touchmove:we,touchend:Te,touchcancel:Se},Ye="touchstart",Xe="touchstart touchmove touchend touchcancel";l(N,k,{handler:function(t){var e=je[t.type];if(e===ke&&(this.started=!0),this.started){var i=W.call(this,t,e);e&(Te|Se)&&0===i[0].length-i[1].length&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ce,srcEvent:t})}}});var Ve={touchstart:ke,touchmove:we,touchend:Te,touchcancel:Se},qe="touchstart touchmove touchend touchcancel";l(G,k,{handler:function(t){var e=Ve[t.type],i=H.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ce,srcEvent:t})}}),l(U,k,{handler:function(t,e,i){var o=i.pointerType==Ce,n=i.pointerType==ye;if(o)this.mouse.allow=!1;else if(n&&!this.mouse.allow)return;e&(Te|Se)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ke=y(le.style,"touchAction"),Qe=Ke!==o,Ze="compute",Je="auto",ti="manipulation",ei="none",ii="pan-x",oi="pan-y";j.prototype={set:function(t){t==Ze&&(t=this.compute()),Qe&&(this.manager.element.style[Ke]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Y(t.join(" "))},preventDefaults:function(t){if(!Qe){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var o=this.actions,n=v(o,ei),s=v(o,oi),a=v(o,ii);return n||s&&i&Oe||a&&i&De?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ni=1,si=2,ai=4,ri=8,di=ri,li=16,ci=32;X.prototype={defaults:{},set:function(t){return r(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),-1===b(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=K(t,this);var e=b(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?V(o):""),t)}var i=this,o=this.state;ri>o&&e(!0),e(),o>=ri&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ci)},canEmit:function(){for(var t=0;this.requireFail.length>t;){if(!(this.requireFail[t].state&(ci|ni)))return!1;t++}return!0},recognize:function(t){var e=r({},t);return h(this.options.enable,[this,e])?(this.state&(di|li|ci)&&(this.state=ni),this.state=this.process(e),void(this.state&(si|ai|ri|li)&&this.tryEmit(e))):(this.reset(),void(this.state=ci))},process:function(){},getTouchAction:function(){},reset:function(){}},l(Q,X,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,o=e&(si|ai),n=this.attrTest(t);return o&&(i&Se||!n)?e|li:o||n?i&Te?e|ri:e&si?e|ai:si:ci}}),l(Z,Q,{defaults:{event:"pan",threshold:10,pointers:1,direction:Fe},getTouchAction:function(){var t=this.options.direction,e=[];return t&Oe&&e.push(oi),t&De&&e.push(ii),e},directionTest:function(t){var e=this.options,i=!0,o=t.distance,n=t.direction,s=t.deltaX,a=t.deltaY;return n&e.direction||(e.direction&Oe?(n=0===s?Ee:0>s?Pe:Le,i=s!=this.pX,o=Math.abs(t.deltaX)):(n=0===a?Ee:0>a?Ie:Re,i=a!=this.pY,o=Math.abs(t.deltaY))),t.direction=n,i&&o>e.threshold&&n&e.direction},attrTest:function(t){return Q.prototype.attrTest.call(this,t)&&(this.state&si||!(this.state&si)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=q(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),l(J,Q,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ei]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&si)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=1>t.scale?"in":"out";this.manager.emit(this.options.event+e,t)}}}),l(te,X,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Je]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!o||!i||t.eventType&(Te|Se)&&!s)this.reset();else if(t.eventType&ke)this.reset(),this._timer=n(function(){this.state=di,this.tryEmit()},e.time,this);else if(t.eventType&Te)return di;return ci},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===di&&(t&&t.eventType&Te?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=me(),this.manager.emit(this.options.event,this._input)))}}),l(ee,Q,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ei]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&si)}}),l(ie,Q,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Oe|De,pointers:1},getTouchAction:function(){return Z.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Oe|De)?e=t.velocity:i&Oe?e=t.velocityX:i&De&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&ue(e)>this.options.velocity&&t.eventType&Te},emit:function(t){var e=q(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(oe,X,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ti]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&ke&&0===this.count)return this.failTimeout();if(o&&s&&i){if(t.eventType!=Te)return this.failTimeout();var a=this.pTime?t.timeStamp-this.pTime<e.interval:!0,r=!this.pCenter||D(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,r&&a?this.count+=1:this.count=1,this._input=t;var d=this.count%e.taps;if(0===d)return this.hasRequireFailures()?(this._timer=n(function(){this.state=di,this.tryEmit()},e.interval,this),si):di}return ci},failTimeout:function(){return this._timer=n(function(){this.state=ci},this.options.interval,this),ci},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==di&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ne.VERSION="2.0.4",ne.defaults={domEvents:!1,touchAction:Ze,enable:!0,inputTarget:null,inputClass:null,preset:[[ee,{enable:!1}],[J,{enable:!1},["rotate"]],[ie,{direction:Oe}],[Z,{direction:Oe},["swipe"]],[oe],[oe,{event:"doubletap",taps:2},["tap"]],[te]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var hi=1,ui=2;se.prototype={set:function(t){return r(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?ui:hi},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,o=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&di)&&(n=e.curRecognizer=null);for(var s=0;o.length>s;)i=o[s],e.stopped===ui||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&i.state&(si|ai|ri)&&(n=e.curRecognizer=i),s++}},get:function(t){if(t instanceof X)return t;for(var e=this.recognizers,i=0;e.length>i;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(b(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return a(g(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return a(g(t),function(t){e?i[t].splice(b(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&re(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var o=0;i.length>o;)i[o](e),o++}},destroy:function(){this.element&&ae(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},r(ne,{INPUT_START:ke,INPUT_MOVE:we,INPUT_END:Te,INPUT_CANCEL:Se,STATE_POSSIBLE:ni,STATE_BEGAN:si,STATE_CHANGED:ai,STATE_ENDED:ri,STATE_RECOGNIZED:di,STATE_CANCELLED:li,STATE_FAILED:ci,DIRECTION_NONE:Ee,DIRECTION_LEFT:Pe,DIRECTION_RIGHT:Le,DIRECTION_UP:Ie,DIRECTION_DOWN:Re,DIRECTION_HORIZONTAL:Oe,DIRECTION_VERTICAL:De,DIRECTION_ALL:Fe,Manager:se,Input:k,TouchAction:j,TouchInput:G,MouseInput:B,PointerEventInput:z,TouchMouseInput:U,SingleTouchInput:N,Recognizer:X,AttrRecognizer:Q,Tap:oe,Pan:Z,Swipe:ie,Pinch:J,Rotate:ee,Press:te,on:m,off:p,each:a,merge:d,extend:r,inherit:l,bindFn:c,prefixed:y}),typeof define==ce&&define.amd?define(function(){return ne
}):"undefined"!=typeof module&&module.exports?module.exports=ne:t[i]=ne}(window,document,"Hammer"),$ui.themeDark={backgroundImageColor:"#D94646",inHeadUnit:!0,chart:{color:"#747474",color_OK:"#D94646",color_GOOD:"#D94646",color_GREAT:"#D94646",color_RANDOM1:"#D94646"},variables:[{name:"@brand-color",value:"#D94646"},{name:"@highlight-text-color",value:"#FFFFFF"},{name:"@foreground-color",value:"#FFFFFF"},{name:"@border-color",value:"#FFFFFF"},{name:"@background-color",value:"#000000"},{name:"@dark-color",value:"#747474"},{name:"@profile-wedge-color",value:"#D94646"},{name:"@green-color",value:"#779933"}],classList:[{className:".theme-border-color",properties:[{name:"border-color",value:"@border-color !important"}]},{className:".theme-brand-border-color",properties:[{name:"border-color",value:"@brand-color !important"}]},{className:".theme-tile-border-color",properties:[{name:"border-color",value:"@brand-color !important"}]},{className:".theme-dark-border-color",properties:[{name:"border-color",value:"@dark-color !important"}]},{className:".theme-text-color",properties:[{name:"color",value:"@foreground-color"}]},{className:".theme-dark-text-color",properties:[{name:"color",value:"@dark-color"}]},{className:".theme-highlight-text-color",properties:[{name:"color",value:"@highlight-text-color"}]},{className:".theme-brand-text-color",properties:[{name:"color",value:"@brand-color"}]},{className:".theme-hint-text-color",properties:[{name:"color",value:"#999999"}]},{className:".theme-warning-text-color",properties:[{name:"color",value:"red"}]},{className:".theme-screen-background-color",properties:[{name:"background-color",value:"@background-color"}]},{className:".theme-brand-background-color",properties:[{name:"background-color",value:"@brand-color"}]},{className:".theme-light-background-color",properties:[{name:"background-color",value:"@foreground-color"}]},{className:".theme-dark-background-color",properties:[{name:"background-color",value:"@dark-color"}]},{className:".theme-call-button",properties:[{name:"background-color",value:"@green-color"}]},{className:".theme-generic-list-accent-color",properties:[{name:"color",value:"@brand-color"}]},{className:".theme-segmented-control",properties:[{name:"border-color",value:"@foreground-color"},{name:"background-color",value:"@background-color"},{name:"color",value:"@foreground-color"}]},{className:".theme-post-control",properties:[{name:"color",value:"#D3D3D3"},{name:"background-color",value:"@background-color"}]},{className:".theme-profile-vehicle-background-color",properties:[{name:"background-color",value:"@background-color"}]},{className:".theme-profile-wedge-background-color",properties:[{name:"background-color",value:"@profile-wedge-color"}]},{className:".theme-profile-rank",properties:[{name:"background-color",value:"@profile-wedge-color"},{name:"color",value:"@highlight-text-color"}]},{className:".theme-profile-rank-text-color",properties:[{name:"color",value:"@highlight-text-color"}]},{className:".theme-profile-label-text-color",properties:[{name:"color",value:"@border-color"}]},{className:".theme-profile-stats",properties:[{name:"border-color",value:"@brand-color"},{name:"background-color",value:"@background-color"}]},{className:".theme-profile-number-color",properties:[{name:"color",value:"@profile-wedge-color"}]},{className:".theme-profile-avatar",properties:[{name:"background-color",value:"@dark-color"},{name:"border-color",value:"@brand-color"},{name:"box-shadow",value:"inherit"}]},{className:".theme-on-off-switch",properties:[{name:"background-image",value:"linear-gradient(to top, @dark-color, #B9B9B9 80%);"}]},{className:".theme-on-off-switch-inner-ring",properties:[{name:"border-color",value:"@background-color"},{name:"background-image",value:"linear-gradient(to top,#B9B9B9,#5c5c5c 25%);"}]},{className:".theme-on-off-switch-inner-ring-on",properties:[{name:"border-color",value:"@background-color"},{name:"background-image",value:"linear-gradient(to bottom, #B9B9B9, #5c5c5c 25%);"}]},{className:".theme-on-off-switch-indicator-on",properties:[{name:"background-color",value:"@green-color"}]},{className:".theme-on-off-switch",properties:[{name:"background-image",value:"linear-gradient(to top,#747474, #B9B9B9 50%);"}]},{className:".theme-circle-menu-indicator",properties:[{name:"background-color",value:"@dark-color"}]},{className:".theme-circle-menu-indicator-selected",properties:[{name:"background-color",value:"@foreground-color"}]}]},$ui.themeLight={backgroundImageColor:"#D94646",inHeadUnit:!0,chart:{color:"#747474",color_OK:"#D94646",color_GOOD:"#D94646",color_GREAT:"#D94646",color_RANDOM1:"#D94646"},variables:[{name:"@brand-color",value:"#D94646"},{name:"@highlight-text-color",value:"#FFFFFF"},{name:"@foreground-color",value:"#FFFFFF"},{name:"@border-color",value:"#FFFFFF"},{name:"@background-color",value:"#000000"},{name:"@dark-color",value:"#747474"},{name:"@profile-wedge-color",value:"#D94646"}],classList:[{className:".theme-border-color",properties:[{name:"border-color",value:"@border-color !important"}]},{className:".theme-brand-border-color",properties:[{name:"border-color",value:"@brand-color !important"}]},{className:".theme-tile-border-color",properties:[{name:"border-color",value:"@brand-color !important"}]},{className:".theme-dark-border-color",properties:[{name:"border-color",value:"@dark-color !important"}]},{className:".theme-text-color",properties:[{name:"color",value:"@foreground-color"}]},{className:".theme-dark-text-color",properties:[{name:"color",value:"@dark-color"}]},{className:".theme-highlight-text-color",properties:[{name:"color",value:"@highlight-text-color"}]},{className:".theme-brand-text-color",properties:[{name:"color",value:"@brand-color"}]},{className:".theme-screen-background-color",properties:[{name:"background-color",value:"@background-color"}]},{className:".theme-brand-background-color",properties:[{name:"background-color",value:"@brand-color"}]},{className:".theme-light-background-color",properties:[{name:"background-color",value:"@foreground-color"}]},{className:".theme-dark-background-color",properties:[{name:"background-color",value:"@dark-color"}]},{className:".theme-generic-list-accent-color",properties:[{name:"color",value:"@brand-color"}]},{className:".theme-segmented-control",properties:[{name:"border-color",value:"@foreground-color"},{name:"background-color",value:"@background-color"},{name:"color",value:"@foreground-color"}]},{className:".theme-post-control",properties:[{name:"color",value:"#D3D3D3"},{name:"background-color",value:"@background-color"}]},{className:".theme-profile-vehicle-background-color",properties:[{name:"background-color",value:"@background-color"}]},{className:".theme-profile-wedge-background-color",properties:[{name:"background-color",value:"@profile-wedge-color"}]},{className:".theme-profile-rank",properties:[{name:"background-color",value:"@profile-wedge-color"},{name:"color",value:"@highlight-text-color"}]},{className:".theme-profile-rank-text-color",properties:[{name:"color",value:"@highlight-text-color"}]},{className:".theme-profile-label-text-color",properties:[{name:"color",value:"@border-color"}]},{className:".theme-profile-stats",properties:[{name:"border-color",value:"@brand-color"},{name:"background-color",value:"@background-color"}]},{className:".theme-profile-number-color",properties:[{name:"color",value:"@profile-wedge-color"}]},{className:".theme-profile-avatar",properties:[{name:"background-color",value:"@dark-color"},{name:"border-color",value:"@brand-color"},{name:"box-shadow",value:"inherit"}]}]},$ui.toast=function(t,e){var i=document.createElement("div");$ui.addClass(i,"ui-toast theme-brand-border-color"),i.textContent=t,document.body.appendChild(i),void 0==e&&(e=2500),i._ondisappear=function(){this.removeEventListener("webkitAnimationEnd",this._ondisappear),this.parentNode.removeChild(this)}.$bind(i),i._onappear=function(){this.removeEventListener("webkitAnimationEnd",this._onappear),this.addEventListener("webkitAnimationEnd",this._ondisappear);var t=this;window.setTimeout(function(){t.style["-webkit-animation-name"]="ui-toast-disappear"},e)}.$bind(i),i.addEventListener("webkitAnimationEnd",i._onappear)},$ui.HVACSide={};