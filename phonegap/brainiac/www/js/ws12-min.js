/* ws12 VERSION: 1.0.0.2511*/

function ws12_BrowserButton(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"button"),t.style&&ws12.addClass(t.dom,t.style),t.dom.onclick=function(){this.model.enabled!==!1&&(ws12.playTouchSound(),this.model.onclick&&this.model.onclick())},t.dom.ontouchstart=function(){this.model.enabled!==!1&&(this.style.backgroundColor=ws12.config.brandColor)},t.dom.ontouchend=function(){this.model.enabled!==!1&&(this.style.backgroundColor="")},t.dom.ontouchcancel=t.dom.ontouchend,ws12.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend),t.setStyle=function(t){t!=this.style&&(void 0!=this.style&&ws12.removeClass(this.dom,this.style),ws12.addClass(this.dom,t),this.style=t)},t.setStyle=t.setStyle.bind(t),t.dom}function ws12_Browser(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-browser"),t._isIFrame=!0,t.dom.chrome=document.createElement("div"),ws12.addClass(t.dom.chrome,"chrome"),t.dom.appendChild(t.dom.chrome),t.dom.chrome.style.borderBottomColor=ws12.config.brandColor,t.dom.inputDiv=document.createElement("div"),ws12.addClass(t.dom.inputDiv,"inputDiv"),t.dom.chrome.appendChild(t.dom.inputDiv),t.dom.inputDiv.style.borderColor=ws12.config.brandColor,t.dom.input=document.createElement("input"),t.dom.input.model=t,t.dom.input.setAttribute("spellcheck","false"),t.dom.inputDiv.appendChild(t.dom.input),t.dom.input.onclick=function(t){30>=this.offsetWidth-t.offsetX&&(this.value="")},t.dom.icon=document.createElement("div"),ws12.addClass(t.dom.icon,"icon"),t.dom.inputDiv.appendChild(t.dom.icon),t.dom.spinner=new ws12_Spinner({component:ws12.Spinner,size:ws12.Spinner.TINY,forceColor:"dark"},e),t.dom.spinner.style.display="none",t.dom.icon.appendChild(t.dom.spinner),t._backBtn={style:"back"},new ws12_BrowserButton(t._backBtn,e),t.dom.chrome.appendChild(t._backBtn.dom),t._nextBtn={style:"next"},new ws12_BrowserButton(t._nextBtn,e),t.dom.chrome.appendChild(t._nextBtn.dom),t._refreshBtn={style:"stop"},new ws12_BrowserButton(t._refreshBtn,e),t.dom.chrome.appendChild(t._refreshBtn.dom),t._newTabBtn={style:"new-tab"},new ws12_BrowserButton(t._newTabBtn,e),t.dom.chrome.appendChild(t._newTabBtn.dom),t._favoriteBtn={style:"favorite"},new ws12_BrowserButton(t._favoriteBtn,e),t.dom.chrome.appendChild(t._favoriteBtn.dom),t._bookmarksBtn={style:"bookmarks"},new ws12_BrowserButton(t._bookmarksBtn,e),t.dom.chrome.appendChild(t._bookmarksBtn.dom),t.dom.browserDiv=document.createElement("div"),ws12.addClass(t.dom.browserDiv,"browserDiv"),t.dom.appendChild(t.dom.browserDiv),t._isIFrame===!0&&(t.dom.iframe=document.createElement("iframe"),t.dom.iframe.model=t,t.dom.iframe.setAttribute("seamless","true"),t.dom.browserDiv.appendChild(t.dom.iframe)),t.setSrc=function(t){t!=this.src&&this._setSrc(t)},t.setSrc=t.setSrc.bind(t),t._setSrc=function(t){this.src=t,this.dom.input.value=t,this.dom.spinner.style.display="",this._refreshBtn.setStyle("stop"),ws12.removeClass(this.dom.icon,"page"),this._isIFrame===!0&&(this.dom.iframe.src=t)},t._setSrc=t._setSrc.bind(t),t._onload=function(){this.dom.spinner.style.display="none",ws12.addClass(this.dom.icon,"page"),this._refreshBtn.setStyle("refresh")},t._onload=t._onload.bind(t),t._onbeforepop=function(){this._isIFrame===!0&&(this.dom.iframe.style.display="none")},t._onbeforepop=t._onbeforepop.bind(t),t._onshow=function(){this.src&&this._setSrc(this.src),this._isIFrame===!0&&(this.dom.iframe.style.display="inline",this.dom.iframe.onload=t._onload)},t._onshow=t._onshow.bind(t),t.dom}function ws12_CircleMenu(t,e){if(ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-circle-menu"),t._recalculateLayout=function(){if(0!==this.items.length){var t,e,o,i,n=[],s=this.dom.offsetHeight,a=this.dom.offsetWidth,r=[];for(t=0;this.items.length>t;t++)o=this.items[t],1==o.visible&&n.push(o);var d=n.length,l=n[0].getSize();switch(!0){case 3>=d:var h=2===d?Math.floor(l/2):0,c=Math.floor((a-2*h)/d),m=Math.floor(c/2-l/2);for(e=Math.floor(s/2-l/2),t=0;d>t;t++)i={X:t*c+h+m,Y:e},r.push(i);break;case 6>=d:var c=Math.floor(a/3),m=Math.floor(c/2-l/2),u=Math.floor(s/2),p=Math.floor(u/2-l/2);for(t=0;3>t;t++)i={X:t*c+m,Y:p},r.push(i);var h=2===d-3?Math.floor(l/2):0;for(c=Math.floor((a-2*h)/(d-3)),m=Math.floor(c/2-l/2),t=3;d>t;t++)i={X:(t-3)*c+h+m,Y:u+p},r.push(i)}for(t=0;n.length>t;t++)o=n[t],i=r[t],o.dom.style["-webkit-transform"]="translate("+i.X+"px,"+i.Y+"px)"}},t._recalculateLayout=t._recalculateLayout.bind(t),t.items){var o,i,n;for(o=0;t.items.length>o;o++)i=t.items[o],i.parent=t,n=new ws12_CircleMenuItem(i,e),n&&t.dom.appendChild(n)}return t._onresize=function(){this._recalculateLayout()},t._onresize=t._onresize.bind(t),setTimeout(t._onresize,0),t.dom}function ws12_CircleMenuItem(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"menu-item"),t.dom.inner=document.createElement("div"),t.dom.inner.model=t,ws12.addClass(t.dom.inner,"circle"),t.dom.appendChild(t.dom.inner),t.dom.inner.onclick=function(){ws12.playTouchSound(),this.model.onclick&&this.model.onclick()},t.dom.inner.ontouchstart=function(){this.style.backgroundColor=ws12.config.brandColor},t.dom.inner.ontouchend=function(){this.style.backgroundColor=""},t.dom.inner.ontouchcancel=t.dom.inner.ontouchend,ws12.isMobileDevice()||(t.dom.inner.onmousedown=t.dom.inner.ontouchstart,t.dom.inner.onmouseup=t.dom.inner.ontouchend,t.dom.inner.onmouseleave=t.dom.inner.ontouchend),t.imgClass&&ws12.addClass(t.dom.inner,t.imgClass),t.dom.captionDiv=document.createElement("div"),ws12.addClass(t.dom.captionDiv,"caption"),t.dom.appendChild(t.dom.captionDiv),t.caption&&(t.dom.captionDiv.textContent=t.caption),t.getSize=function(){return this.dom.offsetWidth},t.getSize=t.getSize.bind(t),t._setVisible=function(){this.parent&&this.parent._recalculateLayout()},t._setVisible=t._setVisible.bind(t),t.dom}function ws12_CoreComponent(t,e){if(t){if(this.object=t,t._original={},t._original.visible=t.visible,t._original.enabled=t.enabled,void 0!=e&&(t.screen=e,e.children.push(t),t.id&&(e[t.id]=t)),t.dom=document.createElement("div"),t.dom.model=t,ws12.addClass(t.dom,"ws12-core-component"),ws12.config.inHeadUnit===!0&&ws12.addClass(t.dom,"in-head-unit"),t.marginTop===!0&&ws12.addClass(t.dom,"marginTop"),t.marginBottom===!0&&ws12.addClass(t.dom,"marginBottom"),t.marginLeft===!0&&ws12.addClass(t.dom,"marginLeft"),t.marginRight===!0&&ws12.addClass(t.dom,"marginRight"),0!=t.enabled?t.enabled=!0:ws12.addClass(t.dom,"disabled"),t.attachedObjects){var o,i,n,s=void 0!=t.screen?t.screen:t;for(o=0;t.attachedObjects.length>o;o++)i=t.attachedObjects[o],n=ws12.createControl(i,s),n instanceof HTMLElement&&t.dom.appendChild(n)}else t.attachedObjects=[];t.setEnabled=function(t){return t==this.enabled?!1:(this.enabled&&0==t?(this.enabled=!1,ws12.addClass(this.dom,"disabled")):0==this.enabled&&1==t&&(this.enabled=!0,ws12.removeClass(this.dom,"disabled")),this._setEnabled&&this._setEnabled(t),!0)},t.setEnabled=t.setEnabled.bind(t),t._scrollIntoView=function(){var t=20,e=this.dom.getBoundingClientRect(),o=void 0!=this.tab?this.tab.dom.content:this.screen.dom.content;return this._scrollIterationCounter=this._scrollIterationCounter+1,e.top==o.offsetTop||e.bottom<o.offsetTop+o.offsetHeight&&e.top>o.offsetTop?void 0:(e.top>o.offsetTop?(t>e.top-o.offsetTop&&(t=1),o.scrollTop=o.scrollTop+t):(t>o.offsetTop-e.top&&(t=1),o.scrollTop=o.scrollTop-t),this._scrollIterationCounter>100?(console.log("fail safe scroll counter exceeded"),void 0):(requestAnimationFrame(this._scrollIntoView),void 0))},t._scrollIntoView=t._scrollIntoView.bind(t),t.scrollIntoView=function(){this.dom&&(this._scrollIterationCounter=0,requestAnimationFrame(this._scrollIntoView))},t.scrollIntoView=t.scrollIntoView.bind(t),t.destroy=function(){this.visible=this._original.visible,this.enabled=this._original.enabled,t._destroy&&t._destroy(),void 0!=this.provider&&void 0!=this.provider.id&&window.removeEventListener(this.screen.guid+"-"+this.provider.id+"-updated",this._providerRefresh,!1);var e,o;if(this.attachedObjects&&this.attachedObjects.length>0)for(e=0;this.attachedObjects.length>e;e++)o=this.attachedObjects[e],o._destroy&&o._destroy();this.dom=void 0},t.destroy=t.destroy.bind(t),t._providerRefresh=function(){var t=this.screen[this.provider.id];if(void 0!=t)if(void 0!=t.data){var e,o=this.provider.property.split("."),i=t.data,n=!0;for(e=0;o.length>e;e++)if(i=i[o[e]],void 0==i){n=!1;break}if(n)return this._providerUpdate&&this._providerUpdate(i),void 0}else!t._untouched&&this._providerUpdate&&this._providerUpdate(void 0)},t._providerRefresh=t._providerRefresh.bind(t),t._updateData=function(t){var e=void 0==this.provider?void 0:this.screen[this.provider.id];if(void 0!=e&&void 0!=e.data){var o,i,n=this.provider.property.split("."),s=e.data;for(o=0;n.length>o&&(i=s[n[o]],!(void 0==i&&n.length-1>o));o++){if(o==n.length-1){s[n[o]]=t;break}s=i}}},t._updateData=t._updateData.bind(t),void 0!=t.provider&&void 0!=t.provider.id&&(window.addEventListener(t.screen.guid+"-"+t.provider.id+"-updated",t._providerRefresh,!1),t._providerRefresh()),void 0!=t.visible&&0==t.visible?t.dom.style.display="none":t.visible=!0,t.setVisible=function(t){return t!=this.visible?(1==t?(this.visible=!0,void 0!=this.dom&&(this.dom.style.display="")):(this.visible=!1,void 0!=this.dom&&(this.dom.style.display="none")),this._setVisible&&!this._setVisible(t)?!1:!0):!1},t.setVisible=t.setVisible.bind(t)}}function ws12_CoreScreen(t,e){return ws12_CoreComponent.call(this,t),t?(t.data=e,t.guid=ws12.guid(),t.children=[],ws12.addClass(t.dom,"ws12-core-screen"),1!=t.disableAnimation&&ws12.addClass(t.dom,"animation"),t.dom.backgroundDiv=document.createElement("div"),ws12.addClass(t.dom.backgroundDiv,"background"),t.dom.appendChild(t.dom.backgroundDiv),t.background&&(t.background.repeat===!0?t.dom.backgroundDiv.style.backgroundRepeat="repeat":t.dom.backgroundDiv.style.backgroundSize="cover"),t.dom.pushAnimationEnd=function(){this.removeEventListener("webkitAnimationEnd",this.pushAnimationEnd),this.model.initialize()},t.dom.pushAnimationEnd=t.dom.pushAnimationEnd.bind(t.dom),t.dom.addEventListener("webkitAnimationEnd",t.dom.pushAnimationEnd,!1),t.initialize=function(){ws12.inScreenTransition=!1,ws12.blockAllTapEvent(!1),this._initialize&&this._initialize();var t=document.createEvent("Events");if(t.initEvent(ws12.ONSHOW,!0,!0),this.dom.dispatchEvent(t),this.background){var e=this.background;e.img&&(this._loader=new Image,this._loader.model=this,this._loader.onload=function(){this.model.dom.backgroundDiv.style.backgroundImage='url("'+this.model.background.img+'")',this.model.background.colorized===!0&&(this.model.dom.backgroundDiv.style.backgroundBlendMode="hard-light",this.model.dom.backgroundDiv.style.backgroundColor=ws12.config.brandColor),this.model.dom.backgroundDiv.style.opacity="1",this.model._loader=null},this._loader.src=e.img)}},t.initialize=t.initialize.bind(t),t.dom.addEventListener(ws12.ONSHOW,function(t){t.stopImmediatePropagation(),t.preventDefault(),this.model.onshow&&this.model.onshow(this.model.data);var e,o;for(e=0;this.model.children.length>e;e++)o=this.model.children[e],o._onshow&&o._onshow()},!1),t._onresize=function(){var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onresize&&e._onresize()},t._onresize=t._onresize.bind(t),t._onbeforepop=function(){var t,e;for(t=0;this.children.length>t;t++)e=this.children[t],e._onbeforepop&&e._onbeforepop()},t._onbeforepop=t._onbeforepop.bind(t),t._destroy=function(){var t;for(t=0;this.children.length>t;t++)this.children[t].destroy()},t._destroy=t._destroy.bind(t),t.dom):void 0}function ws12_CoreTile(t,e){ws12_CoreComponent.call(this,t,e),t&&(ws12.addClass(t.dom,"ws12-tile"),t._contentShowing=!1,t.dom.style.color=ws12.config.tileFontColor,1==ws12.config.inHeadUnit&&(t.dom.style.borderColor=ws12.config.brandColor),t.style&&ws12.addClass(t.dom,t.style),t.dom.loadingDiv=document.createElement("div"),ws12.addClass(t.dom.loadingDiv,"loading"),t.dom.appendChild(t.dom.loadingDiv),t.dom.spinner=new ws12_Spinner({component:ws12.Spinner,size:ws12.Spinner.SMALL},e),t.dom.loadingDiv.appendChild(t.dom.spinner),t.dom.contentDiv=document.createElement("div"),ws12.addClass(t.dom.contentDiv,"content"),t.dom.appendChild(t.dom.contentDiv),t.showContent=function(t){t!=this._contentShowing&&(t?(this.dom.loadingDiv.style.display="none",this.dom.contentDiv.style.display="inherit"):(this.dom.loadingDiv.style.display="inline",this.dom.contentDiv.style.display="none"),this._contentShowing=t)},t.showContent=t.showContent.bind(t))}function ws12_CoreTileDonutChart(t,e){if(ws12_CoreTile.call(this,t,e),t){ws12.addClass(t.dom,"ws12-tile-donut-chart"),t.dom.chartDiv=document.createElement("div"),ws12.addClass(t.dom.chartDiv,"chart"),t.dom.contentDiv.appendChild(t.dom.chartDiv),t.dom.canvas=document.createElement("canvas"),t.dom.chartDiv.appendChild(t.dom.canvas),t.chart=new Chart(t.dom.canvas.getContext("2d")),t._setData=function(t){this.chart.Doughnut(t,{showTooltips:!1,segmentStrokeColor:"transparent"})},t._setData=t._setData.bind(t),t.dom.caption=document.createElement("div"),ws12.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t._setCaption=function(t){this.dom.caption.innerHTML=t},t._setCaption=t._setCaption.bind(t),t.dom.accent=document.createElement("div"),ws12.addClass(t.dom.accent,"accent"),t.dom.contentDiv.appendChild(t.dom.accent);var o=1==ws12.config.inHeadUnit?ws12.color_DARK:ws12.color_LIGHT;t.dom.accent.style.color=o,t._setAccent=function(t){return void 0==t?(ws12.removeClass(this.dom.contentDiv,"has-accent"),this.dom.accent.textContent="",this.accent=t,void 0):(this.accent=t,ws12.addClass(this.dom.contentDiv,"has-accent"),this.dom.accent.textContent=t,void 0)},t._setAccent=t._setAccent.bind(t)}}function ws12_CoreTileGauge(t,e){if(t&&(t.style=void 0),ws12_CoreTile.call(this,t,e),t){ws12.addClass(t.dom,"ws12-tile-gauge"),t.dom.titleDiv=document.createElement("div"),ws12.addClass(t.dom.titleDiv,"title"),t.dom.contentDiv.appendChild(t.dom.titleDiv),t._setTitle=function(e){(void 0==e||null==e)&&(e=""),t.dom.titleDiv.textContent=e},t._setTitle=t._setTitle.bind(t),t.dom.chartDiv=document.createElement("div"),ws12.addClass(t.dom.chartDiv,"chart"),t.dom.contentDiv.appendChild(t.dom.chartDiv),t.dom.canvas=document.createElement("canvas"),t.dom.canvas.width=200,t.dom.canvas.height=200,ws12.addClass(t.dom.canvas,"graph-canvas"),t.dom.chartDiv.appendChild(t.dom.canvas),t.dom.labels=document.createElement("div"),ws12.addClass(t.dom.labels,"labels-area"),t.dom.chartDiv.appendChild(t.dom.labels),t.dom.minLabel=document.createElement("div"),ws12.addClass(t.dom.minLabel,"label"),ws12.addClass(t.dom.minLabel,"left"),t.dom.labels.appendChild(t.dom.minLabel),t.dom.maxLabel=document.createElement("div"),ws12.addClass(t.dom.maxLabel,"label"),ws12.addClass(t.dom.maxLabel,"right"),t.dom.labels.appendChild(t.dom.maxLabel),t.dom.accentLabel=document.createElement("div"),ws12.addClass(t.dom.accentLabel,"label"),ws12.addClass(t.dom.accentLabel,"center"),t.dom.labels.appendChild(t.dom.accentLabel),t._setAccent=function(e){(void 0==e||null==e)&&(e=""),t.dom.accentLabel.textContent=e},t._setAccent=t._setAccent.bind(t),t.dom.valueDiv=document.createElement("div"),ws12.addClass(t.dom.valueDiv,"value"),t.dom.chartDiv.appendChild(t.dom.valueDiv);var o=t.dom.canvas.getContext("2d");t.dom.ctx=o,t._width=t.dom.canvas.width,t._height=t.dom.canvas.height,t._renderLoop=function(){if(!(this._degrees>this._newDegrees)){requestAnimationFrame(this._renderLoop);var t=this.dom.ctx,e=this._degrees*Math.PI/180;t.clearRect(0,0,this._width,this._height),t.beginPath(),t.strokeStyle=1==ws12.config.inHeadUnit?ws12.color_DARK:ws12.color_LIGHT,t.lineWidth=40,t.arc(this._width/2,this._height/2,80,0-180*Math.PI/180,Math.PI/180,!1),t.stroke(),t.beginPath(),t.strokeStyle=this._color,t.arc(this._width/2,this._height/2,80,0-180*Math.PI/180,e-180*Math.PI/180,!1),t.stroke(),this._degrees<=this._newDegrees&&(this._degrees=this._degrees+this._step)}},t._renderLoop=t._renderLoop.bind(t),t._populateData=function(){void 0==this.min&&(this.min=0),void 0==this.max&&(this.max=100),void 0==this.value&&(this.value=this.min),this.value<this.min&&(this.value=this.min),this.dom.minLabel.textContent=this.min,this.dom.maxLabel.textContent=this.max,this.dom.valueDiv.textContent=this.value;var t=(this.value-this.min)/this.max;switch(this._newDegrees=180*t,!0){case.33>t:this._color=1==ws12.config.inHeadUnit?ws12.config.brandColor:ws12.color_GREAT,this._step=2;break;case.77>t:this._color=1==ws12.config.inHeadUnit?ws12.config.brandColor:ws12.color_GOOD,this._step=7;break;default:this._color=1==ws12.config.inHeadUnit?ws12.config.brandColor:ws12.color_OK,this._step=10}this._degrees=this._newDegrees-this._step,this._renderLoop()},t._populateData=t._populateData.bind(t)}}function ws12_CoreWedgeScreen(t,e){if(t&&(t.disableAnimation=!0,t.background=void 0),ws12_CoreScreen.call(this,t,e),t){ws12.addClass(t.dom,"ws12-core-wedge-screen"),t.dom.style.backgroundColor="transparent",window.innerHeight>window.innerWidth&&ws12.addClass(t.dom,"portrait"),void 0==t.direction&&(t.direction=ws12.WedgeScreen.LEFT),t._isRightToLeft=t.direction==ws12.WedgeScreen.RIGHT?!0:!1,t.dom.wedge=document.createElement("div"),ws12.addClass(t.dom.wedge,"wedge"),t.dom.appendChild(t.dom.wedge);var o=window.innerWidth>window.innerHeight?Math.floor(window.innerWidth/3):Math.floor(window.innerHeight/3),i=Math.floor(o/2),n=20,s=window.innerHeight,a=window.innerWidth,r=Math.sqrt(Math.pow(s,2)+Math.pow(a,2)),d=90-Math.asin(s/r)*(180/Math.PI);return t._degrees=d,t.dom.wedge.style.width=o+"px",t.dom.wedge.style.backgroundColor=ws12.config.brandColor,1==t._isRightToLeft?(d="-"+d,t.dom.wedge.style.right=window.innerWidth>window.innerHeight?Math.floor(o/2)+"px":"-"+Math.floor(o/1.5)+"px"):t.dom.wedge.style.left=window.innerWidth>window.innerHeight?Math.floor(o/2)+"px":"-"+Math.floor(o/1.5)+"px",t.dom.wedge.style["-webkit-transform"]="rotate("+d+"deg)",t.dom.back=document.createElement("div"),ws12.addClass(t.dom.back,"back"),t.dom.appendChild(t.dom.back),t.dom.back.style.bottom="-"+i+"px",t.dom.back.style.width=i+"px",t.dom.back.style.height=i+"px",t.dom.back.style.borderRadius=Math.floor(i/2)+1+"px",t.dom.back.textDiv=document.createElement("div"),ws12.addClass(t.dom.back.textDiv,"back-text"),t.dom.back.appendChild(t.dom.back.textDiv),1==t._isRightToLeft?(t.dom.back.style.right=window.innerWidth>window.innerHeight?Math.floor(i/3)+"px":"20px",ws12.addClass(t.dom.back.textDiv,"right-to-left")):t.dom.back.style.left=window.innerWidth>window.innerHeight?Math.floor(i/3)+"px":"20px",t.dom.back.textDiv.textContent=t.backButton&&t.backButton.caption?t.backButton.caption:"Back",t.backButton&&t.backButton.icon?ws12.addClass(t.dom.back,t.backButton.icon):ws12.addClass(t.dom.back,"ws12-icon-back-white"),t.dom.back.onclick=function(){ws12.playTouchSound(),ws12.pop()},t.dom.back.ontouchstart=function(){this.style.backgroundColor="rgba(0,0,0,0.3)"},t.dom.back.ontouchend=function(){this.style.backgroundColor=""},t.dom.back.ontouchcancel=t.dom.back.ontouchend,ws12.isMobileDevice()||(t.dom.back.onmousedown=t.dom.back.ontouchstart,t.dom.back.onmouseup=t.dom.back.ontouchend,t.dom.back.onmouseleave=t.dom.back.ontouchend),window.setTimeout(function(){t.dom.wedge.style.opacity="1.0"},0),window.setTimeout(function(){t.dom.back.style.transform="translateY(-"+(i+n)+"px)",t.dom.back.addEventListener("webkitTransitionEnd",function(){this.textDiv.style.opacity="1.0"},!1)},200),t.dom}}function ws12_DataProvider(t,e){return t.screen=e,t._url=void 0,t._parameters=void 0,t._untouched=!0,t.id&&e&&(e[t.id]=t),t.setData=function(t){this._untouched=!1,this.data=t,this._raiseEvent(),void 0!=t&&this.onload&&this.onload()},t.setData=t.setData.bind(t),t.refreshFromServer=function(){void 0!=this._url&&""!=this._url&&(this._url=url,this._parameters=parameters,this.loadFromUrl(this._url,this._parameters))},t.refreshFromServer=t.refreshFromServer.bind(t),t.refresh=function(){this._raiseEvent()},t.refresh=t.refresh.bind(t),t.loadFromUrl=function(t,e){if(this._untouched=!1,this._url=t,this._parameters=e,1!=navigator.onLine)return this.onerror&&this.onerror(ws12.DataProvider.ERR_OFFLINE),void 0;this._xhr=new XMLHttpRequest,this._xhr.model=this,this._xhr.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){try{var t=JSON.parse(this.responseText)}catch(e){console.log(e+" : "+e.message),this.onerror&&this.onerror(ws12.DataProvider.ERR_INVALID_JSON)}this.model._loadFromUrl(t)}else 0!=this.status&&this.onerror&&this.onerror(this.status)};var o;e&&(o=paremeters),this._xhr.open("GET",void 0!=o?t+"?"+o:t,!0),this._xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),this._xhr.send()},t.loadFromUrl=t.loadFromUrl.bind(t),t._loadFromUrl=function(t){this.data=t,this._raiseEvent(),this.onload&&this.onload()},t._loadFromUrl=t._loadFromUrl.bind(t),t._raiseEvent=function(){var t=document.createEvent("Events");t.initEvent(this.screen.guid+"-"+this.id+"-updated",!0,!0),window.dispatchEvent(t)},t._loadFromUrl=t._loadFromUrl.bind(t),t._destroy=function(){this.data=void 0},t._destroy=t._destroy.bind(t),void 0!=t.data&&t.onload&&t.onload(),void 0}function ws12_DialPadButton(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"circle-button"),t.dom.style.borderColor=ws12.config.brandColor,t.dom.captionDiv=document.createElement("div"),ws12.addClass(t.dom.captionDiv,"caption"),t.dom.captionDiv.textContent=t.caption,t.dom.appendChild(t.dom.captionDiv),t.center===!0&&ws12.addClass(t.dom.captionDiv,"centered"),t.dom.letters=document.createElement("div"),ws12.addClass(t.dom.letters,"letters"),t.dom.appendChild(t.dom.letters),t.letters&&(t.dom.letters.textContent=t.letters),t.dom.ontouchstart=function(){this.style.backgroundColor=ws12.config.brandColor},t.dom.ontouchend=function(){this.style.backgroundColor=""},t.dom.ontouchcancel=t.dom.ontouchend,ws12.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.onclick=function(){var t={caption:this.model.caption,letters:this.model.letters};void 0!=this.model.parent&&this.model.parent.onkeypadpress&&this.model.parent.onkeypadpress(t)},t.dom}function ws12_DialPad(t,e){ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-dial-pad"),t._buttons=[{caption:"1"},{caption:"2",letters:"ABC"},{caption:"3",letters:"DEF"},{caption:"4",letters:"GHI"},{caption:"5",letters:"JKL"},{caption:"6",letters:"MNO"},{caption:"7",letters:"PQRS"},{caption:"8",letters:"TUV"},{caption:"9",letters:"WXYZ"},{caption:"*",center:!0},{caption:"0",letters:"+"},{caption:"#",center:!0}];var o,i,n,s,a,r=0,d=0,l=350,h=500,c=104,m=Math.floor(h/4),u=Math.floor(l/3),p=Math.floor(u/2-c/2),w=Math.floor(m/2-c/2);for(o=0;t._buttons.length>o;o++)i=t._buttons[o],i.parent=t,n=new ws12_DialPadButton(i,e),t.dom.appendChild(n),s=r*m+w,a=d*u+p,n.style.top=s+"px",n.style.left=a+"px",0===(o+1)%3?(r++,d=0):d++;return t.dom}function ws12_DockLayout(t,e){ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-dock-layout");var o,i,n;if(t.dom.dock=document.createElement("div"),ws12.addClass(t.dom.dock,"dock"),t.dock)for(o=0;t.dock.length>o;o++)i=t.dock[o],n=ws12.createControl(i,e),n&&t.dom.dock.appendChild(n);if(t.dom.contentDiv=document.createElement("div"),ws12.addClass(t.dom.contentDiv,"contents"),t.content)for(o=0;t.content.length>o;o++)i=t.content[o],n=ws12.createControl(i,e),n&&t.dom.contentDiv.appendChild(n);return t.location===ws12.DockLayout.BOTTOM?(t.dom.appendChild(t.dom.contentDiv),t.dom.appendChild(t.dom.dock)):(t.dom.appendChild(t.dom.dock),t.dom.appendChild(t.dom.contentDiv)),t.dom}function SystemEvent(t,e){var o={eventType:t,data:e};return o}function SystemEventBroker(){var t={list:[]};return t.addEventListener=function(t,e,o){var i={eventType:t,callback:e,screen:o};this.list.push(i);var n=new SystemEvent(ws12.EventType.ONSUBSCRIBE,{eventType:t});this.raiseEvent(n)},t.addEventListener=t.addEventListener.bind(t),t.removeEventListener=function(t,e){var o,i,n;for(o=0;this.list.length>o;o++)if(i=this.list[o],i.eventType==t&&i.callback==e)return this.list.splice(o,1),n=new SystemEvent(ws12.EventType.ONUNSUBSCRIBE,{eventType:t}),this.raiseEvent(n),void 0},t.removeEventListener=t.removeEventListener.bind(t),t.removeEventListenersForScreen=function(t){var e,o,i;for(e=this.list.length-1;e>=0;e--){if(0===this.list.length)return;o=this.list[e],o&&o.screen==t&&(this.list.splice(e,1),i=new SystemEvent(ws12.EventType.ONUNSUBSCRIBE,{eventType:o.eventType}),this.raiseEvent(i))}},t.removeEventListenersForScreen=t.removeEventListenersForScreen.bind(t),t.raiseEvent=function(t){var e,o;for(e=0;this.list.length>e;e++)if(o=this.list[e],o.eventType==t.eventType)try{o.callback(t.data)}catch(i){console.log("ERROR: raiseEvent - "+i.message)}},t.raiseEvent=t.raiseEvent.bind(t),t}function ws12_GenericListItem(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-generic-list-item"),t.dom.img=document.createElement("div"),ws12.addClass(t.dom.img,"img"),t.dom.appendChild(t.dom.img),void 0!=t.img&&null!=t.img&&""!=t.img?(t._loader=new Image,t._loader.model=t,t._loader.onload=function(){this.model.dom.img.style.backgroundImage='url("'+this.model.img+'")',this.model.dom.img.style.opacity="1.0",this.model._loader=void 0},t._loader.onerror=function(){this.model.dom.img.style.backgroundImage="",this.model.dom.img.style.opacity="1.0",this.model._loader=void 0},t._loader.src=t.img):(t.dom.img.style.opacity="1.0",t.dom.loader=void 0),t.dom.details=document.createElement("div"),ws12.addClass(t.dom.details,"details"),t.dom.appendChild(t.dom.details),t.dom.titleArea=document.createElement("div"),ws12.addClass(t.dom.titleArea,"title"),t.dom.titleArea.textContent=t.title,t.dom.details.appendChild(t.dom.titleArea),t.dom.captionDiv=document.createElement("div"),ws12.addClass(t.dom.captionDiv,"caption"),t.dom.details.appendChild(t.dom.captionDiv),t.caption?t.dom.captionDiv.textContent=t.caption:ws12.addClass(t.dom,"no-caption"),t.dom.accent=document.createElement("div"),ws12.addClass(t.dom.accent,"accent"),t.dom.details.appendChild(t.dom.accent),ws12.config.inHeadUnit===!0&&(t.dom.accent.style.color=ws12.config.brandColor),void 0!=t.accent&&(t.dom.accent.textContent=t.accent,ws12.addClass(t.dom,"has-accent")),t.dom.ontouchstart=function(){this.style.backgroundColor=ws12.config.brandColor,ws12.config.inHeadUnit===!0&&(t.dom.accent.style.color="")},t.dom.ontouchend=function(){this.style.backgroundColor="",ws12.config.inHeadUnit===!0&&(t.dom.accent.style.color=ws12.config.brandColor)},t.dom.ontouchcancel=t.dom.ontouchend,ws12.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.addEventListener("click",function(){if(void 0!=this.model.parent.onaction){var t=new ws12_ListEvent(this.model,ws12.GenericListItem.ONCLICK);this.model.parent._onaction(this.model,t)}},!1),t.dom}function ws12_HeadUnitChrome(t){if(ws12_CoreScreen.call(this,t),t){ws12.addClass(t.dom,"ws12-head-unit-chrome"),t.isDualView=window.innerHeight>window.innerWidth,1==t.isDualView&&ws12.addClass(t.dom,"portrait"),t._recalculateLayout=function(){this.hvac&&1==this.hvac.visible&&(0==this.isDualView?this._primaryWindow.dom.style.bottom=this.hvac._getHeight()+"px":this._secondaryWindow&&(this._secondaryWindow.dom.style.bottom=this.hvac._getHeight()+"px"))},t._recalculateLayout=t._recalculateLayout.bind(t),t._primaryWindow={parent:t};var e=new ws12_Window(t._primaryWindow,t);return ws12.addClass(e,"primary"),e.style.borderBottomColor=ws12.config.brandColor,t.dom.appendChild(e),1==t.isDualView&&(t._secondaryWindow={parent:t},e=new ws12_Window(t._secondaryWindow,t),ws12.addClass(e,"secondary"),t.dom.appendChild(e)),t._navigation={},t._navigation._chrome=t,e=new ws12_NavigationBar(t._navigation,t),t.dom.appendChild(e),t.hvac&&(e=new ws12_HVACBar(t.hvac,t),t.dom.appendChild(e)),t.homeWindowPane&&setTimeout(function(){t._primaryWindow.push(t.homeWindowPane)},0),t.secondaryWindowPane&&1==t.isDualView&&setTimeout(function(){t._secondaryWindow.push(t.secondaryWindowPane)},0),t._setNavigationMenu=t._navigation._setNavigationMenu,t.dom}}function ws12_DefrostButton(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"defrost-button"),ws12.addClass(t.dom,"off"),t.dom.style.backgroundColor=ws12.config.brandColor,t.dom.onclick=function(){ws12.playTouchSound()},t.dom.ontouchstart=function(){ws12.addClass(this,"selected")},t.dom.ontouchend=function(){ws12.removeClass(this,"selected")},t.dom.ontouchcancel=t.dom.ontouchend,ws12.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom}function ws12_FansButton(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"fans"),t.dom.style.backgroundColor=ws12.config.brandColor,void 0==t.value&&(t.value=ws12.Fans.AUTO),t.dom.onclick=function(){ws12.playTouchSound(),this.model.onclick&&this.model.onclick()},t.dom.ontouchstart=function(){ws12.addClass(this,"selected")},t.dom.ontouchend=function(){ws12.removeClass(this,"selected")},t.dom.ontouchcancel=t.dom.ontouchend,ws12.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.setValue=function(t){var e=void 0==this.value?ws12.Fans.AUTO:this.value;void 0==t&&(t=ws12.Fans.AUTO),this.value=t,ws12.removeClass(this.dom,"ws12-icon-head-unit-fans-setting-"+e),ws12.addClass(this.dom,"ws12-icon-head-unit-fans-setting-"+this.value)},t.setValue=t.setValue.bind(t),void 0!=t.value&&t.setValue(t.value),t._onshow=function(){setTimeout(this._timedOpacity,500)},t._onshow=t._onshow.bind(t),t._timedOpacity=function(){this.dom.style.opacity="1.0"},t._timedOpacity=t._timedOpacity.bind(t),t.dom}function ws12_HVACBar(t,e){ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"hvac");var o;return t.dom.style.borderTopColor=ws12.config.brandColor,void 0==t.driver?t.driver={temperature:{value:0,side:"left",visible:!1},seat:{value:0,side:"left",visible:!1}}:(void 0==t.driver.temperature&&(t.driver.temperature={value:0,visible:!1}),void 0==t.driver.seat&&(t.driver.seat={value:0,visible:!1}),t.driver.temperature.side="left",t.driver.seat.side="left"),o=new ws12_TemperatureButton(t.driver.temperature,e),t.dom.appendChild(o),o=new ws12_SeatButton(t.driver.seat,e),t.dom.appendChild(o),void 0==t.passenger?t.passenger={temperature:{value:0,side:"right",visible:!1},seat:{value:0,side:"right",visible:!1}}:(void 0==t.passenger.temperature&&(t.passenger.temperature={value:0,visible:!1}),void 0==t.passenger.seat&&(t.passenger.seat={value:0,visible:!1}),t.passenger.temperature.side="right",t.passenger.seat.side="right"),o=new ws12_TemperatureButton(t.passenger.temperature,e),t.dom.appendChild(o),o=new ws12_SeatButton(t.passenger.seat,e),t.dom.appendChild(o),t._rearDefrost=1==t.showDefrostOnBar?{parent:t}:{parent:t,visible:!1},o=new ws12_DefrostButton(t._rearDefrost,e),t.dom.appendChild(o),t.fans?t.fans.parent=t:t.fans={parent:t,visible:!1},o=new ws12_FansButton(t.fans,e),t.dom.appendChild(o),t._getHeight=function(){return 120},t._getHeight=t._getHeight.bind(t),t._setVisible=function(){this.screen._recalculateLayout()},t._setVisible=t._setVisible.bind(t),t._setVisible(t.visible),t.dom}function ws12_NavigationBar(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"navigation"),t.dom.style.borderRightColor=ws12.config.brandColor,t.dom.style.borderBottomColor=ws12.config.brandColor,t.dom.clock=document.createElement("div"),ws12.addClass(t.dom.clock,"clock"),t.dom.clock.style.color=ws12.config.brandColor,t.dom.appendChild(t.dom.clock),t._updateClock=function(){var t=new Date,e=t.getHours(),o=t.getMinutes();e=e>12?e-12:e,o=10>o?"0"+o:o,this.dom.clock.textContent=e+":"+o},t._updateClock=t._updateClock.bind(t),window.setInterval(t._updateClock,1e4),t._updateClock(),t.dom.homeLine=document.createElement("div"),ws12.addClass(t.dom.homeLine,"line"),ws12.addClass(t.dom.homeLine,"home"),t.dom.appendChild(t.dom.homeLine),t.dom.centerLine=document.createElement("div"),ws12.addClass(t.dom.centerLine,"line"),ws12.addClass(t.dom.centerLine,"center"),t.dom.appendChild(t.dom.centerLine),t.dom.moreLine=document.createElement("div"),ws12.addClass(t.dom.moreLine,"line"),ws12.addClass(t.dom.moreLine,"more"),t.dom.appendChild(t.dom.moreLine),t.dom.dot=document.createElement("div"),ws12.addClass(t.dom.dot,"dot"),t.dom.dot.style.backgroundColor=ws12.config.brandColor,t.dom.appendChild(t.dom.dot),t.dom.homeBtn=document.createElement("div"),t.dom.homeBtn.model=t,t._selectedButton=t.dom.homeBtn,ws12.addClass(t.dom.homeBtn,"circle-button"),ws12.addClass(t.dom.homeBtn,"home"),t.dom.appendChild(t.dom.homeBtn),t.dom.homeBtn.onclick=function(){this.model._selectedButton!=this&&(this.model._selectedButton=this,this.model.dom.dot.style["-webkit-transform"]=this.model._chrome.isDualView?"translateX(0px)":"translateY(0px)",this.model.dom.centerBtn._hide(),this.model._chrome._primaryWindow.popToHome(),ws12.playTouchSound())
},t.dom.centerBtn=document.createElement("div"),t.dom.centerBtn.model=t,t.dom.centerBtn._hidden=!0,ws12.addClass(t.dom.centerBtn,"circle-button"),ws12.addClass(t.dom.centerBtn,"center"),t.dom.appendChild(t.dom.centerBtn),t.dom.centerBtn.onclick=function(){this._hidden!==!0&&this.model._selectedButton!=this&&(this.model._selectedButton=this,this.model.dom.dot.style["-webkit-transform"]=this.model._chrome.isDualView?"translateX("+(this.offsetLeft-this.model.dom.homeBtn.offsetLeft)+"px)":"translateY("+(this.offsetTop-this.model.dom.homeBtn.offsetTop)+"px)",ws12.playTouchSound())},t.dom.centerBtn._hide=function(){this.model.dom.centerBtn.style.opacity="0",this.model.dom.centerLine.style.opacity="1.0",this._hidden=!0},t.dom.centerBtn._hide=t.dom.centerBtn._hide.bind(t.dom.centerBtn),t.dom.centerBtn._show=function(){this.model.dom.centerBtn.style.opacity="1.0",this.model.dom.centerLine.style.opacity="0",this._hidden=!1},t.dom.centerBtn._show=t.dom.centerBtn._show.bind(t.dom.centerBtn),t.dom.moreBtn=document.createElement("div"),t.dom.moreBtn.model=t,ws12.addClass(t.dom.moreBtn,"circle-button"),ws12.addClass(t.dom.moreBtn,"more"),t.dom.appendChild(t.dom.moreBtn),t.dom.moreBtn.onclick=function(){this.model._selectedButton!=this&&(this.model._selectedButton=this,this.model.dom.dot.style["-webkit-transform"]=this.model._chrome.isDualView?"translateX("+(this.offsetLeft-this.model.dom.homeBtn.offsetLeft)+"px)":"translateY("+(this.offsetTop-this.model.dom.homeBtn.offsetTop)+"px)",ws12.playTouchSound())},t._recalculateLayout=function(){if(this._chrome.isDualView){var t,e=this.dom.homeBtn.offsetLeft+this.dom.homeBtn.offsetWidth,o=this.dom.moreBtn.offsetLeft,i=Math.floor((o-e)/2);t=o-i-Math.floor(this.dom.centerBtn.offsetWidth/2),this.dom.centerBtn.style.left=t+"px",this.dom.homeLine.style.width=t-e+2+"px",this.dom.moreLine.style.width=o-t-this.dom.centerBtn.offsetHeight+2+"px",this.dom.dot.style["-webkit-transform"]="translateX("+(this._selectedButton.offsetLeft-this.dom.homeBtn.offsetLeft)+"px)"}else{var n,s=this.dom.homeBtn.offsetTop+this.dom.homeBtn.offsetHeight,a=this.dom.moreBtn.offsetTop,i=Math.floor((a-s)/2);n=a-i-Math.floor(this.dom.centerBtn.offsetHeight/2),this.dom.centerBtn.style.top=n+"px",this.dom.homeLine.style.height=n-s+"px",this.dom.moreLine.style.height=a-n-this.dom.centerBtn.offsetHeight+"px",this.dom.dot.style["-webkit-transform"]="translateY("+(this._selectedButton.offsetTop-this.dom.homeBtn.offsetTop)+"px)"}},t._recalculateLayout=t._recalculateLayout.bind(t),t._onresize=function(){this._recalculateLayout()},t._onresize=t._onresize.bind(t),t._getHeight=function(){return window.innerHeight>window.innerWidth?126:150},t._getHeight=t._getHeight.bind(t),t._setNavigationMenu=function(t){this.dom.centerBtn._windowPane!=t&&(this.dom.centerBtn._hidden=!1,this.dom.centerBtn.style.opacity="1.0",void 0!=this._menuImgClass&&ws12.removeClass(this.dom.centerBtn,this._menuImgClass),this._menuImgClass=t.menuImgClass,ws12.addClass(this.dom.centerBtn,t.menuImgClass),this.dom.centerLine.style.opacity="0",this._selectedButton=this.dom.centerBtn,this.dom.dot.style["-webkit-transform"]=this._chrome.isDualView?"translateX("+(this.dom.centerBtn.offsetLeft-this.dom.homeBtn.offsetLeft)+"px)":"translateY("+(this.dom.centerBtn.offsetTop-this.dom.homeBtn.offsetTop)+"px)")},t._setNavigationMenu=t._setNavigationMenu.bind(t),setTimeout(t._recalculateLayout,0),t.dom}function ws12_SeatButton(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"seat"),t.dom.style.backgroundColor=ws12.config.brandColor,void 0!=t.side&&ws12.addClass(t.dom,t.side),void 0==t.maxLevel&&(t.maxLevel=0),t.dom.onclick=function(){this.model.level==this.model.maxLevel?this.model.setLevel(0):this.model.setLevel(this.model.level+1),ws12.playTouchSound(),this.model.onclick&&this.model.onclick()},t.dom.ontouchstart=function(){ws12.addClass(this,"selected")},t.dom.ontouchend=function(){ws12.removeClass(this,"selected")},t.dom.ontouchcancel=t.dom.ontouchend,ws12.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.setLevel=function(t){var e=void 0==this.level?0:this.level;void 0==t&&(t=0),this.level=t,ws12.removeClass(this.dom,"level-"+e),ws12.addClass(this.dom,"level-"+this.level)},t.setLevel=t.setLevel.bind(t),void 0!=t.level&&t.setLevel(t.level),t._onshow=function(){setTimeout(this._timedOpacity,500)},t._onshow=t._onshow.bind(t),t._timedOpacity=function(){this.dom.style.opacity="1.0"},t._timedOpacity=t._timedOpacity.bind(t),t.dom}function ws12_TemperatureButton(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"temperature"),t.dom.style.color=ws12.config.brandColor,void 0!=t.side&&ws12.addClass(t.dom,t.side),t.dom.onclick=function(){ws12.playTouchSound(),this.model.onclick&&this.model.onclick()},t.dom.ontouchstart=function(){this.style.backgroundColor=ws12.config.brandColor,this.style.color="white"},t.dom.ontouchend=function(){this.style.backgroundColor="",this.style.color=ws12.config.brandColor},t.dom.ontouchcancel=t.dom.ontouchend,ws12.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.setTemperature=function(t){this.value=t;var e=1==ws12.config.celsius?"C":"F";this.dom.innerHTML=t+'<span class="small">&deg;'+e+"</span>"},t.setTemperature=t.setTemperature.bind(t),t.value&&t.setTemperature(t.value),t.dom}function ws12_Window(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-window"),t.screens=[],t.push=function(t,e){t=new t,t.container=this,t.chrome=this.parent;var o=new ws12_WindowPane(t,e);this.screens.push(t),t.menuImgClass&&this.screen._setNavigationMenu(t),this.dom.appendChild(o),t.disableAnimation===!0&&t.initialize()},t.push=t.push.bind(t),t.popToHome=function(){if(!(1>=this.screens.length)){if(ws12.inScreenTransition=!0,ws12.blockAllTapEvent(!0),this.screens[0].dom.style.visibility="",this.screens.length>1){var t=this.screens[this.screens.length-1];t._onbeforepop&&t._onbeforepop(),ws12.eventBroker.removeEventListenersForScreen(t)}setTimeout(this._popToHome,0)}},t.popToHome=t.popToHome.bind(t),t._popToHome=function(){if(!(1>=this.screens.length)){var t,e;for(e=this.screens[this.screens.length-1],e.disableAnimation===!0?(this._removeScreen(e),ws12.inScreenTransition=!1,ws12.blockAllTapEvent(!1)):(e.dom.style["-webkit-animation-delay"]="",e.dom.style["-webkit-animation-name"]="pane-slide-right",e.dom.addEventListener("webkitAnimationEnd",function(){this.model.container._removeScreen(this.model),ws12.inScreenTransition=!1,ws12.blockAllTapEvent(!1)},!1)),t=this.screens.length-2;t>0;t--)this._removeScreen(this.screens[t])}},t._popToHome=t._popToHome.bind(t),t.pop=function(){if(!(1>=this.screens.length)){ws12.inScreenTransition=!0,ws12.blockAllTapEvent(!0);var t=this.screens[this.screens.length-2];if(t.dom.style.visibility="",t.menuImgClass&&this.screen._setNavigationMenu(t),this.screens.length>1){var e=this.screens[this.screens.length-1];e._onbeforepop&&e._onbeforepop(),e.disableAnimation===!0?(this._removeScreen(e),ws12.inScreenTransition=!1,ws12.blockAllTapEvent(!1)):(e.dom.style["-webkit-animation-delay"]="",e.dom.style["-webkit-animation-name"]="pane-slide-right",e.dom.addEventListener("webkitAnimationEnd",function(){this.model.container._removeScreen(this.model),ws12.inScreenTransition=!1,ws12.blockAllTapEvent(!1)},!1))}}},t.pop=t.pop.bind(t),t._removeScreen=function(t){t.dom.style.display="none",this.dom.removeChild(t.dom),ws12.eventBroker.removeEventListenersForScreen(t),t.destroy(),this.screens.pop()},t._removeScreen=t._removeScreen.bind(t),t._resizeListener=function(){var t,e;for(t=0;this.screens.length>t;t++)e=this.screens[t],e._onresize&&e._onresize(),e._onwindowpaneresize&&e._onwindowpaneresize(),e.onresize&&e.onresize()},t._resizeListener=t._resizeListener.bind(t),window.addEventListener("resize",t._resizeListener,!1),t.dom}function ws12_List(t,e){if(ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-list"),t.items){t._original.items=[];for(var o=0;t.items.length>o;o++)t._original.items.push(t.items[o])}t._destroy=function(){if(void 0!=this.dom.menuOverflow&&(this.dom.menuOverflow.postListItem=void 0,this.dom.menuOverflow._destroy(),this.dom.menuOverflow.parentNode==this.screen.dom&&this.screen.dom.removeChild(this.dom.menuOverflow)),this._original.items){this.items=[];for(var t=0;this._original.items.length>t;t++)this.items.push(this._original.items[t])}},t._destroy=t._destroy.bind(t),t._onaction=function(t,e){this.onaction&&(this.selected=t,this.onaction(e))},t._onaction=t._onaction.bind(t),t._createItemDom=function(t){var e=void 0;switch(this.style){case ws12.GenericListItem:e=new ws12_GenericListItem(t,this.screen);break;case ws12.PhoneLogListItem:e=new ws12_PhoneLogListItem(t,this.screen)}return e},t._createItemDom=t._createItemDom.bind(t),t._addItem=function(t){return t.parent=this,itemDom=this._createItemDom(t),itemDom?(this.dom.appendChild(itemDom),t._onafterinsert&&t._onafterinsert(),!0):!1},t._addItem=t._addItem.bind(t),t.addItem=function(t){return this._addItem(t)?(this.items.push(t),void 0!=this._providerItems&&this._providerItems.push(t),!0):!1},t.addItem=t.addItem.bind(t),t.removeItem=function(t){if(void 0==t)return!1;var e=this.items.indexOf(t);if(0>e)return!1;try{this.dom.removeChild(t.dom)}catch(o){console.log("ws12.List: "+o)}this.items.splice(e,1),void 0!=this._providerItems&&this._providerItems.splice(e,1),t._destroy&&t._destroy()},t.removeItem=t.removeItem.bind(t),t.insertItem=function(t,e){if(t.parent=this,0>e)return!1;if(0==this.items.length)return this.addItem(t),!0;if(e>this.items.length-1)return this.addItem(t),!0;var o=this.items[e],i=this._createItemDom(t);return this.items.splice(e,0,t),this.dom.insertBefore(i,o.dom),void 0!=this._providerItems&&this._providerItems.splice(e,0,t),!0},t.insertItem=t.insertItem.bind(t),t.refreshItems=function(t){if(void 0!=t){var e,o;if(this.items){for(e=this.items.length-1;e>=0;e--){o=this.items[e];try{this.dom.removeChild(o.dom)}catch(i){console.log("ws12.List: "+i)}this.items.pop(),o._destroy&&o._destroy()}void 0!=this._providerItems&&(this._providerItems=[])}this.addItemBatch(t)}},t.refreshItems=t.refreshItems.bind(t),t.addItemBatch=function(t){var e,o;for(this.items||(this.items=[]),e=0;t.length>e;e++)o=t[e],this.addItem(o)},t.addItemBatch=t.addItemBatch.bind(t),t._providerUpdate=function(t){this.refreshItems(t),this._providerItems=t},t._providerUpdate=t._providerUpdate.bind(t);var o,i;if(t.items)for(o=0;t.items.length>o;o++)i=t.items[o],t._addItem(i);else t.items=[];return t.dom}function ws12_ListEvent(t,e,o){this.target=t,this.eventType=e,this.data=o}function FastClick(t,e){"use strict";function o(t,e){return function(){return t.apply(e,arguments)}}var i;e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,FastClick.notNeeded(t)||(deviceIsAndroid&&(t.addEventListener("mouseover",o(this.onMouse,this),!0),t.addEventListener("mousedown",o(this.onMouse,this),!0),t.addEventListener("mouseup",o(this.onMouse,this),!0)),t.addEventListener("click",o(this.onClick,this),!0),t.addEventListener("touchstart",o(this.onTouchStart,this),!1),t.addEventListener("touchmove",o(this.onTouchMove,this),!1),t.addEventListener("touchend",o(this.onTouchEnd,this),!1),t.addEventListener("touchcancel",o(this.onTouchCancel,this),!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,o,i){var n=Node.prototype.removeEventListener;"click"===e?n.call(t,e,o.hijacked||o,i):n.call(t,e,o,i)},t.addEventListener=function(e,o,i){var n=Node.prototype.addEventListener;"click"===e?n.call(t,e,o.hijacked||(o.hijacked=function(t){t.propagationStopped||o(t)}),i):n.call(t,e,o,i)}),"function"==typeof t.onclick&&(i=t.onclick,t.addEventListener("click",function(t){i(t)},!1),t.onclick=null))}function ws12_Map(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-map"),t.dom.mapDiv=document.createElement("div"),ws12.addClass(t.dom.mapDiv,"mapDiv"),t.dom.appendChild(t.dom.mapDiv),t.dom.iframe=document.createElement("iframe"),t.dom.mapDiv.appendChild(t.dom.iframe),t._onbeforepop=function(){},t._onbeforepop=t._onbeforepop.bind(t),t._onshow=function(){this.src&&(this.dom.iframe.src=this.src),this.dom.iframe.style.display="inline"},t._onshow=t._onshow.bind(t),t.dom}function ws12_MediaPlayer(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-media-player"),t.dom.coverArt=document.createElement("div"),ws12.addClass(t.dom.coverArt,"cover-art"),t.dom.appendChild(t.dom.coverArt),t.dom.coverArt.loader=new Image,t.dom.coverArt.loader.model=t,t.dom.coverArt.loader.onload=function(){this.model.dom.coverArt.style.backgroundImage='url("'+this.model.coverArt+'")',this.model.dom.coverArt.style.opacity="0.3"},t.dom.menu=document.createElement("div"),t.dom.menu.model=t,ws12.addClass(t.dom.menu,"menu"),t.dom.appendChild(t.dom.menu),t.dom.menu.onclick=function(){ws12.playTouchSound(),this.model.onmenuclick&&this.model.onmenuclick()},t.dom.menu.ontouchstart=function(){this.style.backgroundColor=ws12.config.brandColor},t.dom.menu.ontouchend=function(){this.style.backgroundColor=""},t.dom.menu.ontouchcancel=t.dom.ontouchend,ws12.isMobileDevice()||(t.dom.menu.onmousedown=t.dom.menu.ontouchstart,t.dom.menu.onmouseup=t.dom.menu.ontouchend,t.dom.menu.onmouseleave=t.dom.menu.ontouchend),t.dom.controls=document.createElement("div"),ws12.addClass(t.dom.controls,"controls"),t.dom.appendChild(t.dom.controls),t.dom.artist=document.createElement("div"),ws12.addClass(t.dom.artist,"artist"),t.dom.controls.appendChild(t.dom.artist),t.dom.song=document.createElement("div"),ws12.addClass(t.dom.song,"song"),t.dom.controls.appendChild(t.dom.song),t.dom.album=document.createElement("div"),ws12.addClass(t.dom.album,"album"),t.dom.controls.appendChild(t.dom.album),t.dom.playbox=document.createElement("div"),ws12.addClass(t.dom.playbox,"playbox"),t.dom.controls.appendChild(t.dom.playbox),t.dom.skipBack=document.createElement("div"),ws12.addClass(t.dom.skipBack,"button"),ws12.addClass(t.dom.skipBack,"skip-back"),t.dom.playbox.appendChild(t.dom.skipBack),t.dom.skipForward=document.createElement("div"),ws12.addClass(t.dom.skipForward,"button"),ws12.addClass(t.dom.skipForward,"skip-forward"),t.dom.playbox.appendChild(t.dom.skipForward),t.dom.play=document.createElement("div"),ws12.addClass(t.dom.play,"button"),ws12.addClass(t.dom.play,"play"),t.dom.playbox.appendChild(t.dom.play),t.dom.textButtonBox=document.createElement("div"),ws12.addClass(t.dom.textButtonBox,"textButtonBox"),t.dom.appendChild(t.dom.textButtonBox),t.dom.buttonRepeat=document.createElement("div"),ws12.addClass(t.dom.buttonRepeat,"text-button"),ws12.addClass(t.dom.buttonRepeat,"left"),t.dom.buttonRepeat.textContent="Repeat Off",t.dom.textButtonBox.appendChild(t.dom.buttonRepeat),t.dom.buttonSource=document.createElement("div"),ws12.addClass(t.dom.buttonSource,"text-button"),ws12.addClass(t.dom.buttonSource,"center"),t.dom.buttonSource.textContent="Source",t.dom.textButtonBox.appendChild(t.dom.buttonSource),t.dom.buttonShuffle=document.createElement("div"),ws12.addClass(t.dom.buttonShuffle,"text-button"),ws12.addClass(t.dom.buttonShuffle,"right"),t.dom.buttonShuffle.textContent="Shuffle Off",t.dom.textButtonBox.appendChild(t.dom.buttonShuffle),t.setAlbum=function(t){this.album=t,this.dom.album.textContent=void 0!=t?t:""},t.setAlbum=t.setAlbum.bind(t),t.setSong=function(t){this.song=t,this.dom.song.textContent=void 0!=t?t:""},t.setSong=t.setSong.bind(t),t.setArtist=function(t){this.artist=t,this.dom.artist.textContent=void 0!=t?t:""},t.setArtist=t.setArtist.bind(t),t.setCoverArt=function(t){this.coverArt=t,this.dom.coverArt.style.opacity="0",void 0!=t&&(this.dom.coverArt.loader.src=t)},t.setCoverArt=t.setCoverArt.bind(t),t._providerUpdate=function(t){this.coverArt=t?t.coverArt:void 0,this.setCoverArt(this.coverArt),this.setArtist(this.artist),this.setSong(this.song),this.setAlbum(this.album)},t._providerUpdate=t._providerUpdate.bind(t),void 0==t.provider&&t._providerUpdate(t),t.dom}function ws12_MenuItem(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-menu-item"),t.caption&&(t.dom.textContent=t.caption),t.dom.addEventListener("click",function(){if(1!=this.model.selected){var t,e,o=this.model.titleBar.menu;for(t=0;o.length>t;t++)e=o[t],e!=this.model?e._setSelected(!1):e._setSelected(!0);this.model.onclick&&this.model.onclick()}},!1),t._setSelected=function(t){1==t?(this.selected=!0,this.dom.style.color=ws12.config.brandColor,this.dom.style.borderTopColor=ws12.config.brandColor):(this.selected=!1,this.dom.style.color="",this.dom.style.borderTopColor="")},t._setSelected=t._setSelected.bind(t),t._setSelected(t.selected),t.dom}function ws12_PhoneLogListItem(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-phone-log-list-item"),void 0==t.style&&(t.style=ws12.PhoneLogListItem.INCOMING),ws12.addClass(t.dom,t.style),t.dom.details=document.createElement("div"),ws12.addClass(t.dom.details,"details"),t.dom.appendChild(t.dom.details),t.dom.titleArea=document.createElement("div"),ws12.addClass(t.dom.titleArea,"title"),t.dom.titleArea.textContent=t.title,t.dom.details.appendChild(t.dom.titleArea),t.style===ws12.PhoneLogListItem.MISSED&&(t.dom.titleArea.style.color=ws12.config.brandColor),t.dom.captionDiv=document.createElement("div"),ws12.addClass(t.dom.captionDiv,"caption"),t.dom.captionDiv.style.color=ws12.config.brandColor,t.dom.details.appendChild(t.dom.captionDiv),t.caption?t.dom.captionDiv.textContent=t.caption:ws12.addClass(t.dom,"no-caption"),t.dom.ontouchstart=function(){this.style.backgroundColor=ws12.config.brandColor},t.dom.ontouchend=function(){this.style.backgroundColor=""},t.dom.ontouchcancel=t.dom.ontouchend,ws12.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom.addEventListener("click",function(){if(void 0!=this.model.parent.onaction){var t=new ws12_ListEvent(this.model,ws12.PhoneLogListItem.ONCLICK);this.model.parent._onaction(this.model,t)}},!1),t.dom}function ws12_Screen(t){if(ws12_CoreScreen.call(this,t),t){if(ws12.addClass(t.dom,"ws12-screen"),t.titleBar&&(ws12.addClass(t.dom,"with-title-bar"),t.dom.titleBar=new ws12_TitleBar(t.titleBar,t),t.dom.appendChild(t.dom.titleBar)),t.dom.inner=document.createElement("div"),ws12.addClass(t.dom.inner,"inner"),t.dom.appendChild(t.dom.inner),t.dom.contentDiv=document.createElement("div"),ws12.addClass(t.dom.contentDiv,"content"),t.dom.inner.appendChild(t.dom.contentDiv),t.content){var e,o,i;for(e=0;t.content.length>e;e++)o=t.content[e],i=ws12.createControl(o,t),i&&t.dom.contentDiv.appendChild(i)}return t.dom}}function ws12_SegmentedControl(t,e){if(ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-segmented-control"),t.domOptions=[],t.setSelectedIndex=function(t){this.selectedIndex!=t&&(this.selectedIndex=t,this.onclick&&this.onclick()),this._setSelectedIndex(t)},t.setSelectedIndex=t.setSelectedIndex.bind(t),t._setSelectedIndex=function(t){if(this.options){var e,o;for(e=0;this.domOptions.length>e;e++)o=this.domOptions[e],e==t?o._setSelected(!0):o._setSelected(!1)}},t._setSelectedIndex=t._setSelectedIndex.bind(t),t.options){var o,i,n=100/t.options.length;for(o=0;t.options.length>o;o++)i=document.createElement("div"),ws12.addClass(i,"button"),0==o?ws12.addClass(i,"left"):o==t.options.length-1&&ws12.addClass(i,"right"),i.model=t,i.index=o,i.selected=!1,i.style.width=n+"%",i.style.left=o*n+"%",i.textContent=t.options[o],t.domOptions.push(i),t.dom.appendChild(i),i.addEventListener("click",function(){0!=this.model.enabled&&(this.selected||this.model.setSelectedIndex(this.index))},!1),i._setSelected=function(t){this.selected=t,1==t?(ws12.addClass(this,"selected"),this.style.backgroundColor=ws12.config.brandColor):(ws12.removeClass(this,"selected"),this.style.backgroundColor="")},i._setSelected=i._setSelected.bind(i)}return t.selectedIndex?t._setSelectedIndex(t.selectedIndex):(t.selectedIndex=0,t._setSelectedIndex(0)),t.dom}function ws12_Spinner(t,e){return ws12_CoreComponent.call(this,t,e),t.size=t.size?t.size:ws12.Spinner.MEDIUM,ws12.addClass(t.dom,"ws12-spinner"),ws12.addClass(t.dom,t.size),ws12.addClass(t.dom,"center"),t.dom.innerDiv=document.createElement("div"),ws12.addClass(t.dom.innerDiv,"inner"),t.dom.appendChild(t.dom.innerDiv),t.forceColor?ws12.addClass(t.dom.innerDiv,t.forceColor):1==ws12.config.inHeadUnit?ws12.addClass(t.dom.innerDiv,"light"):ws12.addClass(t.dom.innerDiv,"dark"),t.dom}function ws12_SplitView(t,e){ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-split-view");var o,i,n;if(t.dom.leftCol=document.createElement("div"),ws12.addClass(t.dom.leftCol,"col"),ws12.addClass(t.dom.leftCol,"left"),t.dom.leftCol.style.borderRightColor=ws12.config.brandColor,t.dom.appendChild(t.dom.leftCol),t.left)for(o=0;t.left.length>o;o++)i=t.left[o],n=ws12.createControl(i,e),n&&t.dom.leftCol.appendChild(n);if(t.dom.rightCol=document.createElement("div"),ws12.addClass(t.dom.rightCol,"col"),ws12.addClass(t.dom.rightCol,"right"),t.dom.appendChild(t.dom.rightCol),t.right)for(o=0;t.right.length>o;o++)i=t.right[o],n=ws12.createControl(i,e),n&&t.dom.rightCol.appendChild(n);return t.dom}function ws12_Tab(t,e){t.visible=!1,ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-tab"),1!=t.selected&&(t.selected=!1);var o,i,n;if(t.content)for(o=0;t.content.length>o;o++)i=t.content[o],n=ws12.createControl(i,e),n&&t.dom.appendChild(n);return t.dom}function ws12_TabbedPane(t,e){ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-tabbed-pane"),t._selectedTab=void 0;var o,i,n;if(t.tabs)for(o=0;t.tabs.length>o;o++)i=t.tabs[o],i.component==ws12.Tab&&(i.parent=t,n=ws12.createControl(i,e),n&&t.dom.appendChild(n),i.selected===!0&&void 0==t._selectedTab&&(t._selectedTab=i));return t.selectTab=function(t){if(void 0!=t&&t.component==ws12.Tab&&t!==this._selectedTab){var e,o;for(e=0;this.tabs.length>e;e++)o=this.tabs[e],o.selected=!1,o.setVisible(!1);this._selectTab(t)}},t.selectTab=t.selectTab.bind(t),t._selectTab=function(e){void 0!=e&&e.component==ws12.Tab&&(t._selectedTab=e,e.selected=!0,e.setVisible(!0))},t._selectTab=t._selectTab.bind(t),void 0==t._selectedTab&&t.tabs.length>0&&(t._selectedTab=t.tabs[0]),void 0!=t._selectedTab&&t._selectTab(t._selectedTab),t.dom}function ws12_TileAcceleration(t,e){return ws12_CoreTileGauge.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-acceleration"),t._setTitle("Acceleration"),t._setAccent("Average G-Forces"),t._providerUpdate=function(t){void 0!=t?(this.min=t.min,this.max=t.max,this.value=t.value,this._populateData()):(this.min=0,this.max=1,this.value=0),this.showContent(!0)},t._providerUpdate=t._providerUpdate.bind(t),void 0==t.provider&&t._providerUpdate({min:t.min,max:t.max,value:t.value}),t.dom}function ws12_TileBadge(t,e){return t.style=void 0,ws12_CoreTile.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-badge"),t.dom.caption=document.createElement("div"),ws12.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t.dom.next=document.createElement("div"),ws12.addClass(t.dom.next,"button"),ws12.addClass(t.dom.next,"next"),t.dom.contentDiv.appendChild(t.dom.next),t.dom.prev=document.createElement("div"),ws12.addClass(t.dom.prev,"button"),ws12.addClass(t.dom.prev,"prev"),t.dom.contentDiv.appendChild(t.dom.prev),t.dom.accent=document.createElement("div"),ws12.addClass(t.dom.accent,"accent"),t.dom.contentDiv.appendChild(t.dom.accent),t._providerUpdate=function(t){if(void 0!=t?(this.img=t.img,this.caption=t.caption,this.accent=t.accent):(this.img=void 0,this.caption=void 0,this.accent=void 0),this.dom.contentDiv.style.backgroundImage='url("'+this.img+'")',this.caption){var e=this.caption.replace(RegExp("<large>","g"),'<span class="tall">');e=e.replace(RegExp("</large>","g"),"</span>"),this.dom.caption.innerHTML=e}this.accent&&(this.dom.accent.textContent=this.accent),this.showContent(!0)},t._providerUpdate=t._providerUpdate.bind(t),void 0==t.provider&&t._providerUpdate({img:t.img,caption:t.caption,accent:t.accent}),t.dom}function ws12_TileBraking(t,e){return ws12_CoreTileGauge.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-braking"),t._setTitle("Braking"),t._setAccent("Average G-Forces"),t._providerUpdate=function(t){void 0!=t?(this.min=t.min,this.max=t.max,this.value=t.value,this._populateData()):(this.min=0,this.max=1,this.value=0),this.showContent(!0)},t._providerUpdate=t._providerUpdate.bind(t),void 0==t.provider&&t._providerUpdate({min:t.min,max:t.max,value:t.value}),t.dom}function ws12_TileDistance(t,e){return t.style=void 0,ws12_CoreTile.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-distance"),t.dom.canvas=document.createElement("canvas"),ws12.addClass(t.dom.canvas,"chart"),t.dom.canvas.height=180,t.dom.canvas.width=220,t.dom.contentDiv.appendChild(t.dom.canvas),t.dom.ctx=t.dom.canvas.getContext("2d"),t.dom.chart=new Chart(t.dom.ctx),t.dom.caption=document.createElement("div"),ws12.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t._providerUpdate=function(t){var e,o=[],i=[],n=!1;for(void 0!=t?(this.data=t.data,this.units=t.units):(this.data=void 0,this.units="miles"),void 0==this.data||this.data&&0==this.data.length?(this.data=[0],n=!0):1==this.data.length&&(this.data=[0,this.data[0]]),this._value=this.data[this.data.length-1],e=0;this.data.length>e;e++)e==this.data.length-1?o.push("Today"):o.push(""),i.push(0);this.dom.caption.innerHTML='<span class="tall distance">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tall">'+this._value+"</span> "+this.units;var s=parseInt(ws12._cutHex(ws12.config.brandColor).substring(0,2),16),a=parseInt(ws12._cutHex(ws12.config.brandColor).substring(2,4),16),r=parseInt(ws12._cutHex(ws12.config.brandColor).substring(4,6),16),d={labels:o,datasets:[{fillColor:"rgba("+s+","+a+","+r+",0.2)",strokeColor:"rgba("+s+","+a+","+r+",1)",pointColor:"rgba("+s+","+a+","+r+",1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba("+s+","+a+","+r+",1)",data:this.data},{fillColor:"transparent",strokeColor:"transparent",pointColor:"transparent",pointStrokeColor:"transparent",pointHighlightFill:"transparent",pointHighlightStroke:"transparent",data:i}]};this.dom.chart.Line(d,{scaleShowGridLines:!1,showTooltips:!1,scaleFontColor:ws12.config.tileFontColor}),this.showContent(!0)},t._providerUpdate=t._providerUpdate.bind(t),void 0==t.provider&&t._providerUpdate({data:t.data,units:t.units}),t.dom}function ws12_TileFriends(t,e){return t.style=ws12.Tile.TALL,ws12_CoreTile.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-friends"),t.dom}function ws12_TileFuel(t,e){return t.style=void 0,ws12_CoreTile.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-fuel"),t.dom.canvas=document.createElement("canvas"),ws12.addClass(t.dom.canvas,"chart"),t.dom.canvas.height=180,t.dom.canvas.width=230,t.dom.contentDiv.appendChild(t.dom.canvas),t.dom.ctx=t.dom.canvas.getContext("2d"),t.dom.chart=new Chart(t.dom.ctx),t.dom.leftLabels=document.createElement("div"),ws12.addClass(t.dom.leftLabels,"left-labels"),t.dom.contentDiv.appendChild(t.dom.leftLabels),t.dom.topLabel=document.createElement("div"),ws12.addClass(t.dom.topLabel,"label"),ws12.addClass(t.dom.topLabel,"top"),t.dom.topLabel.textContent="F",t.dom.leftLabels.appendChild(t.dom.topLabel),t.dom.middleLabel=document.createElement("div"),ws12.addClass(t.dom.middleLabel,"label"),ws12.addClass(t.dom.middleLabel,"middle"),t.dom.middleLabel.innerHTML="&#189;",t.dom.leftLabels.appendChild(t.dom.middleLabel),t.dom.bottomLabel=document.createElement("div"),ws12.addClass(t.dom.bottomLabel,"label"),ws12.addClass(t.dom.bottomLabel,"bottom"),t.dom.bottomLabel.textContent="E",t.dom.leftLabels.appendChild(t.dom.bottomLabel),t.dom.caption=document.createElement("div"),ws12.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t._providerUpdate=function(t){var e,o=[],i=[],n=!1;for(void 0!=t?(this.data=t.data,this.value=t.value):(this.data=void 0,this.value=0),void 0==this.value&&(this.value=0),void 0==this.data||this.data&&0==this.data.length?(this.data=[0],n=!0):1==this.data.length&&(this.data=[0,this.data[0]]),e=0;this.data.length>e;e++)e==this.data.length-1?(o.push("Now"),i.push(0)):(o.push(""),i.push(100));this.dom.caption.innerHTML='<span class="tall">$'+this.value+'</span> of <span class="tall fuel">&nbsp;&nbsp;&nbsp;&nbsp;</span>Today';var s=151,a=187,r=205;ws12.config.inHeadUnit===!0&&(s=parseInt(ws12._cutHex(ws12.config.brandColor).substring(0,2),16),a=parseInt(ws12._cutHex(ws12.config.brandColor).substring(2,4),16),r=parseInt(ws12._cutHex(ws12.config.brandColor).substring(4,6),16));var d={labels:o,datasets:[{fillColor:"rgba("+s+","+a+","+r+",0.2)",strokeColor:"rgba("+s+","+a+","+r+",1)",pointColor:"rgba("+s+","+a+","+r+",1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba("+s+","+a+","+r+",1)",data:this.data},{fillColor:"transparent",strokeColor:"transparent",pointColor:"transparent",pointStrokeColor:"transparent",pointHighlightFill:"transparent",pointHighlightStroke:"transparent",data:i}]};this.dom.chart.Line(d,{scaleShowGridLines:!1,showTooltips:!1,scaleFontColor:ws12.config.tileFontColor}),this.showContent(!0)},t._providerUpdate=t._providerUpdate.bind(t),void 0==t.provider&&t._providerUpdate({data:t.data,value:t.value}),t.dom}function ws12_TileGroup(t,e){if(ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-group"),t._tileSize=256,t._thresholdWidth=1024,t.dom.inner=document.createElement("div"),ws12.addClass(t.dom.inner,"group-inner"),t.dom.appendChild(t.dom.inner),t.matrix=[],t._setTileTopLeft=function(t,e,o){t.dom.style.top=e*this._tileSize+"px",t.dom.style.left=o*this._tileSize+"px"},t._setTileTopLeft=t._setTileTopLeft.bind(t),t._positionTile=function(e){var o,i,n,s=!1;if(void 0==e.style)for(n=0;this.matrix.length>n;n++){for(o=this.matrix[n],i=0;o.length>i;i++)if(0===o[i]){o[i]=1,this._setTileTopLeft(e,n,i),s=!0;break}if(1==s)break}else if(e.style==ws12.Tile.WIDE)for(n=0;this.matrix.length>n;n++){for(o=this.matrix[n],i=0;o.length>i;i++)if(0===o[i]&&o.length>=i+1&&0===o[i+1]){o[i]=1,o[i+1]=1,this._setTileTopLeft(e,n,i),s=!0;break}if(1==s)break}else if(e.style==ws12.Tile.TALL)for(n=0;this.matrix.length>n;n++){for(o=this.matrix[n],i=0;o.length>i;i++)if(0===o[i]&&this.matrix.length>n+1&&0===this.matrix[n+1][i]){o[i]=1,this.matrix[n+1][i]=1,this._setTileTopLeft(e,n,i),s=!0;break}if(1==s)break}0==s&&(void 0==e.style?(1==t._is3Columns?this.matrix.push([1,0,0]):this.matrix.push([1,0,0,0]),this._setTileTopLeft(e,this.matrix.length-1,0)):e.style==ws12.Tile.WIDE?(1==t._is3Columns?this.matrix.push([1,1,0]):this.matrix.push([1,1,0,0]),this._setTileTopLeft(e,this.matrix.length-1,0)):(1==t._is3Columns?this.matrix.push([0,0,0]):this.matrix.push([0,0,0,0]),this._positionTile(e)))},t._positionTile=t._positionTile.bind(t),t._recalculateHeight=function(){this.dom.inner.style.height=this.matrix.length*this._tileSize+"px"},t._recalculateHeight=t._recalculateHeight.bind(t),t.tiles){var o,i,n;for(o=0;t.tiles.length>o;o++)i=t.tiles[o],n=ws12.createControl(i,e),n&&t.dom.inner.appendChild(n);t._recalculateHeight()}return t._layoutTiles=function(){var t;for(0==this._is3Columns?(this.matrix=[],this.matrix.push([0,0,0,0])):(this.matrix=[],this.matrix.push([0,0,0])),t=0;this.tiles.length>t;t++)this._positionTile(this.tiles[t]);this._recalculateHeight()},t._layoutTiles=t._layoutTiles.bind(t),t._onresize=function(){1==this._is3Columns&&this.dom.offsetWidth>=this._thresholdWidth?this._layoutTiles():0==this._is3Columns&&this.dom.offsetWidth<this._thresholdWidth&&this._layoutTiles()},t._onresize=t._onresize.bind(t),t._onshow=function(){this._is3Columns=this.dom.offsetWidth<this._thresholdWidth,this._layoutTiles(),this.dom.style.visibility="visible"},t._onshow=t._onshow.bind(t),t.dom}function ws12_TileIdle(t,e){return t.style=void 0,ws12_CoreTileDonutChart.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-idle-chart"),t._calculateData=function(){var t;
if(void 0!=this.value){var e;switch(0>this.value&&(this.value=0),this.value>100&&(this.value=100),!0){case this.value>=70:e=1==ws12.config.inHeadUnit?ws12.config.brandColor:ws12.color_GREAT;break;case this.value>=50:e=1==ws12.config.inHeadUnit?ws12.config.brandColor:ws12.color_GOOD;break;default:e=1==ws12.config.inHeadUnit?ws12.config.brandColor:ws12.color_OK}t=[{value:this.value,color:e},{value:100-this.value,color:1==ws12.config.inHeadUnit?ws12.color_DARK:ws12.color_LIGHT}]}return t},t._calculateData=t._calculateData.bind(t),t._providerUpdate=function(t){this.value=void 0!=t?t.value:0;var e=this._calculateData();void 0!=e&&(this._setData(e),this._setCaption('<span class="tall">'+this.value+"%</span> spent moving")),this.showContent(!0)},t._providerUpdate=t._providerUpdate.bind(t),void 0==t.provider&&t._providerUpdate({value:t.value}),t.dom}function ws12_TileIdleDetails(t,e){return t.style=ws12.Tile.WIDE,ws12_CoreTile.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-idle-details"),t.dom.caption=document.createElement("div"),ws12.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t.dom.caption.textContent="Time Stuck In Traffic (mins)",t.dom.canvas=document.createElement("canvas"),ws12.addClass(t.dom.canvas,"chart"),t.dom.canvas.height=190,t.dom.canvas.width=490,t.dom.contentDiv.appendChild(t.dom.canvas),t.dom.ctx=t.dom.canvas.getContext("2d"),t.dom.chart=new Chart(t.dom.ctx),t._providerUpdate=function(t){void 0!=t?(this.data=t.data,this.labels=t.labels):(this.data=void 0,this.labels=void 0);var e=1==ws12.config.inHeadUnit?ws12.config.brandColor:ws12.color_OK,o=parseInt(ws12._cutHex(e).substring(0,2),16),i=parseInt(ws12._cutHex(e).substring(2,4),16),n=parseInt(ws12._cutHex(e).substring(4,6),16),s={labels:this.labels,datasets:[{fillColor:"rgba("+o+","+i+","+n+",0.5)",strokeColor:"rgba("+o+","+i+","+n+",1)",data:this.data}]};this.dom.chart.Bar(s,{scaleShowGridLines:!0,showTooltips:!1,scaleFontColor:ws12.config.tileFontColor}),this.showContent(!0)},t._providerUpdate=t._providerUpdate.bind(t),void 0==t.provider&&t._providerUpdate({data:t.data,labels:t.labels}),t.dom}function ws12_TileMPG(t,e){return t.style=void 0,ws12_CoreTileDonutChart.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-mpg-chart"),t._calculateData=function(){var t;if(void 0!=this.max&&void 0!=this.value){var e,o;switch(0>this.value&&(this.value=0),o=this.value>this.max?100:Math.ceil(100*(this.value/this.max)),!0){case o>90:e=1==ws12.config.inHeadUnit?ws12.config.brandColor:ws12.color_GREAT;break;case o>50:e=1==ws12.config.inHeadUnit?ws12.config.brandColor:ws12.color_GOOD;break;default:e=1==ws12.config.inHeadUnit?ws12.config.brandColor:ws12.color_OK}t=[{value:o,color:e},{value:100-o,color:1==ws12.config.inHeadUnit?ws12.color_DARK:ws12.color_LIGHT}]}return t},t._calculateData=t._calculateData.bind(t),t._providerUpdate=function(t){void 0!=t?(this.value=t.value,this.max=t.max,this.abbreviation=t.abbreviation):(this.value=0,this.max=0,this.abbreviation="MPG");var e=this._calculateData();void 0!=e&&(this._setData(e),this._setCaption('<span class="tall">'+this.value+"</span> "+this.abbreviation)),this.showContent(!0)},t._providerUpdate=t._providerUpdate.bind(t),void 0==t.provider&&t._providerUpdate({value:t.value,max:t.max,abbreviation:t.abbreviation}),t.dom}function ws12_TileProfile(t,e){t.style=ws12.Tile.TALL,ws12_CoreTile.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-profile");var o="#FDBF2F";return t.dom.wedge=document.createElement("div"),ws12.addClass(t.dom.wedge,"wedge"),t.dom.contentDiv.appendChild(t.dom.wedge),t.dom.wedge.style.backgroundColor=1==ws12.config.inHeadUnit?ws12.config.brandColor:o,t.dom.vehicle=document.createElement("div"),ws12.addClass(t.dom.vehicle,"vehicle"),t.dom.contentDiv.appendChild(t.dom.vehicle),t.dom.vehicle.image=document.createElement("div"),ws12.addClass(t.dom.vehicle.image,"vehicle-image"),t.dom.vehicle.appendChild(t.dom.vehicle.image),t.dom.vehicle.overlay=document.createElement("div"),ws12.addClass(t.dom.vehicle.overlay,"vehicle-overlay"),t.dom.vehicle.image.appendChild(t.dom.vehicle.overlay),t.dom.userName=document.createElement("div"),ws12.addClass(t.dom.userName,"name"),t.dom.vehicle.appendChild(t.dom.userName),t._formatNumber=function(t){if(void 0==t)return 0;var e,o;switch(!0){case t>=1e6:o=(t/1e6).toFixed(1),0==o%1&&(o=Math.floor(o)),e=o+"M";break;case t>=1e4:o=(t/1e3).toFixed(1),0==o%1&&(o=Math.floor(o)),e=o+"K";break;case t>=1e3:e=""+t,e=e.slice(0,1)+","+e.slice(1,e.length);break;case 1e3>t:e=t;break;default:e=t}return e},t._formatNumber=t._formatNumber.bind(t),t.dom.stats=document.createElement("div"),ws12.addClass(t.dom.stats,"stats"),t.dom.contentDiv.appendChild(t.dom.stats),1==ws12.config.inHeadUnit&&(t.dom.stats.style.borderColor=ws12.config.brandColor),t.dom.score=document.createElement("div"),ws12.addClass(t.dom.score,"box"),t.dom.stats.appendChild(t.dom.score),t.dom.score.label=document.createElement("div"),ws12.addClass(t.dom.score.label,"label"),t.dom.score.appendChild(t.dom.score.label),t.dom.score.label.textContent="SCORE",t.dom.score.number=document.createElement("div"),ws12.addClass(t.dom.score.number,"number"),t.dom.score.appendChild(t.dom.score.number),1==ws12.config.inHeadUnit?(t.dom.score.style.borderColor=ws12.config.brandColor,t.dom.score.number.style.color=ws12.config.brandColor):t.dom.score.number.style.color=o,t.dom.friends=document.createElement("div"),ws12.addClass(t.dom.friends,"box"),ws12.addClass(t.dom.friends,"right"),t.dom.stats.appendChild(t.dom.friends),t.dom.friends.label=document.createElement("div"),ws12.addClass(t.dom.friends.label,"label"),t.dom.friends.appendChild(t.dom.friends.label),t.dom.friends.label.textContent="FRIENDS",t.dom.friends.number=document.createElement("div"),ws12.addClass(t.dom.friends.number,"number"),t.dom.friends.appendChild(t.dom.friends.number),1==ws12.config.inHeadUnit?(t.dom.friends.style.borderColor=ws12.config.brandColor,t.dom.friends.number.style.color=ws12.config.brandColor):t.dom.friends.number.style.color=o,t.dom.groups=document.createElement("div"),ws12.addClass(t.dom.groups,"box"),ws12.addClass(t.dom.groups,"right"),t.dom.stats.appendChild(t.dom.groups),t.dom.groups.label=document.createElement("div"),ws12.addClass(t.dom.groups.label,"label"),t.dom.groups.appendChild(t.dom.groups.label),t.dom.groups.label.textContent="GROUPS",t.dom.groups.number=document.createElement("div"),ws12.addClass(t.dom.groups.number,"number"),t.dom.groups.appendChild(t.dom.groups.number),1==ws12.config.inHeadUnit?(t.dom.groups.style.borderColor=ws12.config.brandColor,t.dom.groups.number.style.color=ws12.config.brandColor):t.dom.groups.number.style.color=o,t.dom.avatar=document.createElement("div"),ws12.addClass(t.dom.avatar,"avatar"),t.dom.contentDiv.appendChild(t.dom.avatar),1==ws12.config.inHeadUnit&&(t.dom.avatar.style.borderColor=ws12.config.brandColor),t.dom.rankText=document.createElement("div"),ws12.addClass(t.dom.rankText,"rank-text"),t.dom.contentDiv.appendChild(t.dom.rankText),t.dom.rankText.textContent="Ranked",t.dom.rank=document.createElement("div"),ws12.addClass(t.dom.rank,"rank"),t.dom.contentDiv.appendChild(t.dom.rank),t.dom.rank.style.backgroundColor=1==ws12.config.inHeadUnit?ws12.config.brandColor:o,t.dom.findFriend=document.createElement("div"),ws12.addClass(t.dom.findFriend,"button"),ws12.addClass(t.dom.findFriend,"search"),t.dom.findFriend.textContent="Find a Friend",t.dom.contentDiv.appendChild(t.dom.findFriend),t.dom.findFriend.style.backgroundColor=1==ws12.config.inHeadUnit?ws12.config.brandColor:o,t.dom.findGroup=document.createElement("div"),ws12.addClass(t.dom.findGroup,"button"),ws12.addClass(t.dom.findGroup,"plus"),t.dom.findGroup.textContent="Join a Group",t.dom.contentDiv.appendChild(t.dom.findGroup),t.dom.findGroup.style.backgroundColor=1==ws12.config.inHeadUnit?ws12.config.brandColor:o,t._providerUpdate=function(t){void 0!=t?(this.backgroundImg=t.backgroundImg,this.avatar=t.avatar,this.userName=t.userName,this.stats=t.stats):(this.backgroundImg=void 0,this.avatar=void 0,this.userName=void 0,this.stats=void 0),this.backgroundImg?(this.loader=new Image,this.loader.model=this,this.loader.onload=function(){this.model.dom.vehicle.image.style.opacity="1.0",this.model.dom.vehicle.image.style.backgroundImage='url("'+this.model.backgroundImg+'")',this.model.loader=null},this.loader.src=this.backgroundImg):this.dom.vehicle.image.style.backgroundImage="",this.dom.userName.textContent=this.userName?this.userName:"",this.stats?(this.dom.score.number.textContent=this._formatNumber(this.stats.score),this.dom.friends.number.textContent=this._formatNumber(this.stats.friends),this.dom.groups.number.textContent=this._formatNumber(this.stats.groups),this.dom.rank.textContent=this.stats.rank,this.dom.rank.style.opacity="1.0"):(this.dom.score.number.textContent="0",this.dom.friends.number.textContent="0",this.dom.groups.number.textContent="0",this.dom.rank.textContent="1",this.dom.rank.style.opacity="1.0"),this.avatar&&(this.dom.avatar.style.backgroundImage='url("'+this.avatar+'")'),this.showContent(!0)},t._providerUpdate=t._providerUpdate.bind(t),void 0==t.provider&&t._providerUpdate({backgroundImg:t.backgroundImg,avatar:t.avatar,userName:t.userName,stats:t.stats}),t.dom}function ws12_TileRecord(t,e){return t.style=void 0,ws12_CoreTile.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-record"),t.dom.stage1=document.createElement("div"),ws12.addClass(t.dom.stage1,"stage-1"),t.dom.contentDiv.appendChild(t.dom.stage1),t.dom.recordButton=document.createElement("div"),t.dom.recordButton.model=t,ws12.addClass(t.dom.recordButton,"record-button"),t.dom.recordButton.style.backgroundColor=ws12.config.brandColor,t.dom.stage1.appendChild(t.dom.recordButton),t.dom.recordButton.textContent="Start",t.dom.recordButton.onclick=function(){var t=this.model;return ws12.playTouchSound(),t.onstartclick&&t.onstartclick(),t.countdown===!0?(t.dom.stage1.style.display="none",t.dom.stage2.style.display="inline",t._countDownNum=3,t._interval=window.setInterval(t._countDownInterval,1e3),t.oncountdown&&t.oncountdown(),void 0):(t.onrecord&&t.onrecord(),void 0)},t.dom.recordButton.ontouchstart=function(){this.style.opacity="0.7"},t.dom.recordButton.ontouchend=function(){this.style.opacity="1.0"},t.dom.recordButton.ontouchcancel=t.dom.recordButton.ontouchend,ws12.isMobileDevice()||(t.dom.recordButton.onmousedown=t.dom.recordButton.ontouchstart,t.dom.recordButton.onmouseup=t.dom.recordButton.ontouchend,t.dom.recordButton.onmouseleave=t.dom.recordButton.ontouchend),t.dom.captionDiv=document.createElement("div"),ws12.addClass(t.dom.captionDiv,"caption"),t.dom.stage1.appendChild(t.dom.captionDiv),t.caption&&(t.dom.captionDiv.textContent=t.caption),t.dom.stage2=document.createElement("div"),ws12.addClass(t.dom.stage2,"stage-2"),t.dom.contentDiv.appendChild(t.dom.stage2),t.dom.number=document.createElement("div"),ws12.addClass(t.dom.number,"number"),t.dom.stage2.appendChild(t.dom.number),t.dom.number.textContent="3",t._countDownInterval=function(){return this._countDownNum--,0===this._countDownNum?(window.clearInterval(this._interval),this._interval=void 0,this.dom.number.textContent="GO!",this.dom.number.style.backgroundColor=ws12.config.brandColor,ws12.addClass(this.dom.number,"animation"),this.onrecord&&this.onrecord(),void 0):(this.dom.number.textContent=this._countDownNum,this.oncountdown&&this.oncountdown(),void 0)},t._countDownInterval=t._countDownInterval.bind(t),t._providerUpdate=function(){void 0!=this._interval&&(window.clearInterval(this._interval),this._interval=void 0)},t._providerUpdate=t._providerUpdate.bind(t),t.reset=function(){void 0!=this._interval&&(window.clearInterval(this._interval),this._interval=void 0),this.dom.number.style.backgroundColor="",this.dom.number.textContent="3",ws12.removeClass(this.dom.number,"animation"),this.dom.stage2.style.display="none",this.dom.stage1.style.display=""},t.reset=t.reset.bind(t),t.dom}function ws12_TileTimer(t,e){return t.style=ws12.Tile.WIDE,ws12_CoreTile.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-timer"),t.dom.numbers=document.createElement("div"),ws12.addClass(t.dom.numbers,"numbers"),t.dom.contentDiv.appendChild(t.dom.numbers),t.dom.numbers.textContent="00:00:00",t._doInterval=function(){var e=new Date;this._milliseconds=e-this._startTime;var o,i=Math.floor(this._milliseconds/6e4),n=Math.floor(this._milliseconds/1e3)%60;o=(this._milliseconds/1e3).toFixed(2)-Math.floor(this._milliseconds/1e3),o=Math.floor(100*o),o=o>=100?0:o,i=i>=10?i:"0"+i,n=n>=10?n:"0"+n,o=o>=10?o:"0"+o,t.dom.numbers.textContent=i+":"+n+":"+o},t._doInterval=t._doInterval.bind(t),t.reset=function(){void 0!=this._interval&&(window.clearInterval(this._interval),this._milliseconds=0,this._interval=void 0),this.dom.numbers.textContent="00:00:00",this.onreset&&this.onreset()},t.reset=t.reset.bind(t),t.start=function(){void 0==this._interval&&(this._startTime=new Date,this._milliseconds=0,this._interval=window.setInterval(this._doInterval,10),this.onstart&&this.onstart())},t.start=t.start.bind(t),t.stop=function(){void 0!=this._interval&&(window.clearInterval(this._interval),this._interval=void 0,this.onstop&&this.onstop())},t.stop=t.stop.bind(t),t.getMilliseconds=function(){return this._milliseconds},t.getMilliseconds=t.getMilliseconds.bind(t),t.getSeconds=function(){return(this._milliseconds/1e3).toFixed(1)},t.getSeconds=t.getSeconds.bind(t),t.getMinutes=function(){return(this._milliseconds/6e4).toFixed(2)},t.getMinutes=t.getMinutes.bind(t),t._destroy=function(){void 0!=this._interval&&(window.clearInterval(this._interval),this._interval=void 0)},t._destroy=t._destroy.bind(t),t._onbeforepop=function(){this.stop()},t._onbeforepop=t._onbeforepop.bind(t),t.dom}function ws12_TileWeeksActivity(t,e){return t.style=ws12.Tile.WIDE,ws12_CoreTile.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-weeks-activity"),t.dom}function ws12_TileZeroToSixty(t,e){return t.style=void 0,ws12_CoreTileDonutChart.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-zero-to-sixty"),t._calculateData=function(){var t;if(void 0!=this.target&&void 0!=this.value){var e,o;switch(0>this.value&&(this.value=0),o=this.value<this.target?100:Math.ceil(100*(this.target/this.value)),!0){case o>90:e=1==ws12.config.inHeadUnit?ws12.config.brandColor:ws12.color_GREAT;break;case o>50:e=1==ws12.config.inHeadUnit?ws12.config.brandColor:ws12.color_GOOD;break;default:e=1==ws12.config.inHeadUnit?ws12.config.brandColor:ws12.color_OK}t=[{value:o,color:e},{value:100-o,color:1==ws12.config.inHeadUnit?ws12.color_DARK:ws12.color_LIGHT}]}return t},t._calculateData=t._calculateData.bind(t),t._providerUpdate=function(t){void 0!=t?(this.value=t.value,this.target=t.target,this.accent=t.accent):(this.value=0,this.target=0,this.accent=void 0);var e=this._calculateData();void 0!=e&&(this._setData(e),this._setCaption('<span class="tall">'+this.value+"</span>&nbsp;sec 0-60"),this._setAccent(this.accent)),this.showContent(!0)},t._providerUpdate=t._providerUpdate.bind(t),void 0==t.provider&&t._providerUpdate({value:t.value,target:t.target,accent:t.accent}),t.dom}function ws12_TileZeroToSixtyHistory(t,e){return t.style=ws12.Tile.WIDE,ws12_CoreTile.call(this,t,e),ws12.addClass(t.dom,"ws12-tile-zero-to-sixty-history"),t.dom.caption=document.createElement("div"),ws12.addClass(t.dom.caption,"caption"),t.dom.contentDiv.appendChild(t.dom.caption),t.dom.caption.textContent="Recorded 0-60 times (sec)",t.dom.canvas=document.createElement("canvas"),ws12.addClass(t.dom.canvas,"chart"),t.dom.canvas.height=190,t.dom.canvas.width=490,t.dom.contentDiv.appendChild(t.dom.canvas),t.dom.ctx=t.dom.canvas.getContext("2d"),t.dom.chart=new Chart(t.dom.ctx),t._providerUpdate=function(t){void 0!=t?(this.data=t.data,this.labels=t.labels):(this.data=void 0,this.labels=void 0);var e=1==ws12.config.inHeadUnit?ws12.config.brandColor:ws12.color_OK,o=parseInt(ws12._cutHex(e).substring(0,2),16),i=parseInt(ws12._cutHex(e).substring(2,4),16),n=parseInt(ws12._cutHex(e).substring(4,6),16),s={labels:this.labels,datasets:[{fillColor:"rgba("+o+","+i+","+n+",0.5)",strokeColor:"rgba("+o+","+i+","+n+",1)",data:this.data}]};this.dom.chart.Line(s,{scaleShowGridLines:!0,showTooltips:!1,scaleFontColor:ws12.config.tileFontColor}),this.showContent(!0)},t._providerUpdate=t._providerUpdate.bind(t),void 0==t.provider&&t._providerUpdate({data:t.data}),t.dom}function ws12_TitleBar(t,e){if(ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"ws12-title-bar"),t.dom.style.borderBottomColor=ws12.config.brandColor,t.dom.inner=document.createElement("div"),ws12.addClass(t.dom.inner,"inner-title"),t.dom.appendChild(t.dom.inner),t.icon&&(t.dom.inner.style.backgroundImage='url("'+t.icon+'")'),t.dom.captionDiv=document.createElement("div"),ws12.addClass(t.dom.captionDiv,"caption"),t.dom.inner.appendChild(t.dom.captionDiv),t.dom.captionDiv.innerHTML=t.caption,t.dom.menu=document.createElement("div"),ws12.addClass(t.dom.menu,"menu"),t.dom.inner.appendChild(t.dom.menu),t.menu){var o,i,n;for(o=0;t.menu.length>o;o++)i=t.menu[o],i.titleBar=t,i.component==ws12.MenuItem&&(n=ws12.createControl(i,e),n&&t.dom.menu.appendChild(n))}return t.setCaption=function(t){this.dom.captionDiv.innerHTML=t,this.caption=t},t.setCaption=t.setCaption.bind(t),t.setIcon=function(t){void 0==t?this.dom.inner.style.backgroundImage="":t!=this.icon&&(this.dom.inner.style.backgroundImage='url("'+t+'")',this.icon=t)},t.setIcon=t.setIcon.bind(t),t.dom}function ws12_WedgeTemperature(t,e){ws12_CoreWedgeScreen.call(this,t,e),ws12.addClass(t.dom,"ws12-wedge-temperature"),t._max=85,t._min=55,t.dom.box=document.createElement("div"),ws12.addClass(t.dom.box,"box"),t.dom.wedge.appendChild(t.dom.box);var o,i=t._degrees;return 1!=t._isRightToLeft&&(i="-"+i),t.dom.box.style["-webkit-transform"]="rotate("+i+"deg)",t._increaseTemperature=function(){this.temperature<this._max&&(this.setTemperature(this.temperature+1),this.onchange&&this.onchange())},t._increaseTemperature=t._increaseTemperature.bind(t),t._decreaseTemperature=function(){this.temperature>this._min&&(this.setTemperature(this.temperature-1),this.onchange&&this.onchange())},t._decreaseTemperature=t._decreaseTemperature.bind(t),t._upButton={direction:"up",onclick:t._increaseTemperature},o=new ws12_WedgeTemperatureButton(t._upButton,t),t.dom.box.appendChild(o),t._downButton={direction:"down",onclick:t._decreaseTemperature},o=new ws12_WedgeTemperatureButton(t._downButton,t),t.dom.box.appendChild(o),t.dom.temperature=document.createElement("div"),ws12.addClass(t.dom.temperature,"temperature"),t.dom.box.appendChild(t.dom.temperature),t.setTemperature=function(t){this.temperature=t,this.dom.temperature.textContent=t},t.setTemperature=t.setTemperature.bind(t),t.temperature&&t.setTemperature(t.temperature),t.dom}function ws12_WedgeTemperatureButton(t,e){return ws12_CoreComponent.call(this,t,e),ws12.addClass(t.dom,"button"),void 0!=t.direction?ws12.addClass(t.dom,t.direction):ws12.addClass(t.dom,"up"),t.dom.arrow=document.createElement("div"),ws12.addClass(t.dom.arrow,"arrow"),t.dom.appendChild(t.dom.arrow),t.dom.onclick=function(){ws12.playTouchSound(),this.model.onclick&&this.model.onclick()},t.dom.ontouchstart=function(){this.style.opacity="0.5"},t.dom.ontouchend=function(){this.style.opacity=""},t.dom.ontouchcancel=t.dom.ontouchend,ws12.isMobileDevice()||(t.dom.onmousedown=t.dom.ontouchstart,t.dom.onmouseup=t.dom.ontouchend,t.dom.onmouseleave=t.dom.ontouchend),t.dom}function ws12_WindowPane(t,e){if(ws12_CoreScreen.call(this,t,e),t){if(ws12.addClass(t.dom,"ws12-window-pane"),t.dom.style.width=t.container.dom.offsetWidth+"px",t.backCaption&&(t.dom.backBar=document.createElement("div"),ws12.addClass(t.dom.backBar,"back-bar"),ws12.addClass(t.dom,"has-back"),t.dom.backBar.style.borderBottomColor=ws12.config.brandColor,t.dom.appendChild(t.dom.backBar),t.dom.backCaption=document.createElement("span"),t.dom.backCaption.textContent=t.backCaption,t.dom.backCaption.model=t,ws12.addClass(t.dom.backCaption,"caption"),t.dom.backBar.appendChild(t.dom.backCaption),t.dom.backCaption.onclick=function(){ws12.playTouchSound(),this.model.container.pop()}),t.dom.contentDiv=document.createElement("div"),ws12.addClass(t.dom.contentDiv,"inner"),t.dom.appendChild(t.dom.contentDiv),t.content){var o,i,n;for(o=0;t.content.length>o;o++)i=t.content[o],n=ws12.createControl(i,t),n&&t.dom.contentDiv.appendChild(n)}return t._onwindowpaneresize=function(){this.dom.style.width=this.container.dom.offsetWidth+"px"},t._onwindowpaneresize=t._onwindowpaneresize.bind(t),t._initialize=function(){var t=this.container;t.screens.length>1&&(t.screens[t.screens.length-2].dom.style.visibility="hidden")},t._initialize=t._initialize.bind(t),t.dom}}var ws12={screens:[],config:{inHeadUnit:!1,brandColor:"#D94646",tileFontColor:"#747474",celsius:!1,audioManager:void 0},eventBroker:new SystemEventBroker,inScreenTransition:!1,isApple:navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1,ONSHOW:"onshow",ONHIDE:"onhide",ONLOAD:"onload",EventType:{ONSUBSCRIBE:"onsubscribe",ONUNSUBSCRIBE:"onunsubscribe",ONSPEEDCHANGE:"onspeedchange",ONFUELCHANGE:"onfuelchange",ONRPMCHANGE:"onrpmchange",ONDRIVERTEMPCHANGE:"ondrivertempchange",ONPASSENGERTEMPCHANGE:"onpassengertempchange"},color_LIGHT:"#F0F0F0",color_DARK:"#747474",color_OK:"#FAD60A",color_GOOD:"#FDBF2F",color_GREAT:"#A3D525",Browser:{},Map:{},MediaPlayer:{},Fans:{AUTO:0},TitleBar:{},Screen:{},WedgeScreen:{RIGHT:"right",LEFT:"left"},WedgeTemperature:{},HeadUnitChrome:{},TileGroup:{},Tile:{WIDE:"wide",TALL:"tall"},TileDonutChart:{},TileMPG:{},TileIdle:{},TileIdleDetails:{},TileFriends:{},TileWeeksActivity:{},TileBadge:{},TileProfile:{},TileAcceleration:{},TileBraking:{},TileFuel:{},TileDistance:{},TileZeroToSixty:{},TileZeroToSixtyHistory:{},TileRecord:{},TileTimer:{},MenuItem:{},DataProvider:{ERR_OFFLINE:-5e3,ERR_INVALID_JSON:-5001},Spinner:{LARGE:"large",MEDIUM:"medium",SMALL:"small",TINY:"tiny"},CircleMenu:{},SplitView:{},List:{},ListEvent:{},GenericListItem:{ONCLICK:"onclick"},PhoneLogListItem:{ONCLICK:"onclick",INCOMING:"incoming",OUTGOING:"outgoing",MISSED:"missed"},DialPad:{},TabbedPane:{},Tab:{},SegmentedControl:{},DockLayout:{TOP:"top",BOTTOM:"bottom"},init:function(t,e){void 0!=e&&(this.config.inHeadUnit=void 0!=e.inHeadUnit?e.inHeadUnit:this.config.inHeadUnit,this.config.brandColor=void 0!=e.brandColor?e.brandColor:this.config.brandColor,this.config.tileFontColor=void 0!=e.tileFontColor?e.tileFontColor:this.config.tileFontColor,this.config.audioManager=void 0!=e.audioManager?e.audioManager:this.config.audioManager),document.body.blockAllTapEvent=function(t){t.preventDefault(),t.stopPropagation()},document.body.blockAllTapEvent=document.body.blockAllTapEvent.bind(document.body),this.push(t),window.addEventListener("resize",function(){var t,e;for(t=0;ws12.screens.length>t;t++)e=ws12.screens[t],e._onresize&&e._onresize(),e.onresize&&e.onresize()},!1),this.isApple===!0&&FastClick.attach(document.body)},playTouchSound:function(){this.config.audioManager},isMobileDevice:function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|android|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t||ws12.isApple},createControl:function(t,e){if(void 0==t)throw'ws12.createControl: "control" is not defined';if(void 0==e)throw'ws12.createControl: "screen" is not defined';var o=void 0;switch(t.component){case ws12.DataProvider:o=new ws12_DataProvider(t,e);break;case ws12.TileGroup:o=new ws12_TileGroup(t,e);break;case ws12.TileDonutChart:o=new ws12_TileDonutChart(t,e);break;case ws12.TileMPG:o=new ws12_TileMPG(t,e);break;case ws12.TileIdle:o=new ws12_TileIdle(t,e);break;case ws12.TileIdleDetails:o=new ws12_TileIdleDetails(t,e);break;case ws12.TileFriends:o=new ws12_TileFriends(t,e);break;case ws12.TileWeeksActivity:o=new ws12_TileWeeksActivity(t,e);break;case ws12.TileBadge:o=new ws12_TileBadge(t,e);break;case ws12.TileProfile:o=new ws12_TileProfile(t,e);break;case ws12.TileAcceleration:o=new ws12_TileAcceleration(t,e);break;case ws12.TileBraking:o=new ws12_TileBraking(t,e);break;case ws12.TileFuel:o=new ws12_TileFuel(t,e);break;case ws12.TileDistance:o=new ws12_TileDistance(t,e);break;case ws12.TileZeroToSixty:o=new ws12_TileZeroToSixty(t,e);break;case ws12.TileZeroToSixtyHistory:o=new ws12_TileZeroToSixtyHistory(t,e);break;case ws12.TileRecord:o=new ws12_TileRecord(t,e);break;case ws12.TileTimer:o=new ws12_TileTimer(t,e);break;case ws12.MenuItem:o=new ws12_MenuItem(t,e);break;case ws12.Spinner:o=new ws12_Spinner(t,e);break;case ws12.CircleMenu:o=new ws12_CircleMenu(t,e);break;case ws12.Browser:o=new ws12_Browser(t,e);break;case ws12.SplitView:o=new ws12_SplitView(t,e);break;case ws12.List:o=new ws12_List(t,e);break;case ws12.DialPad:o=new ws12_DialPad(t,e);break;case ws12.TabbedPane:o=new ws12_TabbedPane(t,e);break;case ws12.Tab:o=new ws12_Tab(t,e);break;case ws12.SegmentedControl:o=new ws12_SegmentedControl(t,e);break;case ws12.DockLayout:o=new ws12_DockLayout(t,e);break;case ws12.Map:o=new ws12_Map(t,e);break;case ws12.MediaPlayer:o=new ws12_MediaPlayer(t,e)}return o},blockAllTapEvent:function(t){void 0!=t&&(t===!0?(document.body.addEventListener("click",document.body.blockAllTapEvent,!0),document.body.addEventListener("touchstart",document.body.blockAllTapEvent,!0)):t===!1&&(document.body.removeEventListener("click",document.body.blockAllTapEvent,!0),document.body.removeEventListener("touchstart",document.body.blockAllTapEvent,!0)))},push:function(t,e){if(ws12.inScreenTransition===!0)setTimeout(function(){ws12.push(t,e)},100);else{t=new t,ws12.blockAllTapEvent(!0),ws12.inScreenTransition=!0;var o;t.component==ws12.Screen?o=new ws12_Screen(t,e):t.component==ws12.HeadUnitChrome?o=new ws12_HeadUnitChrome(t,e):t.component==ws12.WedgeTemperature&&(o=new ws12_WedgeTemperature(t,e)),ws12.screens.push(t),o.style["z-index"]=ws12.screens.length+1,document.body.appendChild(o),1==t.disableAnimation&&t.initialize()}},pop:function(){if(ws12.inScreenTransition===!0)setTimeout(function(){ws12.pop()},100);else{ws12.blockAllTapEvent(!0),ws12.inScreenTransition=!0;var t=ws12.screens[ws12.screens.length-1];1==t.disableAnimation?ws12._removeScreen(t):t.dom.addEventListener("webkitAnimationEnd",function(){ws12._removeScreen(this.model)},!1)}},_removeScreen:function(t){t._onbeforepop&&t._onbeforepop(),t.dom.style.display="none",document.body.removeChild(t.dom),this.eventBroker.removeEventListenersForScreen(t),t.destroy(),ws12.inScreenTransition=!1,ws12.blockAllTapEvent(!1),ws12.screens.pop()},isValidJsonString:function(t){try{JSON.parse(t)}catch(e){return!1}return!0},hasClass:function(t,e){var o=RegExp("(^| )"+e+"( |$)");return o.test(t.className)},addClass:function(t,e){ws12.hasClass(t,e)||(t.className+=" "+e)},removeClass:function(t,e){var o=RegExp("(^| )"+e+"( |$)");t.className=t.className.replace(o," ").replace(/^\s+|\s+$/g,"")},_cutHex:function(t){return"#"==t.charAt(0)?t.substring(1,7):t},guid:function(){return ws12._guidS4()+ws12._guidS4()+"-"+ws12._guidS4()+"-"+ws12._guidS4()+"-"+ws12._guidS4()+"-"+ws12._guidS4()+ws12._guidS4()+ws12._guidS4()},_guidS4:function(){return(0|65536*(1+Math.random())).toString(16).substring(1)}};Function.prototype.bind=function(t){var e=this;return function(){return e.apply(t,arguments)}},ws12_BrowserButton.prototype=new ws12_CoreComponent,ws12_Browser.prototype=new ws12_CoreComponent,function(){"use strict";var t=this,e=t.Chart,o=function(t){return this.canvas=t.canvas,this.ctx=t,this.width=t.canvas.width,this.height=t.canvas.height,this.aspectRatio=this.width/this.height,i.retinaScale(this),this};o.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},o.types={};var i=o.helpers={},n=i.each=function(t,e,o){var i=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var n;for(n=0;t.length>n;n++)e.apply(o,[t[n],n].concat(i))}else for(var s in t)e.apply(o,[t[s],s].concat(i))},s=i.clone=function(t){var e={};return n(t,function(o,i){t.hasOwnProperty(i)&&(e[i]=o)}),e},a=i.extend=function(t){return n(Array.prototype.slice.call(arguments,1),function(e){n(e,function(o,i){e.hasOwnProperty(i)&&(t[i]=o)})}),t},r=i.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),a.apply(null,t)},d=i.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var o=0;t.length>o;o++)if(t[o]===e)return o;return-1},l=(i.where=function(t,e){var o=[];return i.each(t,function(t){e(t)&&o.push(t)}),o},i.findNextWhere=function(t,e,o){o||(o=-1);for(var i=o+1;t.length>i;i++){var n=t[i];if(e(n))return n}},i.findPreviousWhere=function(t,e,o){o||(o=t.length);for(var i=o-1;i>=0;i--){var n=t[i];if(e(n))return n}},i.inherits=function(t){var e=this,o=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=o};return i.prototype=e.prototype,o.prototype=new i,o.extend=l,t&&a(o.prototype,t),o.__super__=e.prototype,o}),h=i.noop=function(){},c=i.uid=function(){var t=0;return function(){return"chart-"+t++}}(),m=i.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)
},u=i.amd="function"==typeof define&&define.amd,p=i.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},w=i.max=function(t){return Math.max.apply(Math,t)},f=i.min=function(t){return Math.min.apply(Math,t)},v=(i.cap=function(t,e,o){if(p(e)){if(t>e)return e}else if(p(o)&&o>t)return o;return t},i.getDecimalPlaces=function(t){return 0!==t%1&&p(t)?(""+t).split(".")[1].length:0}),g=i.radians=function(t){return t*(Math.PI/180)},C=(i.getAngleFromPoint=function(t,e){var o=e.x-t.x,i=e.y-t.y,n=Math.sqrt(o*o+i*i),s=2*Math.PI+Math.atan2(i,o);return 0>o&&0>i&&(s+=2*Math.PI),{angle:s,distance:n}},i.aliasPixel=function(t){return 0===t%2?0:.5}),b=(i.splineCurve=function(t,e,o,i){var n=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),s=Math.sqrt(Math.pow(o.x-e.x,2)+Math.pow(o.y-e.y,2)),a=i*n/(n+s),r=i*s/(n+s);return{inner:{x:e.x-a*(o.x-t.x),y:e.y-a*(o.y-t.y)},outer:{x:e.x+r*(o.x-t.x),y:e.y+r*(o.y-t.y)}}},i.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),_=(i.calculateScaleRange=function(t,e,o,i,n){var s=2,a=Math.floor(e/(1.5*o)),r=s>=a,d=w(t),l=f(t);d===l&&(d+=.5,l>=.5&&!i?l-=.5:d+=.5);for(var h=Math.abs(d-l),c=b(h),m=Math.ceil(d/(1*Math.pow(10,c)))*Math.pow(10,c),u=i?0:Math.floor(l/(1*Math.pow(10,c)))*Math.pow(10,c),p=m-u,v=Math.pow(10,c),g=Math.round(p/v);(g>a||a>2*g)&&!r;)if(g>a)v*=2,g=Math.round(p/v),0!==g%1&&(r=!0);else if(n&&c>=0){if(0!==v/2%1)break;v/=2,g=Math.round(p/v)}else v/=2,g=Math.round(p/v);return r&&(g=s,v=p/g),{steps:g,stepValue:v,min:u,max:u+g*v}},i.template=function(t,e){function o(t,e){var o=/\W/.test(t)?Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):i[t]=i[t];return e?o(e):o}if(t instanceof Function)return t(e);var i={};return o(t,e)}),y=(i.generateLabels=function(t,e,o,i){var s=Array(e);return labelTemplateString&&n(s,function(e,n){s[n]=_(t,{value:o+i*(n+1)})}),s},i.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return 1>(t/=.5)?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return 1>(t/=.5)?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return 1>(t/=.5)?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return 1>(t/=.5)?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:1>(t/=.5)?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return 1>(t/=.5)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,o=0,i=1;return 0===t?0:1==(t/=1)?1:(o||(o=.3),Math.abs(1)>i?(i=1,e=o/4):e=o/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/o)))},easeOutElastic:function(t){var e=1.70158,o=0,i=1;return 0===t?0:1==(t/=1)?1:(o||(o=.3),Math.abs(1)>i?(i=1,e=o/4):e=o/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin(2*(1*t-e)*Math.PI/o)+1)},easeInOutElastic:function(t){var e=1.70158,o=0,i=1;return 0===t?0:2==(t/=.5)?1:(o||(o=.3*1.5),Math.abs(1)>i?(i=1,e=o/4):e=o/(2*Math.PI)*Math.asin(1/i),1>t?-.5*i*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/o):.5*i*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/o)+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return 1>(t/=.5)?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-y.easeOutBounce(1-t)},easeOutBounce:function(t){return 1/2.75>(t/=1)?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*y.easeInBounce(2*t):.5*y.easeOutBounce(2*t-1)+.5}}),k=i.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),x=(i.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),i.animationLoop=function(t,e,o,i,n,s){var a=0,r=y[o]||y.linear,d=function(){a++;var o=a/e,l=r(o);t.call(s,l,o,a),i.call(s,l,o),e>a?s.animationFrame=k(d):n.apply(s)};k(d)},i.getRelativePosition=function(t){var e,o,i=t.originalEvent||t,n=t.currentTarget||t.srcElement,s=n.getBoundingClientRect();return i.touches?(e=i.touches[0].clientX-s.left,o=i.touches[0].clientY-s.top):(e=i.clientX-s.left,o=i.clientY-s.top),{x:e,y:o}},i.addEvent=function(t,e,o){t.addEventListener?t.addEventListener(e,o):t.attachEvent?t.attachEvent("on"+e,o):t["on"+e]=o}),S=i.removeEvent=function(t,e,o){t.removeEventListener?t.removeEventListener(e,o,!1):t.detachEvent?t.detachEvent("on"+e,o):t["on"+e]=h},T=(i.bindEvents=function(t,e,o){t.events||(t.events={}),n(e,function(e){t.events[e]=function(){o.apply(t,arguments)},x(t.chart.canvas,e,t.events[e])})},i.unbindEvents=function(t,e){n(e,function(e,o){S(t.chart.canvas,o,e)})}),L=i.getMaximumWidth=function(t){var e=t.parentNode;return e.clientWidth},E=i.getMaximumHeight=function(t){var e=t.parentNode;return e.clientHeight},D=(i.getMaximumSize=i.getMaximumWidth,i.retinaScale=function(t){var e=t.ctx,o=t.canvas.width,i=t.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=o+"px",e.canvas.style.height=i+"px",e.canvas.height=i*window.devicePixelRatio,e.canvas.width=o*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio))}),I=i.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},B=i.fontString=function(t,e,o){return e+" "+t+"px "+o},P=i.longestText=function(t,e,o){t.font=e;var i=0;return n(o,function(e){var o=t.measureText(e).width;i=o>i?o:i}),i},F=i.drawRoundedRectangle=function(t,e,o,i,n,s){t.beginPath(),t.moveTo(e+s,o),t.lineTo(e+i-s,o),t.quadraticCurveTo(e+i,o,e+i,o+s),t.lineTo(e+i,o+n-s),t.quadraticCurveTo(e+i,o+n,e+i-s,o+n),t.lineTo(e+s,o+n),t.quadraticCurveTo(e,o+n,e,o+n-s),t.lineTo(e,o+s),t.quadraticCurveTo(e,o,e+s,o),t.closePath()};o.instances={},o.Type=function(t,e,i){this.options=e,this.chart=i,this.id=c(),o.instances[this.id]=this,e.responsive&&this.resize(),this.initialize.call(this,t)},a(o.Type.prototype,{initialize:function(){return this},clear:function(){return I(this.chart),this},stop:function(){return i.cancelAnimFrame.call(t,this.animationFrame),this},resize:function(t){this.stop();var e=this.chart.canvas,o=L(this.chart.canvas),i=this.options.maintainAspectRatio?o/this.chart.aspectRatio:E(this.chart.canvas);return e.width=this.chart.width=o,e.height=this.chart.height=i,D(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:h,render:function(t){return t&&this.reflow(),this.options.animation&&!t?i.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return _(this.options.legendTemplate,this)},destroy:function(){this.clear(),T(this,this.events);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,t.style.removeProperty?(t.style.removeProperty("width"),t.style.removeProperty("height")):(t.style.removeAttribute("width"),t.style.removeAttribute("height")),delete o.instances[this.id]},showTooltip:function(t,e){this.activeElements===void 0&&(this.activeElements=[]);var s=function(t){var e=!1;return t.length!==this.activeElements.length?e=!0:(n(t,function(t,o){t!==this.activeElements[o]&&(e=!0)},this),e)}.call(this,t);if(s||e){if(this.activeElements=t,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,r,l=this.datasets.length-1;l>=0&&(a=this.datasets[l].points||this.datasets[l].bars||this.datasets[l].segments,r=d(a,t[0]),-1===r);l--);var h=[],c=[],m=function(){var t,e,o,n,s,a=[],d=[],l=[];return i.each(this.datasets,function(e){t=e.points||e.bars||e.segments,t[r]&&t[r].hasValue()&&a.push(t[r])}),i.each(a,function(t){d.push(t.x),l.push(t.y),h.push(i.template(this.options.multiTooltipTemplate,t)),c.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),s=f(l),o=w(l),n=f(d),e=w(d),{x:n>this.chart.width/2?n:e,y:(s+o)/2}}.call(this,r);new o.MultiTooltip({x:m.x,y:m.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:h,legendColors:c,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else n(t,function(t){var e=t.tooltipPosition();new o.Tooltip({x:Math.round(e.x),y:Math.round(e.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:_(this.options.tooltipTemplate,t),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),o.Type.extend=function(t){var e=this,i=function(){return e.apply(this,arguments)};if(i.prototype=s(e.prototype),a(i.prototype,t),i.extend=o.Type.extend,t.name||e.prototype.name){var n=t.name||e.prototype.name,d=o.defaults[e.prototype.name]?s(o.defaults[e.prototype.name]):{};o.defaults[n]=a(d,t.defaults),o.types[n]=i,o.prototype[n]=function(t,e){var s=r(o.defaults.global,o.defaults[n],e||{});return new i(t,s,this)}}else m("Name not provided for this chart, so it hasn't been registered");return e},o.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(o.Element.prototype,{initialize:function(){},restore:function(t){return t?n(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=s(this),delete this._saved._saved,this},update:function(t){return n(t,function(t,e){this._saved[e]=this[e],this[e]=t},this),this},transition:function(t,e){return n(t,function(t,o){this[o]=(t-this._saved[o])*e+this._saved[o]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return p(this.value)}}),o.Element.extend=l,o.Point=o.Element.extend({display:!0,inRange:function(t,e){var o=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(e-this.y,2)<Math.pow(o,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),o.Arc=o.Element.extend({inRange:function(t,e){var o=i.getAngleFromPoint(this,{x:t,y:e}),n=o.angle>=this.startAngle&&o.angle<=this.endAngle,s=o.distance>=this.innerRadius&&o.distance<=this.outerRadius;return n&&s},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,e=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*e,y:this.y+Math.sin(t)*e}},draw:function(){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),o.Rectangle=o.Element.extend({draw:function(){var t=this.ctx,e=this.width/2,o=this.x-e,i=this.x+e,n=this.base-(this.base-this.y),s=this.strokeWidth/2;this.showStroke&&(o+=s,i-=s,n+=s),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(o,this.base),t.lineTo(o,n),t.lineTo(i,n),t.lineTo(i,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,e){return t>=this.x-this.width/2&&this.x+this.width/2>=t&&e>=this.y&&this.base>=e}}),o.Tooltip=o.Element.extend({draw:function(){var t=this.chart.ctx;t.font=B(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var e=this.caretPadding=2,o=t.measureText(this.text).width+2*this.xPadding,i=this.fontSize+2*this.yPadding,n=i+this.caretHeight+e;this.x+o/2>this.chart.width?this.xAlign="left":0>this.x-o/2&&(this.xAlign="right"),0>this.y-n&&(this.yAlign="below");var s=this.x-o/2,a=this.y-n;if(t.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-e),t.lineTo(this.x+this.caretHeight,this.y-(e+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(e+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+e+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+e),t.lineTo(this.x+this.caretHeight,this.y+e+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+e+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":s=this.x-o+(this.cornerRadius+this.caretHeight);break;case"right":s=this.x-(this.cornerRadius+this.caretHeight)}F(t,s,a,o,i,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,s+o/2,a+i/2)}}}),o.MultiTooltip=o.Element.extend({initialize:function(){this.font=B(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=B(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,e=P(this.ctx,this.font,this.labels)+this.fontSize+3,o=w([e,t]);this.width=o+2*this.xPadding;var i=this.height/2;0>this.y-i?this.y=i:this.y+i>this.chart.height&&(this.y=this.chart.height-i),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var e=this.y-this.height/2+this.yPadding,o=t-1;return 0===t?e+this.titleFontSize/2:e+(1.5*this.fontSize*o+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{F(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,i.each(this.labels,function(e,o){t.fillStyle=this.textColor,t.fillText(e,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(o+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(o+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[o].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(o+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),o.Scale=o.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),e=0;this.steps>=e;e++)this.yLabels.push(_(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?P(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,e=this.endPoint-this.startPoint;for(this.calculateYRange(e),this.buildYLabels(),this.calculateXLabelRotation();e>this.endPoint-this.startPoint;)e=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(e),this.buildYLabels(),this.yLabelWidth>t&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,e,o=this.ctx.measureText(this.xLabels[0]).width,i=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=i/2+3,this.xScalePaddingLeft=o/2>this.yLabelWidth+10?o/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var n,s=P(this.ctx,this.font,this.xLabels);this.xLabelWidth=s;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&90>=this.xLabelRotation&&this.xLabelRotation>0;)n=Math.cos(g(this.xLabelRotation)),t=n*o,e=n*i,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*s;this.xLabelRotation>0&&(this.endPoint-=Math.sin(g(this.xLabelRotation))*s+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:h,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var e=this.drawingArea()/(this.min-this.max);return this.endPoint-e*(t-this.min)},calculateX:function(t){var e=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),o=e/(this.valuesCount-(this.offsetGridLines?0:1)),i=o*t+this.xScalePaddingLeft;return this.offsetGridLines&&(i+=o/2),Math.round(i)},update:function(t){i.extend(this,t),this.fit()},draw:function(){var t=this.ctx,e=(this.endPoint-this.startPoint)/this.steps,o=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,n(this.yLabels,function(n,s){var a=this.endPoint-e*s,r=Math.round(a),d=this.showHorizontalLines;t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(n,o-10,a),0!==s||d||(d=!0),d&&t.beginPath(),s>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),r+=i.aliasPixel(t.lineWidth),d&&(t.moveTo(o,r),t.lineTo(this.width,r),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(o-5,r),t.lineTo(o,r),t.stroke(),t.closePath()},this),n(this.xLabels,function(e,o){var i=this.calculateX(o)+C(this.lineWidth),n=this.calculateX(o-(this.offsetGridLines?.5:0))+C(this.lineWidth),s=this.xLabelRotation>0,a=this.showVerticalLines;0!==o||a||(a=!0),a&&t.beginPath(),o>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),a&&(t.moveTo(n,this.endPoint),t.lineTo(n,this.startPoint-3),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n,this.endPoint),t.lineTo(n,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(i,s?this.endPoint+12:this.endPoint+8),t.rotate(-1*g(this.xLabelRotation)),t.font=this.font,t.textAlign=s?"right":"center",t.textBaseline=s?"middle":"top",t.fillText(e,0,0),t.restore()},this))}}),o.RadialScale=o.Element.extend({initialize:function(){this.size=f([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var e=this.drawingArea/(this.max-this.min);return(t-this.min)*e},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),e=0;this.steps>=e;e++)this.yLabels.push(_(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,e,o,i,n,s,a,r,d,l,h,c,m=f([this.height/2-this.pointLabelFontSize-5,this.width/2]),u=this.width,w=0;for(this.ctx.font=B(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e=0;this.valuesCount>e;e++)t=this.getPointPosition(e,m),o=this.ctx.measureText(_(this.templateString,{value:this.labels[e]})).width+5,0===e||e===this.valuesCount/2?(i=o/2,t.x+i>u&&(u=t.x+i,n=e),w>t.x-i&&(w=t.x-i,a=e)):this.valuesCount/2>e?t.x+o>u&&(u=t.x+o,n=e):e>this.valuesCount/2&&w>t.x-o&&(w=t.x-o,a=e);d=w,l=Math.ceil(u-this.width),s=this.getIndexAngle(n),r=this.getIndexAngle(a),h=l/Math.sin(s+Math.PI/2),c=d/Math.sin(r+Math.PI/2),h=p(h)?h:0,c=p(c)?c:0,this.drawingArea=m-(c+h)/2,this.setCenterPoint(c,h)},setCenterPoint:function(t,e){var o=this.width-e-this.drawingArea,i=t+this.drawingArea;this.xCenter=(i+o)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var e=2*Math.PI/this.valuesCount;return t*e-Math.PI/2},getPointPosition:function(t,e){var o=this.getIndexAngle(t);return{x:Math.cos(o)*e+this.xCenter,y:Math.sin(o)*e+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(n(this.yLabels,function(e,o){if(o>0){var i,n=o*(this.drawingArea/this.steps),s=this.yCenter-n;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;this.valuesCount>a;a++)i=this.getPointPosition(a,this.calculateCenterOffset(this.min+o*this.stepValue)),0===a?t.moveTo(i.x,i.y):t.lineTo(i.x,i.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=B(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var r=t.measureText(e).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-r/2-this.backdropPaddingX,s-this.fontSize/2-this.backdropPaddingY,r+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(e,this.xCenter,s)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var e=this.valuesCount-1;e>=0;e--){if(this.angleLineWidth>0){var o=this.getPointPosition(e,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(o.x,o.y),t.stroke(),t.closePath()}var i=this.getPointPosition(e,this.calculateCenterOffset(this.max)+5);t.font=B(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var s=this.labels.length,a=this.labels.length/2,r=a/2,d=r>e||e>s-r,l=e===r||e===s-r;t.textAlign=0===e?"center":e===a?"center":a>e?"left":"right",t.textBaseline=l?"middle":d?"bottom":"top",t.fillText(this.labels[e],i.x,i.y)}}}}}),i.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){n(o.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),u?define(function(){return o}):"object"==typeof module&&module.exports&&(module.exports=o),t.Chart=o,o.noConflict=function(){return t.Chart=e,o}}.call(this),function(){"use strict";var t=this,e=t.Chart,o=e.helpers,i={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Bar",defaults:i,initialize:function(t){var i=this.options;this.ScaleClass=e.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,e,o){var n=this.calculateBaseWidth(),s=this.calculateX(o)-n/2,a=this.calculateBarWidth(t);return s+a*e+e*i.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*i.barValueSpacing},calculateBarWidth:function(t){var e=this.calculateBaseWidth()-(t-1)*i.barDatasetSpacing;return e/t}}),this.datasets=[],this.options.showTooltips&&o.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),o.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),this.BarClass=e.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),o.each(t.datasets,function(e){var i={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,bars:[]};this.datasets.push(i),o.each(e.data,function(o,n){i.bars.push(new this.BarClass({value:o,label:t.labels[n],datasetLabel:e.label,strokeColor:e.strokeColor,fillColor:e.fillColor,highlightFill:e.highlightFill||e.fillColor,highlightStroke:e.highlightStroke||e.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,e,i){o.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,i,e),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),o.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){o.each(this.datasets,function(e,i){o.each(e.bars,t,this,i)},this)},getBarsAtEvent:function(t){for(var e,i=[],n=o.getRelativePosition(t),s=function(t){i.push(t.bars[e])},a=0;this.datasets.length>a;a++)for(e=0;this.datasets[a].bars.length>e;e++)if(this.datasets[a].bars[e].inRange(n.x,n.y))return o.each(this.datasets,s),i;return i},buildScale:function(t){var e=this,i=function(){var t=[];return e.eachBars(function(e){t.push(e.value)}),t},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=o.calculateScaleRange(i(),t,this.fontSize,this.beginAtZero,this.integersOnly);o.extend(this,e)},xLabels:t,font:o.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&o.extend(n,{calculateYRange:o.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(t,e){o.each(t,function(t,o){this.datasets[o].bars.push(new this.BarClass({value:t,label:e,x:this.scale.calculateBarX(this.datasets.length,o,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[o].strokeColor,fillColor:this.datasets[o].fillColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),o.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){o.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=o.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear(),this.chart.ctx,this.scale.draw(e),o.each(this.datasets,function(t,i){o.each(t.bars,function(t,o){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,i,o),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},e).draw())},this)},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,o=e.helpers,i={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Doughnut",defaults:i,initialize:function(t){this.segments=[],this.outerRadius=(o.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=e.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&o.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];o.each(this.segments,function(t){t.restore(["fillColor"])}),o.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.calculateTotal(t),o.each(t,function(t,e){this.addData(t,e,!0)},this),this.render()},getSegmentsAtEvent:function(t){var e=[],i=o.getRelativePosition(t);return o.each(this.segments,function(t){t.inRange(i.x,i.y)&&e.push(t)},this),e},addData:function(t,e,o){var i=e||this.segments.length;this.segments.splice(i,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),o||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(t/this.total)},calculateTotal:function(t){this.total=0,o.each(t,function(t){this.total+=t.value},this)},update:function(){this.calculateTotal(this.segments),o.each(this.activeElements,function(t){t.restore(["fillColor"])}),o.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var e=o.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},reflow:function(){o.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(o.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,o.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})
},this)},draw:function(t){var e=t?t:1;this.clear(),o.each(this.segments,function(t,o){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},e),t.endAngle=t.startAngle+t.circumference,t.draw(),0===o&&(t.startAngle=1.5*Math.PI),this.segments.length-1>o&&(this.segments[o+1].startAngle=t.endAngle)},this)}}),e.types.Doughnut.extend({name:"Pie",defaults:o.merge(i,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,e=t.Chart,o=e.helpers,i={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Line",defaults:i,initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&o.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),o.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),o.each(t.datasets,function(e){var i={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(i),o.each(e.data,function(o,n){i.points.push(new this.PointClass({value:o,label:t.labels[n],datasetLabel:e.label,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,e){o.extend(t,{x:this.scale.calculateX(e),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),o.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){o.each(this.datasets,function(e){o.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=[],i=o.getRelativePosition(t);return o.each(this.datasets,function(t){o.each(t.points,function(t){t.inRange(i.x,i.y)&&e.push(t)})},this),e},buildScale:function(t){var i=this,n=function(){var t=[];return i.eachPoints(function(e){t.push(e.value)}),t},s={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=o.calculateScaleRange(n(),t,this.fontSize,this.beginAtZero,this.integersOnly);o.extend(this,e)},xLabels:t,font:o.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&o.extend(s,{calculateYRange:o.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new e.Scale(s)},addData:function(t,e){o.each(t,function(t,o){this.datasets[o].points.push(new this.PointClass({value:t,label:e,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[o].pointStrokeColor,fillColor:this.datasets[o].pointColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),o.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=o.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear();var i=this.chart.ctx,n=function(t){return null!==t.value},s=function(t,e,i){return o.findNextWhere(e,n,i)||t},a=function(t,e,i){return o.findPreviousWhere(e,n,i)||t};this.scale.draw(e),o.each(this.datasets,function(t){var r=o.where(t.points,n);o.each(t.points,function(t,o){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(o)},e)},this),this.options.bezierCurve&&o.each(r,function(t,e){var i=e>0&&r.length-1>e?this.options.bezierCurveTension:0;t.controlPoints=o.splineCurve(a(t,r,e),t,s(t,r,e),i),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),i.lineWidth=this.options.datasetStrokeWidth,i.strokeStyle=t.strokeColor,i.beginPath(),o.each(r,function(t,e){if(0===e)i.moveTo(t.x,t.y);else if(this.options.bezierCurve){var o=a(t,r,e);i.bezierCurveTo(o.controlPoints.outer.x,o.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else i.lineTo(t.x,t.y)},this),i.stroke(),this.options.datasetFill&&r.length>0&&(i.lineTo(r[r.length-1].x,this.scale.endPoint),i.lineTo(r[0].x,this.scale.endPoint),i.fillStyle=t.fillColor,i.closePath(),i.fill()),o.each(r,function(t){t.draw()})},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,o=e.helpers,i={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"PolarArea",defaults:i,initialize:function(t){this.segments=[],this.SegmentArc=e.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),o.each(t,function(t,e){this.addData(t,e,!0)},this),this.options.showTooltips&&o.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];o.each(this.segments,function(t){t.restore(["fillColor"])}),o.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.render()},getSegmentsAtEvent:function(t){var e=[],i=o.getRelativePosition(t);return o.each(this.segments,function(t){t.inRange(i.x,i.y)&&e.push(t)},this),e},addData:function(t,e,o){var i=e||this.segments.length;this.segments.splice(i,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),o||(this.reflow(),this.update())},removeData:function(t){var e=o.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,o.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var e=[];o.each(t,function(t){e.push(t.value)});var i=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:o.calculateScaleRange(e,o.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);o.extend(this.scale,i,{size:o.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),o.each(this.segments,function(t){t.save()}),this.render()},reflow:function(){o.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),o.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),o.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var e=t||1;this.clear(),o.each(this.segments,function(t,o){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},e),t.endAngle=t.startAngle+t.circumference,0===o&&(t.startAngle=1.5*Math.PI),this.segments.length-1>o&&(this.segments[o+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,e=t.Chart,o=e.helpers;e.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&o.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),o.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),o.each(t.datasets,function(e){var i={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(i),o.each(e.data,function(o,n){var s;this.scale.animation||(s=this.scale.getPointPosition(n,this.scale.calculateCenterOffset(o))),i.points.push(new this.PointClass({value:o,label:t.labels[n],datasetLabel:e.label,x:this.options.animation?this.scale.xCenter:s.x,y:this.options.animation?this.scale.yCenter:s.y,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){o.each(this.datasets,function(e){o.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=o.getRelativePosition(t),i=o.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},e),n=2*Math.PI/this.scale.valuesCount,s=Math.round((i.angle-1.5*Math.PI)/n),a=[];return(s>=this.scale.valuesCount||0>s)&&(s=0),i.distance<=this.scale.drawingArea&&o.each(this.datasets,function(t){a.push(t.points[s])}),a},buildScale:function(t){this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var e=function(){var e=[];return o.each(t,function(t){t.data?e=e.concat(t.data):o.each(t.points,function(t){e.push(t.value)})}),e}(),i=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:o.calculateScaleRange(e,o.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);o.extend(this.scale,i)},addData:function(t,e){this.scale.valuesCount++,o.each(t,function(t,o){var i=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[o].points.push(new this.PointClass({value:t,label:e,x:i.x,y:i.y,strokeColor:this.datasets[o].pointStrokeColor,fillColor:this.datasets[o].pointColor}))},this),this.scale.labels.push(e),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),o.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){o.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:o.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var e=t||1,i=this.chart.ctx;this.clear(),this.scale.draw(),o.each(this.datasets,function(t){o.each(t.points,function(t,o){t.hasValue()&&t.transition(this.scale.getPointPosition(o,this.scale.calculateCenterOffset(t.value)),e)},this),i.lineWidth=this.options.datasetStrokeWidth,i.strokeStyle=t.strokeColor,i.beginPath(),o.each(t.points,function(t,e){0===e?i.moveTo(t.x,t.y):i.lineTo(t.x,t.y)},this),i.closePath(),i.stroke(),i.fillStyle=t.fillColor,i.fill(),o.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this),ws12_CircleMenu.prototype=new ws12_CoreComponent,ws12_CircleMenuItem.prototype=new ws12_CoreComponent,ws12_CoreScreen.prototype=new ws12_CoreComponent,ws12_CoreTile.prototype=new ws12_CoreComponent,ws12_CoreTileDonutChart.prototype=new ws12_CoreTile,ws12_CoreTileGauge.prototype=new ws12_CoreTile,ws12_CoreWedgeScreen.prototype=new ws12_CoreScreen,ws12_DialPadButton.prototype=new ws12_CoreComponent,ws12_DialPad.prototype=new ws12_CoreComponent,ws12_DockLayout.prototype=new ws12_CoreComponent,ws12_GenericListItem.prototype=new ws12_CoreComponent,ws12_Screen.prototype=new ws12_CoreScreen,ws12_DefrostButton.prototype=new ws12_CoreComponent,ws12_FansButton.prototype=new ws12_CoreComponent,ws12_HVACBar.prototype=new ws12_CoreComponent,ws12_NavigationBar.prototype=new ws12_CoreComponent,ws12_SeatButton.prototype=new ws12_CoreComponent,ws12_TemperatureButton.prototype=new ws12_CoreComponent,ws12_Window.prototype=new ws12_CoreComponent,ws12_List.prototype=new ws12_CoreComponent;var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var o,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],o=document.createEvent("MouseEvents"),o.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),o.forwardedTouchEvent=!0,t.dispatchEvent(o)},FastClick.prototype.determineEventType=function(t){"use strict";return deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(t){"use strict";var e;deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,o;if(e=t.fastClickScrollParent,!e||!e.contains(t)){o=t;do{if(o.scrollHeight>o.offsetHeight){e=o,t.fastClickScrollParent=o;break}o=o.parentElement}while(o)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,o,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),o=t.targetTouches[0],deviceIsIOS){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!deviceIsIOS4&&soloUI.isPhoneGap===!0){if(o.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=o.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=o.pageX,this.touchStartY=o.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),null!=e&&void 0!=e&&soloUI.addClass(e,"pressed"),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],o=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>o||Math.abs(e.pageY-this.touchStartY)>o?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return null!=this.targetElement&&void 0!=this.targetElement&&soloUI.removeClass(this.targetElement,"pressed"),this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,o,i,n,s,a=this.targetElement;if(null!=this.targetElement&&void 0!=this.targetElement&&soloUI.removeClass(this.targetElement,"pressed"),!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,o=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(s=t.changedTouches[0],a=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||a,a.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=a.tagName.toLowerCase(),"label"===i){if(e=this.findControl(a)){if(this.focus(a),deviceIsAndroid)return!1;a=e}}else if(this.needsFocus(a))return t.timeStamp-o>100||deviceIsIOS&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(a),this.sendClick(a,t),deviceIsIOS4&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(n=a.fastClickScrollParent,n&&n.fastClickLastScrollTop!==n.scrollTop)?!0:(this.needsClick(a)||(t.preventDefault(),this.sendClick(a,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e,o;if(window.ontouchstart===void 0)return!0;if(o=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(o>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction?!0:!1},FastClick.attach=function(t,e){"use strict";return new FastClick(t,e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,ws12_Browser.prototype=new ws12_CoreComponent,ws12_Browser.prototype=new ws12_CoreComponent,ws12_MenuItem.prototype=new ws12_CoreComponent,ws12_PhoneLogListItem.prototype=new ws12_CoreComponent,ws12_Screen.prototype=new ws12_CoreScreen,ws12_SegmentedControl.prototype=new ws12_CoreComponent,ws12_Spinner.prototype=new ws12_CoreComponent,ws12_SplitView.prototype=new ws12_CoreComponent,ws12_Tab.prototype=new ws12_CoreComponent,ws12_TabbedPane.prototype=new ws12_CoreComponent,ws12_TileAcceleration.prototype=new ws12_CoreTileGauge,ws12_TileBadge.prototype=new ws12_CoreTile,ws12_TileBraking.prototype=new ws12_CoreTileGauge,ws12_TileDistance.prototype=new ws12_CoreTile,ws12_TileFriends.prototype=new ws12_CoreTile,ws12_TileFuel.prototype=new ws12_CoreTile,ws12_TileGroup.prototype=new ws12_CoreComponent,ws12_TileIdle.prototype=new ws12_CoreTileDonutChart,ws12_TileIdleDetails.prototype=new ws12_CoreTile,ws12_TileMPG.prototype=new ws12_CoreTileDonutChart,ws12_TileProfile.prototype=new ws12_CoreTile,ws12_TileRecord.prototype=new ws12_CoreTile,ws12_TileTimer.prototype=new ws12_CoreTile,ws12_TileWeeksActivity.prototype=new ws12_CoreTile,ws12_TileZeroToSixty.prototype=new ws12_CoreTileDonutChart,ws12_TileZeroToSixtyHistory.prototype=new ws12_CoreTile,ws12_TitleBar.prototype=new ws12_CoreComponent,ws12_WedgeTemperature.prototype=new ws12_CoreWedgeScreen,ws12_WedgeTemperatureButton.prototype=new ws12_CoreComponent,ws12_WindowPane.prototype=new ws12_CoreScreen;