/* $system VERSION: 1.0.0.91*/

function AudioManager(){var e={_mediaSources:[new PlayerMediaSource]};return e._currentMediaSource=e._mediaSources[0],e._sounds={},0==$system.isClientDevice&&(e._sounds.BLIP=new Audio("sounds/blip.mp3"),e._sounds.HORN=new Audio("sounds/horn.mp3"),e._sounds.TOUCH=new Audio("sounds/Touch.ogg"),e._sounds.TONE0=new Audio("sounds/tones/0.wav"),e._sounds.TONE1=new Audio("sounds/tones/1.wav"),e._sounds.TONE2=new Audio("sounds/tones/2.wav"),e._sounds.TONE3=new Audio("sounds/tones/3.wav"),e._sounds.TONE4=new Audio("sounds/tones/4.wav"),e._sounds.TONE5=new Audio("sounds/tones/5.wav"),e._sounds.TONE6=new Audio("sounds/tones/6.wav"),e._sounds.TONE7=new Audio("sounds/tones/7.wav"),e._sounds.TONE8=new Audio("sounds/tones/8.wav"),e._sounds.TONE9=new Audio("sounds/tones/9.wav"),e._sounds.TONE_POUND=new Audio("sounds/tones/p.wav"),e._sounds.TONE_ASTERIK=new Audio("sounds/tones/s.wav")),e.playSoundEffect=function(e){if(1!=$system.isClientDevice)switch(e){case $system.SoundEffect.BLIP:this._sounds.BLIP.play();break;case $system.SoundEffect.HORN:this._sounds.HORN.play();break;case $system.SoundEffect.TOUCH:this._sounds.TOUCH.play();break;case $system.SoundEffect.TONE0:this._sounds.TONE0.play();break;case $system.SoundEffect.TONE1:this._sounds.TONE1.play();break;case $system.SoundEffect.TONE2:this._sounds.TONE2.play();break;case $system.SoundEffect.TONE3:this._sounds.TONE3.play();break;case $system.SoundEffect.TONE4:this._sounds.TONE4.play();break;case $system.SoundEffect.TONE5:this._sounds.TONE5.play();break;case $system.SoundEffect.TONE6:this._sounds.TONE6.play();break;case $system.SoundEffect.TONE7:this._sounds.TONE7.play();break;case $system.SoundEffect.TONE8:this._sounds.TONE8.play();break;case $system.SoundEffect.TONE9:this._sounds.TONE9.play();break;case $system.SoundEffect.TONE_POUND:this._sounds.TONE_POUND.play();break;case $system.SoundEffect.TONE_ASTERIK:this._sounds.TONE_ASTERIK.play()}},e.playSoundEffect=e.playSoundEffect.bind(e),e.getMediaSources=function(){return this._mediaSources},e.getMediaSources=e.getMediaSources.bind(e),e.getActiveMediaSource=function(){return this._currentMediaSource},e.getActiveMediaSource=e.getActiveMediaSource.bind(e),e}function ContactsManager(){var e={};return e.getContactList=function(e){$core._loadJSONFromUrl("data/data-contactList.json",e)},e.getContactList=e.getContactList.bind(e),e}function PhoneManager(){var e={};return e.getCallLog=function(e){$core._loadJSONFromUrl("data/data-call-list.json",e)},e.getCallLog=e.getCallLog.bind(e),e}function PlayerMediaSource(){var e={_player:new Audio,uid:"media.source.player",name:"iPhone",type:$system.MediaSourceType.PLAYER};return e._populateLibrary=function(e){this._library=e,this._library.index={albums:{},songs:{},artists:{},genres:{}};var s,n;for(s=0;e.albums.length>s;s++)n=e.albums[s],this._library.index.albums[n.uid]=n;for(s=0;e.songs.length>s;s++)n=e.songs[s],this._library.index.songs[n.uid]=n;for(s=0;e.artists.length>s;s++)n=e.artists[s],this._library.index.artists[n.uid]=n;for(s=0;e.genres.length>s;s++)n=e.genres[s],this._library.index.genres[n.uid]=n;e.currentSong&&void 0!=e.currentSong.uid&&(this._player.src=this._library.index.songs[e.currentSong.uid].path)},e._populateLibrary=e._populateLibrary.bind(e),$core._loadJSONFromUrl("data/data-mediaLibrary.json",e._populateLibrary),e.getAlbums=function(){var e,s,n,t,i,a,o=[];for(e=0;this._library.albums.length>e;e++)if(n=this._library.albums[e],i=this._library.index.artists[n.artistUid],t={uid:n.uid,name:n.name,year:n.year,albumArt:n.artwork,artistName:i.name,genre:this._library.index.genres[i.genreUid].name},0!=o.length){for(s=0;o.length>s;s++)if(a=o[s],t.name!=a.name||t.uid!=a.uid){if(t.name.toLowerCase()<=a.name.toLowerCase()){o.splice(s,0,t);break}if(s+1==o.length){o.push(t);break}}}else o.push(t);return o},e.getAlbums=e.getAlbums.bind(e),e.getMostPlayedAlbums=function(){var e,s,n,t,i=[];for(e=0;4>e;e++)s=this._library.albums[e],t=this._library.index.artists[s.artistUid],n={uid:s.uid,name:s.name,year:s.year,albumArt:s.artwork,artistName:t.name,genre:this._library.index.genres[t.genreUid].name},i.push(n);return i},e.getMostPlayedAlbums=e.getMostPlayedAlbums.bind(e),e.getCurrentSong=function(){var e=this._library.index,s=e.songs[this._library.currentSong.uid],n=e.albums[s.albumUid],t=e.artists[n.artistUid],i=e.genres[t.genreUid],a={uid:s.uid,name:s.name,duration:s.duration,albumName:n.name,artistName:t.name,albumArt:n.artwork,year:n.year,genre:i.name};return a},e.getCurrentSong=e.getCurrentSong.bind(e),e.load=function(e){if(void 0!=e&&null!=e){var s=this._library.index,n=s.songs[e.uid];n&&void 0!=n.path&&(this._player.src=n.path,this._player.play())}},e.load=e.load.bind(e),e.pause=function(){1!=this._player.paused&&this._player.pause()},e.pause=e.pause.bind(e),e.play=function(){void 0!=this._player.src&&this._player.play()},e.play=e.play.bind(e),e.isPaused=function(){return this._player.paused},e.isPaused=e.isPaused.bind(e),e}var $system={version:{major:1,minor:0,revision:0,build:1},_events:[],config:{theme:{rootClass:"ui-theme-dark bold-weight",color:"#D94646"},celsius:!1},init:function(e){this.isClientDevice=400>window.innerWidth,this.config.theme.rootClass=e.theme.rootClass?e.theme.rootClass:this.config.theme.rootClass,this.config.theme.color=e.theme.color?e.theme.color:this.config.theme.color,this.config.celsius=e.celsius?e.celsius:this.config.celsius,this.audio=new AudioManager(this.isClientDevice),this.contacts=new ContactsManager,this.phone=new PhoneManager},isCelsius:function(){return this.config.celsius},addEventListener:function(e,s,n){var t={eventType:e,callback:s,screen:n};this._events.push(t)},removeEventListener:function(e,s){var n,t;for(n=0;this._events.length>n;n++)if(t=this._events[n],t.eventType==e&&t.callback==s)return this._events.splice(n,1),void 0},removeEventListenersForScreen:function(e){var s,n;for(s=this._events.length-1;s>=0;s--){if(0===this._events.length)return;n=this._events[s],n&&n.screen==e&&this._events.splice(s,1)}}};$system.Color={TURQUOISE:"#1ABC9C",EMERALD:"#2ECC71",PETER_RIVER:"#3498DB",AMETHYST:"#AF7AC4",WET_ASPHAULT:"#34495E",GREEN_SEA:"#16A085",NEPHRITIS:"#27AE60",BELIZE_HOLE:"#2980B9",WISTERIA:"#8E44AD",MIDNIGHT_BLUE:"#2C3E50",SUN_FLOWER:"#F1C40F",CARROT:"#E67E22",ALIZARIN:"#D94646",CONCRETE:"#AAB7B7",ORANGE:"#F39C12",PUMPKIN:"#D35400",POMEGRANATE:"#C0392B",SILVER:"#BDC3C7",ASBESTOS:"#98A3A3"},$system.Album={},$system.CallLogEntry={},$system.CallLogEntryType={INCOMING:0,OUTGOING:1,MISSED:2},$system.Contact={},$system.EventType={ONSPEEDCHANGE:"onspeedchange",ONFUELCHANGE:"onfuelchange",ONRPMCHANGE:"onrpmchange",ONDRIVERTEMPCHANGE:"ondrivertempchange",ONPASSENGERTEMPCHANGE:"onpassengertempchange"},$system.MediaSource={getCurrentSong:function(){}},$system.MediaSourceType={PLAYER:0,AMFM:1,XM:2},$system.PhoneNumber={},$system.PhoneNumberType={HOME:0,WORK:1,MOBILE:2,OTHER:3},$system.Song={},$system.SoundEffect={BLIP:0,HORN:1,TOUCH:2,TONE0:3,TONE1:4,TONE2:5,TONE3:6,TONE4:7,TONE5:8,TONE6:9,TONE7:10,TONE8:11,TONE9:12,TONE_POUND:13,TONE_ASTERIK:14};